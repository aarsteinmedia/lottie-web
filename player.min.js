!function(t,e){!t||t.getElementById("livereloadscript")||((e=t.createElement("script")).async=1,e.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e))}(self.document),function(t){"use strict";let e,s=()=>"",i=()=>!("undefined"!=typeof window&&document),r=(e=0,()=>(e++,`${s()}__lottie_element_${e}`));var a,n,o,h,l,p,m,c,d,u,f,g=((u={}).Contain="xMidYMid meet",u.Cover="xMidYMid slice",u.Initial="none",u.None="xMinYMin slice",u),y={},v=(o=f?y:(f=1,!(a=self.document)||a.getElementById("livereloadscript")||((n=a.createElement("script")).async=1,n.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",n.id="livereloadscript",a.getElementsByTagName("head")[0].appendChild(n)),function(t){let e,s,i,r,a,n,o,h,l,p,m,c,d;class u{constructor(t,e,s,i){this.type=t,this.currentTime=e,this.totalTime=s,this.direction=i<0?-1:1}}class f{constructor(t,e){this.type=t,this.direction=e<0?-1:1}}class g{constructor(t,e,s,i){this.type=t,this.direction=s,this.currentTime=e,this.totalTime=i}}class y{constructor(t,e,s,i){this.type=t,this.currentLoop=s,this.totalLoops=e,this.direction=i<0?-1:1}}class v{constructor(t,e,s){this.type=t,this.firstFrame=e,this.totalFrames=s}}class b{constructor(t,e){this.type=t,this.target=e}}class _{constructor(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}}class x{constructor(t,e){this.type="configError",this.nativeError=t}}class w{addEventListener(t,e){return this._cbs[t]=this._cbs[t]??[],this._cbs[t].push(e),()=>{this.removeEventListener(t,e)}}removeEventListener(t,e){if(!e){this._cbs[t]=null;return}if(this._cbs[t]){let s=0,{length:i}=this._cbs[t];for(;s<i;)this._cbs[t][s]===e&&(this._cbs[t].splice(s,1),s--,i--),s++;0===this._cbs[t].length&&(this._cbs[t]=null)}}triggerEvent(t,e){if(!this._cbs[t])return;let{length:s}=this._cbs[t];for(let i=0;i<s;i++)this._cbs[t][i](e)}constructor(){this._cbs={}}}var E,C,S,k,P,M,A,T,D=((E={}).Float32="float32",E.Int16="int16",E.Int32="int32",E.Uint8="uint8",E.Uint8c="uint8c",E),I=((C={}).MouseModifier="ms",C.OffsetPathModifier="op",C.PuckerAndBloatModifier="pb",C.RepeaterModifier="rp",C.RoundCornersModifier="rd",C.TrimModifier="tm",C.ZigZagModifier="zz",C),F=((S={}).Contain="xMidYMid meet",S.Cover="xMidYMid slice",S.Initial="none",S.None="xMinYMin slice",S),L=((k={}).Canvas="canvas",k.HTML="html",k.SVG="svg",k),$=((P={}).Ellipse="el",P.Fill="fl",P.GradientFill="gf",P.GradientStroke="gs",P.Group="gr",P.Merge="mm",P.NoStyle="no",P.OffsetPath="op",P.Path="sh",P.PolygonStar="sr",P.PuckerBloat="pb",P.Rectangle="rc",P.Repeater="rp",P.RoundedCorners="rd",P.Stroke="st",P.Transform="tr",P.Trim="tm",P.Twist="tw",P.Unknown="ms",P.ZigZag="zz",P),N=((M={}).TransformEffect="transformEffect",M),R=((A={}).MultiDimensional="multidimensiional",A.Shape="shape",A.TextSelector="textSelector",A.Transform="transform",A.UniDimensional="unidimensional",A);let V={1:"butt",2:"round",3:"square"},O={1:"miter",2:"round",3:"bevel"},z={},B=(t,e)=>{z[t]=e},G=t=>{if(!z[t])throw Error("Could not get renderer");return z[t]},q=()=>{if(z.canvas)return L.Canvas;let t=Object.keys(z),{length:e}=t;for(let s=0;s<e;s++)if(z[t[s]])return t[s];return L.SVG},j={current:""},W=()=>j.current,H=(t,e)=>1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e)),Y=t=>1e-5>=Math.abs(t),U=()=>!("undefined"!=typeof window&&document),J=(t,e)=>H(t[0],e[0])&&H(t[1],e[1]),X=(s=0,()=>(s++,`${W()}__lottie_element_${s}`)),K=(t,e=0,s=100)=>{let i=e,r=s;if(i>r){let t=r;r=i,i=t}return Math.min(Math.max(t,i),r)},Z=()=>"undefined"!=typeof navigator,Q=t=>Symbol.iterator in Object(t)&&t.length>0,tt=t=>Q(t)&&"number"==typeof t[0],te=t=>!(!t||Q(t))&&"ShapePath"===t.constructor.name,ts=()=>!!Z()&&/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent),ti=(t,e,s)=>{let i,r=[];for(let t=0;t<256;t++)i=t.toString(16),r[t]=1===i.length?`0${i}`:i;let a=t,n=e,o=s;return t<0&&(a=0),e<0&&(n=0),s<0&&(o=0),`#${r[a]}${r[n]}${r[o]}`};class tr{constructor(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}addAudio(t){this.audios.push(t)}createAudio(t){return this.audioFactory?this.audioFactory(t):!U()&&"Howl"in window?new window.Howl({src:[t]}):{isPlaying:!1,play:()=>{this.isPlaying=!0},playing:()=>{throw Error(`${this.constructor.name}: Method playing is not implemented`)},rate:()=>{throw Error(`${this.constructor.name}: Method rate is not implemented`)},seek:()=>{this.isPlaying=!1},setVolume:()=>{throw Error(`${this.constructor.name}: Method setVolume is not implemented`)}}}getVolume(){return this._volume}mute(){this._isMuted=!0,this._updateVolume()}pause(){for(let t of this.audios)t.pause()}resume(){for(let t of this.audios)t.resume()}setAudioFactory(t){this.audioFactory=t}setRate(t){for(let e of this.audios)e.setRate(t)}setVolume(t){this._volume=t,this._updateVolume()}unmute(){this._isMuted=!1,this._updateVolume()}_updateVolume(){let{length:t}=this.audios;for(let e=0;e<t;e++)this.audios[e].volume(!this._isMuted*this._volume)}}function ta(t,e,s,i){let r,a=new XMLHttpRequest;try{a.responseType="json"}catch(t){}a.onreadystatechange=()=>{if(4===a.readyState){if(200===a.status)return void s(r=tn(a));try{r=tn(a),s(r)}catch(t){i?.(t)}}};try{a.open("GET",t,!0)}catch(s){a.open("GET",`${e}/${t}`,!0)}a.send()}function tn(t){let e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&e.includes("json")||t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}function to(t,e){let s,{length:i}=t;for(let r=0;r<i;r++)if("ks"in(s=t[r])&&!s.completed){if(s.completed=!0,s.hasMask){let t=s.masksProperties,{length:e}=t??[];for(let s=0;s<e;s++){let e=t?.[s].pt?.k;if(!e)continue;if(!Q(e)){tp(e);continue}let{length:i}=e;for(let t=0;t<i;t++){let s=e[t].e,i=e[t].s;s&&tp(s[0]),i&&tp(i[0])}}}switch(s.ty){case 0:s.layers=th(s.refId,e),to(s.layers,e);break;case 4:tl(s.shapes);break;case 5:s.t?.a?.length===0&&s.t.p}}}function th(t,e){if(!t||!e)return;let s=function(t,e){let s=0,{length:i}=e;for(;s<i;){if(e[s].id===t)return e[s];s++}return null}(t,e);return s?.layers?s.layers.__used?JSON.parse(JSON.stringify(s.layers)):(s.layers.__used=!0,s.layers):null}function tl(t=[]){let{length:e}=t;for(let s=e-1;s>=0;s--){if(t[s].ty===$.Group){tl(t[s].it);continue}if(t[s].ty===$.Path){let e=t[s].ks?.k;if(!Q(e)){tp(e);continue}let{length:i}=e;for(let t=0;t<i;t++){let s=e[t].e,i=e[t].s;s&&tp(s[0]),i&&tp(i[0])}}}}function tp(t){if(!t)return;let{length:e}=t.i;for(let s=0;s<e;s++)t.i[s][0]+=t.v[s][0],t.i[s][1]+=t.v[s][1],t.o[s][0]+=t.v[s][0],t.o[s][1]+=t.v[s][1]}function tm(t,e){let s=e?e.split(".").map(Number):[100,100,100];return t[0]>s[0]||!(s[0]>t[0])&&(t[1]>s[1]||!(s[1]>t[1])&&(t[2]>s[2]||!(s[2]>t[2])&&null))}let tc=(t,e,s)=>{let{length:i}=t;for(let r=0;r<i;r++)t[r].ty===s&&e(t[r])},td=(i=[4,4,14],r=t=>{let e=t.t?.d;t.t&&e&&(t.t.d={k:[{s:e,t:0}]})},t=>{if(!tm(i,t.v))return;tc(t.layers,r,5);let{length:e}=t.assets;for(let s=0;s<e;s++)t.assets[s].layers&&tc(t.assets[s].layers,r,5)}),tu=(a=[4,7,99],t=>{if(!t.chars||tm(a,t.v))return;let{length:e}=t.chars;for(let s=0;s<e;s++){let e=t.chars[s];e.data?.shapes&&(tl(e.data.shapes),e.data.ip=0,e.data.op=99999,e.data.st=0,e.data.sr=1,e.data.ks={a:{a:0,k:[0,0]},o:{a:0,k:100},p:{a:0,k:[0,0]},r:{a:0,k:0},s:{a:0,k:[100,100]}},t.chars[s].t||(e.data.shapes.push({ty:$.NoStyle}),e.data.shapes[0].it?.push({a:{a:0,k:[0,0]},o:{a:0,k:100},p:{a:0,k:[0,0]},r:{a:0,k:0},s:{a:0,k:[100,100]},sa:{a:0,k:0},sk:{a:0,k:0},ty:$.Transform})))}}),tf=(n=[5,7,15],o=t=>{let e=t.t?.p;e&&("number"==typeof e.a&&(e.a={a:0,k:e.a}),"number"==typeof e.p&&(e.p={a:0,k:e.p}),"number"==typeof e.r&&(e.r={a:0,k:e.r}))},t=>{if(!tm(n,t.v))return;tc(t.layers,o,5);let{length:e}=t.assets;for(let s=0;s<e;s++)t.assets[s].layers&&tc(t.assets[s].layers,o,5)}),tg=(h=[4,1,9],l=t=>{let{length:e}=t;for(let s=0;s<e;s++){if(t[s].ty===$.Group){l(t[s].it??[]);continue}if(t[s].ty!==$.Fill&&t[s].ty!==$.Stroke)continue;let e=t[s].c?.k;if(!e||"number"==typeof e)continue;if(Q(e)&&tt(e)){e[0]/=255,e[1]/=255,e[2]/=255,e[3]/=255;continue}let{length:i}=e;for(let t=0;t<i;t+=1)e[t].s[0]/=255,e[t].s[1]/=255,e[t].s[2]/=255,e[t].s[3]/=255,e[t].e[0]/=255,e[t].e[1]/=255,e[t].e[2]/=255,e[t].e[3]/=255}},p=t=>{let{length:e}=t;for(let s=0;s<e;s++)4===t[s].ty&&l(t[s].shapes)},t=>{if(!tm(h,t.v))return;p(t.layers);let{length:e}=t.assets;for(let s=0;s<e;s++)t.assets[s].layers&&p(t.assets[s].layers)}),ty=(m=[4,4,18],c=t=>{let{length:e}=t;for(let s=e-1;s>=0;s--){if(t[s].ty===$.Group){c(t[s].it??[]);continue}if(t[s].ty!==$.Path)continue;let e=t[s].ks?.k;if(!e)continue;let i=!!t[s].closed;if(!Q(e)){e.c=i;continue}let{length:r}=e;for(let t=0;t<r;t+=1){let s=e[t].e,r=e[t].s;s&&(s[0].c=i),r&&(r[0].c=i)}}},d=t=>{let e,{length:s}=t;for(let i=0;i<s;i++){if((e=t[i]).hasMask){let t=e.masksProperties,{length:s}=t??[];for(let e=0;e<s;e++){let s=t?.[e].pt?.k;if(!s)continue;let i=!!t[e].cl;if(!Q(s)){s.c=i;continue}let{length:r}=s;for(let t=0;t<r;t++){let e=s[t].e,r=s[t].s;e&&(e[0].c=i),r&&(r[0].c=i)}}}4===e.ty&&c(e.shapes)}},t=>{if(!tm(m,t.v))return;d(t.layers);let{length:e}=t.assets;for(let s=0;s<e;s++)t.assets[s].layers&&d(t.assets[s].layers)}),tv={checkChars:tu,checkColors:tg,checkPathProperties:tf,checkShapes:ty,completeData:function(t){t.__complete||(tg(t),td(t),tu(t),tf(t),ty(t),to(t.layers,t.assets),function(t,e){if(!t)return;let{length:s}=t;for(let i=0;i<s;i++){if(1!==t[i].t)continue;let{data:s}=t[i];s&&(s.layers=th(s.refId,e)),to(t[i].data?.layers??[],e)}}(t.chars,t.assets),t.__complete=!0)},completeLayers:to},tb={current:!1},t_=()=>tb.current,tx=1,tw,tE="Function not implemented.",tC={addEventListener:(t,e,s)=>{throw Error(tE)},dispatchEvent:t=>{throw Error(tE)},onerror:null,onmessage:t=>{throw Error("workerProxy: Method onmessage not implemented")},onmessageerror:null,postMessage:t=>{tw({data:t})},removeEventListener:(t,e,s)=>{throw Error(tE)},terminate:()=>{throw Error(tE)}},tS={postMessage:t=>{tC.onmessage&&tC.onmessage({AT_TARGET:2,bubbles:!1,BUBBLING_PHASE:3,cancelable:!1,cancelBubble:!1,CAPTURING_PHASE:1,composed:!1,composedPath:()=>{throw Error(tE)},currentTarget:null,data:t,defaultPrevented:!1,eventPhase:0,initEvent:(t,e,s)=>{throw Error(tE)},initMessageEvent:(t,e,s,i,r,a,n,o)=>{throw Error(tE)},isTrusted:!1,lastEventId:"",NONE:0,origin:"",ports:[],preventDefault:()=>{throw Error(tE)},returnValue:!1,source:null,srcElement:null,stopImmediatePropagation:()=>{throw Error(tE)},stopPropagation:()=>{throw Error(tE)},target:null,timeStamp:0,type:""})}},tk={};function tP(){e||((e=function(t){if(!U()&&t_()){let e=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"});return new Worker(URL.createObjectURL(e))}return tw=t,tC}(t=>{if(tS.dataManager=tS.dataManager??tv,"loadAnimation"===t.data.type)return void ta(t.data.path,t.data.fullPath,e=>{e&&tv.completeData(e),tS.postMessage({id:t.data.id,payload:e,status:"success"})},()=>{tS.postMessage({id:t.data.id,status:"error"})});if("complete"===t.data.type){let{animation:e,id:s}=t.data;tv.completeData(e),tS.postMessage({id:s,payload:e,status:"success"});return}"loadData"===t.data.type&&ta(t.data.path,t.data.fullPath,e=>{tS.postMessage({id:t.data.id,payload:e,status:"success"})},()=>{tS.postMessage({id:t.data.id,status:"error"})})})).onmessage=({data:t})=>{let{id:e,payload:s,status:i}=t,r=tk[e];if(tk[e]=null,"success"===i)return void r.onComplete(s);r.onError&&r.onError()})}function tM(t,e){tx++;let s=`processId_${tx}`;try{return tk[s]={onComplete:t,onError:e},s}catch(t){throw console.error("DataManager}:\n",t),Error("Could not create animation proccess")}}function tA(t,s,i){tP();let r=tM(s,i);e?.postMessage({fullPath:U()?t:window.location.origin+window.location.pathname,id:r,path:t,type:"loadData"})}function tT(t,s,i){tP();let r=tM(s,i);e?.postMessage({animation:t,id:r,type:"complete"})}let tD={interface:null,plugin:null},tI=t=>{tD.plugin=t},tF=()=>tD.plugin,tL=()=>tD.interface;class t${getComposition(t){let e=0,{length:s}=this.compositions;for(;e<s;){if(this.compositions[e].data&&this.compositions[e].data?.nm===t)return this.compositions[e].data?.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e++}return null}registerComposition(t){this.compositions.push(t)}constructor(){this.compositions=[],this.currentFrame=0}}let tN={current:!0},tR=t=>{tN.current=t},tV=()=>tN.current;function tO(t){return U()?null:document.createElement(t)}function tz(t){return U()?null:document.createElementNS("http://www.w3.org/2000/svg",t)}class tB{constructor(){this._imageLoaded=this.imageLoaded.bind(this),this._footageLoaded=this.footageLoaded.bind(this),this.testImageLoaded=this.testImageLoaded.bind(this),this.createFootageData=this.createFootageData.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[],this.proxyImage=this._createProxyImage()}createFootageData(t){let e={assetData:t,img:null};return tA(this.getAssetsPath(t,this.assetsPath,this.path),t=>{t&&(e.img=t),this._footageLoaded()},()=>{this._footageLoaded()}),e}createImageData(t){let e=this.getAssetsPath(t,this.assetsPath,this.path),s=tz("image"),i={assetData:t,img:s};return ts()?this.testImageLoaded(s):s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",()=>{this.proxyImage&&(i.img=this.proxyImage),this._imageLoaded()},!1),s.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this._elementHelper?.append?this._elementHelper.append(s):this._elementHelper?.appendChild(s),i}destroy(){this.imagesLoadedCb=null,this.images.length=0}footageLoaded(){this.loadedFootagesCount++,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}getAsset(t){let e=0,{length:s}=this.images;for(;e<s;){if(this.images[e].assetData===t)return this.images[e].img;e++}return null}imageLoaded(){this.loadedAssets++,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}loadAssets(t,e){this.imagesLoadedCb=e;let{length:s}=t;for(let e=0;e<s;e++)if(!t[e].layers){if((!t[e].t||"seq"===t[e].t)&&this._createImageData){this.totalImages++;let s=this._createImageData(t[e]);s&&this.images.push(s);continue}3===Number(t[e].t)&&(this.totalFootages++,this.images.push(this.createFootageData(t[e])))}}loadedFootages(){return this.totalFootages===this.loadedFootagesCount}loadedImages(){return this.totalImages===this.loadedAssets}setAssetsPath(t){this.assetsPath=t||""}setCacheType(t,e){t===L.SVG?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}setPath(t){this.path=t||""}_createProxyImage(){if(U())return null;let t=tO(L.Canvas);t.width=1,t.height=1;let e=t.getContext("2d");return e&&(e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1)),t}createImgData(t){let e=this.getAssetsPath(t,this.assetsPath,this.path),s=tO("img"),i={assetData:t,img:s};return s.crossOrigin="anonymous",s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",()=>{this.proxyImage&&(i.img=this.proxyImage),this._imageLoaded()},!1),s.src=e,i}getAssetsPath(t,e,s){if(t.e)return t.p||"";if(e){let s=t.p;return s?.indexOf("images/")!==-1&&(s=s?.split("/")[1]),`${e}${s||""}`}let i=s;return i+=t.u??"",i+=t.p??""}testImageLoaded(t){if(U())return;let e=0,s=setInterval(()=>{(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(s)),e++},50)}}let tG=t=>{let e=t.split("\r\n"),s={},{length:i}=e,r=0;for(let t=0;t<i;t++){let i=e[t].split(":");2===i.length&&(s[i[0]]=i[1].trim(),r++)}if(0===r)throw Error("Could not parse markers");return s};class tq extends w{constructor(){super(),this.wrapper=null,this.autoloadSegments=!1,this.onComplete=null,this.onDestroy=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onSegmentStart=null,this._cbs={},this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=60,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.frameModifier=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=X(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=tV(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=new t$,this.imagePreloader=new tB,this.audioController=new tr(void 0),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new u("drawnFrame",0,0,0),this.expressionsPlugin=tF()}adjustSegment(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")}advanceTime(t){if(this.isPaused||!this.isLoaded)return;let e=this.currentRawFrame+t*this.frameModifier,s=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount++,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(s=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&!0!==this.loop)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(s=!0,e=0)):this.setCurrentRawFrameValue(e),s&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}checkLoaded(){if(this.isLoaded||!this.renderer.globalData?.fontManager?.isLoaded||!this.imagePreloader?.loadedImages()&&this.renderer.rendererType===L.Canvas||!this.imagePreloader?.loadedFootages())return;this.isLoaded=!0;let t=tF();t?.initExpressions(this),this.renderer.initItems(),setTimeout(()=>{this.trigger("DOMLoaded")},0),this.gotoFrame(),this.autoplay&&this.play()}checkSegments(t){return this.segments.length>0&&(this.adjustSegment(this.segments.shift()??[0,0],t),!0)}configAnimation(t){try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor((this.animationData.op||1)-(this.animationData.ip||0)),this.firstFrame=Math.round(this.animationData.ip||0)),this.renderer.configAnimation(t),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,void 0!==this.animationData.fr&&(this.frameMult=this.animationData.fr/1e3),this.renderer.searchExtraCompositions(t.assets),this.markers=function(t){let e=[],{length:s}=t;for(let i=0;i<s;i++){if("duration"in t[i]){e.push(t[i]);continue}let s={duration:t[i].dr,time:t[i].tm};try{s.payload=JSON.parse(t[i].cm)}catch(e){try{s.payload=tG(t[i].cm)}catch(e){s.payload={name:t[i].cm}}}e.push(s)}return e}(t.markers??[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}}destroy(t){t&&this.name!==t||(this.renderer.destroy(),this.imagePreloader?.destroy(),this.trigger("destroy"),this._cbs={},this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)}getAssetData(t){let e=0,{length:s}=this.assets;for(;e<s;){if(t===this.assets[e].id)return this.assets[e];e++}return null}getAssetsPath(t){let e;if(!t)return"";if(t.e)e=t.p||"";else if(this.assetsPath){let s=t.p;s?.indexOf("images/")!==-1&&(s=s?.split("/")[1]),e=this.assetsPath+(s||"")}else e=this.path+(t.u??"")+(t.p??"");return e}getDuration(t){return t?this.totalFrames:this.totalFrames/this.frameRate}getMarkerData(t){for(let e=0;e<this.markers.length;e++)if(this.markers[e].payload?.name===t)return this.markers[e];return null}getPath(){return this.path}getVolume(){return this.audioController.getVolume()}goToAndPlay(t,e,s){if(s&&this.name!==s)return;let i=Number(t);if(isNaN(i)){let e=this.getMarkerData(t);e&&(e.duration?this.playSegments([e.time,e.time+e.duration],!0):this.goToAndStop(e.time,!0))}else this.goToAndStop(i,e,s);this.play()}goToAndStop(t,e,s){if(!s||this.name===s){if(isNaN(Number(t))){let e=this.getMarkerData(t);e&&this.goToAndStop(e.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}}gotoFrame(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")}hide(){this.renderer.hide()}imagesLoaded(){this.trigger("loaded_images"),this.checkLoaded()}includeLayers(t){this.animationData.op&&t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-(this.animationData.ip||0)));let{assets:e,layers:s}=this.animationData,i,{length:r}=s,a=t.layers,{length:n}=a;for(let t=0;t<n;t++)for(i=0;i<r;){if(s[i].id===a[t].id){s[i]=a[t];break}i++}for((t.chars||t.fonts)&&(this.renderer.globalData?.fontManager?.addChars(t.chars),this.renderer.globalData?.fontManager?.addFonts(t.fonts,this.renderer.globalData.defs)),r=t.assets.length,i=0;i<r;i++)e.push(t.assets[i]);this.animationData.__complete=!1,tT(this.animationData,this.onSegmentComplete)}loadNextSegment(){let{segments:t}=this.animationData;if(!t||0===t.length||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}let e=t.shift();this.timeCompleted=Number(e?.time)*this.frameRate;let s=`${this.path+(this.fileName||"")}_${this.segmentPos}.json`;this.segmentPos++,tA(s,this.includeLayers.bind(this),()=>{this.trigger("data_failed")})}loadSegments(){let{segments:t}=this.animationData;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()}mute(t){t&&this.name!==t||this.audioController.mute()}onSegmentComplete(t){this.animationData=t;let e=tF();e?.initExpressions(this),this.loadNextSegment()}onSetupError(){this.trigger("data_failed")}pause(t){(!t||this.name===t)&&(this.isPaused||(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause()))}play(t){(!t||this.name===t)&&this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))}playSegments(t,e){if(e&&(this.segments.length=0),Q(t[0])){let{length:e}=t;for(let s=0;s<e;s++)this.segments.push(t[s])}else this.segments.push(t);this.segments.length>0&&e&&this.adjustSegment(this.segments.shift()??[0,0],0),this.isPaused&&this.play()}preloadImages(){this.imagePreloader&&(this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this)))}renderFrame(t){if(this.isLoaded)try{this.expressionsPlugin?.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}}resetSegments(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)}resize(t,e){this.renderer.updateContainerSize("number"==typeof t?t:void 0,"number"==typeof e?e:void 0)}setCurrentRawFrameValue(t){this.currentRawFrame=t,this.gotoFrame()}setData(t,e){try{let s=e;s&&"object"!=typeof s&&(s=JSON.parse(s));let i={animationData:s,wrapper:t},r=t.attributes;i.path=r.getNamedItem("data-animation-path")?.value??r.getNamedItem("data-bm-path")?.value??r.getNamedItem("bm-path")?.value??"";let a=r.getNamedItem("data-anim-type")?.value??r.getNamedItem("data-bm-type")?.value??r.getNamedItem("bm-type")?.value??r.getNamedItem("data-bm-renderer")?.value??r.getNamedItem("bm-renderer")?.value??q();Object.values(L).includes(a)?i.animType=a:i.animType=L.Canvas;let n=r.getNamedItem("data-anim-loop")?.value??r.getNamedItem("data-bm-loop")?.value??r.getNamedItem("bm-loop")?.value??"";"false"===n?i.loop=!1:"true"===n?i.loop=!0:""!==n&&(i.loop=parseInt(n,10));let o=r.getNamedItem("data-anim-autoplay")?.value??r.getNamedItem("data-bm-autoplay")?.value??r.getNamedItem("bm-autoplay")?.value??!0;i.autoplay="false"!==o,i.name=r.getNamedItem("data-name")?.value??r.getNamedItem("data-bm-name")?.value??r.getNamedItem("bm-name")?.value??"";let h=r.getNamedItem("data-anim-prerender")?.value??r.getNamedItem("data-bm-prerender")?.value??r.getNamedItem("bm-prerender")?.value??"";"false"===h&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")}catch(t){throw console.error(`${this.constructor.name}:
`,t),Error(`${this.constructor.name}: Could not set data`)}}setDirection(t,e){e&&this.name!==e||(this.playDirection=t<0?-1:1,this.updaFrameModifier())}setLoop(t){this.loop=t}setParams(t){try{var s,i,r;let a;(t.wrapper||t.container)&&(this.wrapper=t.wrapper??t.container??null);let n=L.SVG;t.animType?n=t.animType:t.renderer&&(n=t.renderer);let o=G(n);this.renderer=new o(this,t.rendererSettings),this.imagePreloader?.setCacheType(n,this.renderer.globalData?.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=n,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(`${t.loop}`,10),this.autoplay=!!(!("autoplay"in t)||t.autoplay),this.name=t.name??"",this.autoloadSegments=!!(!Object.hasOwn(t,"autoloadSegments")||t.autoloadSegments),this.assetsPath=t.assetsPath??this.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.includes("\\")?this.path=t.path.slice(0,Math.max(0,t.path.lastIndexOf("\\")+1)):this.path=t.path.slice(0,Math.max(0,t.path.lastIndexOf("/")+1)),this.fileName=t.path.slice(Math.max(0,t.path.lastIndexOf("/")+1)),this.fileName=this.fileName.slice(0,Math.max(0,this.fileName.lastIndexOf(".json"))),s=t.path,i=this.configAnimation,r=this.onSetupError,tP(),a=tM(i,r),e?.postMessage({fullPath:U()?s:window.location.origin+window.location.pathname,id:a,path:s,type:"loadAnimation"}))}catch(t){throw console.error(`${this.constructor.name}:
`,t),Error(`${this.constructor.name}: Could not set params`)}}setSegment(t,e){let s=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?s=t:this.currentRawFrame+this.firstFrame>e&&(s=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==s&&this.goToAndStop(s,!0)}setSpeed(t,e){e&&this.name!==e||(this.playSpeed=t,this.updaFrameModifier())}setSubframe(t){this.isSubframeEnabled=!!t}setupAnimation(t){tT(t,this.configAnimation)}setVolume(t,e){e&&this.name!==e||this.audioController.setVolume(t)}show(){this.renderer.show()}stop(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))}togglePause(t){t&&this.name!==t||(this.isPaused?this.play():this.pause())}trigger(t){try{if(!this._cbs[t])return;switch(t){case"enterFrame":this.triggerEvent(t,new u(t,this.currentFrame,this.totalFrames,this.frameModifier)),this.onEnterFrame?.(new u(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"drawnFrame":this.triggerEvent(t,new g(t,this.currentFrame,this.frameModifier,this.totalFrames));break;case"loopComplete":this.triggerEvent(t,new y(t,Number(this.loop),this.playCount,this.frameMult)),this.onLoopComplete?.(new y(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new f(t,this.frameMult)),this.onComplete?.(new f(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new v(t,this.firstFrame,this.totalFrames)),this.onSegmentStart?.(new v(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new b(t,this)),this.onDestroy?.(new b(t,this));break;default:this.triggerEvent(t)}}catch(t){console.error(`${this.constructor.name}:
`,t)}}triggerConfigError(t){let e=new x(t,this.currentFrame);this.triggerEvent("error",e),this.onError?.(e)}triggerRenderFrameError(t){let e=new _(t,this.currentFrame);this.triggerEvent("error",e),this.onError?.(e)}unmute(t){t&&this.name!==t||this.audioController.unmute()}updaFrameModifier(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)}updateDocumentData(t,e,s){try{let i=this.renderer.getElementByPath(t);i?.updateDocumentData([],e,s)}catch(t){console.error(this.constructor.name,t)}}waitForFontsLoaded(){if(this.renderer.globalData?.fontManager?.isLoaded)return void this.checkLoaded();setTimeout(this.waitForFontsLoaded.bind(this),20)}}let tj=!1,tW=!0,tH=0,tY=0,tU=0,tJ=[];function tX(t,e){try{if(!t)return null;let s=0;for(;s<tY;){if(tJ[s].elem===t&&null!==tJ[s].elem)return tJ[s].animation;s++}let i=new tq;return t2(i,t),i.setData(t,e),i}catch(t){throw console.error("AnimationManager:\n",t),Error("Could not register animation")}}function tK(){tj||!tU||!tW||U()||(window.requestAnimationFrame(tQ),tW=!1)}function tZ(){tU++,tK()}function tQ(t){tH=t,U()||window.requestAnimationFrame(t1)}function t0({target:t}){let e=0;if(!t)throw Error("No animation to remove");for(;e<tY;)tJ[e].animation===t&&(tJ.splice(e,1),e--,tY-=1,t.isPaused||t3()),e++}function t1(t){let e=t-tH;for(let t=0;t<tY;t++)tJ[t].animation.advanceTime(e);tH=t,tU&&!tj?U()||window.requestAnimationFrame(t1):tW=!0}function t2(t,e){t.addEventListener("destroy",t0),t.addEventListener("_active",tZ),t.addEventListener("_idle",t3),tJ.push({animation:t,elem:e}),tY++}function t3(){tU--}let t5=Math.PI/180,t4=(()=>{function t(t,e){let s,i=[];switch(t){case D.Int16:case D.Uint8c:s=1;break;case D.Float32:case D.Int32:case D.Uint8:default:s=1.1}for(let t=0;t<e;t++)i.push(s);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,s){return e===D.Float32?new Float32Array(s):e===D.Int16?new Int16Array(s):e===D.Uint8c?new Uint8ClampedArray(s):t(e,s)}:t})();function t6(t){return Array.from({length:t})}class t8{constructor(){this.props=t4(D.Float32,16),this._identity=!0,this._identityCalculated=!1,this.reset()}applyToPoint(t,e,s){return{x:t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]}}applyToPointArray(t,e,s){return this.isIdentity()?[t,e,s]:[t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]]}applyToPointStringified(t,e){if(this.isIdentity())return`${t},${e}`;let s=this.props;return`${Math.round((t*s[0]+e*s[4]+s[12])*100)/100},${Math.round((t*s[1]+e*s[5]+s[13])*100)/100}`}applyToTriplePoints(t,e,s){let i=t4(D.Float32,6);if(this.isIdentity())i.set([t[0],t[1],e[0],e[1],s[0],s[1]]);else{let r=this.props[0],a=this.props[1],n=this.props[4],o=this.props[5],h=this.props[12],l=this.props[13];i.set([t[0]*r+t[1]*n+h,t[0]*a+t[1]*o+l,e[0]*r+e[1]*n+h,e[0]*a+e[1]*o+l,s[0]*r+s[1]*n+h,s[0]*a+s[1]*o+l])}return i}applyToX(t,e,s){return t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12]}applyToY(t,e,s){return t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13]}applyToZ(t,e,s){return t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]}clone(t){return t.props.set(this.props),t}cloneFromProps(t){return this.props.set(t),this}equals(t){return this.props.every((e,s)=>e===t?.props[s])}getInverseMatrix(){let t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,s=-this.props[1]/t,i=-this.props[4]/t,r=this.props[0]/t,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,n=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new t8;return o.setTransform(e,s,0,0,i,r,0,0,0,0,1,0,a,n,0,1),o}inversePoint(t){return this.getInverseMatrix().applyToPoint(t[0],t[1],t[2]||0)}inversePoints(t){return t.map(t=>this.inversePoint(t))}isIdentity(){return this._identityCalculated||(this._identity=1===this.props[0]&&0===this.props[1]&&0===this.props[2]&&0===this.props[3]&&0===this.props[4]&&1===this.props[5]&&0===this.props[6]&&0===this.props[7]&&0===this.props[8]&&0===this.props[9]&&1===this.props[10]&&0===this.props[11]&&0===this.props[12]&&0===this.props[13]&&0===this.props[14]&&1===this.props[15],this._identityCalculated=!0),this._identity}multiply(t){return this.transform(...t.props)}reset(){return this.props.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}rotate(t){if(!t)return this;let e=Math.cos(t),s=Math.sin(t);return this._t(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1)}rotateX(t){if(!t)return this;let e=Math.cos(t),s=Math.sin(t);return this._t(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1)}rotateY(t){if(!t)return this;let e=Math.cos(t),s=Math.sin(t);return this._t(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1)}rotateZ(t){return this.rotate(t)}scale(t,e,s=1){return 1===t&&1===e&&1===s?this:this._t(t,0,0,0,0,e,0,0,0,0,s,0,0,0,0,1)}setTransform(t,e,s,i,r,a,n,o,h,l,p,m,c,d,u,f){return this.props.set([t,e,s,i,r,a,n,o,h,l,p,m,c,d,u,f]),this}shear(t,e){return this._t(1,e,t,1,0,0)}skew(t,e){return this.shear(Math.tan(t),Math.tan(e))}skewFromAxis(t,e){let s=Math.cos(e),i=Math.sin(e);return this._t(s,i,0,0,-i,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1)._t(s,-i,0,0,i,s,0,0,0,0,1,0,0,0,0,1)}to2dCSS(){let t=this.roundMatrixProperty(this.props[0]),e=this.roundMatrixProperty(this.props[1]),s=this.roundMatrixProperty(this.props[4]),i=this.roundMatrixProperty(this.props[5]),r=this.roundMatrixProperty(this.props[12]),a=this.roundMatrixProperty(this.props[13]);return`matrix(${t},${e},${s},${i},${r},${a})`}toCSS(){let t="matrix3d(";for(let e=0;e<16;e++)t+=`${Math.round(1e4*this.props[e])/1e4}`+(15===e?")":",");return t}transform(t,e,s,i,r,a,n,o,h,l,p,m,c,d,u,f){let g=this.props;if(1===t&&0===e&&0===s&&0===i&&0===r&&1===a&&0===n&&0===o&&0===h&&0===l&&1===p&&0===m)return g[12]=g[12]*t+g[15]*c,g[13]=g[13]*a+g[15]*d,g[14]=g[14]*p+g[15]*u,g[15]*=f,this._identityCalculated=!1,this;let y=g[0],v=g[1],b=g[2],_=g[3],x=g[4],w=g[5],E=g[6],C=g[7],S=g[8],k=g[9],P=g[10],M=g[11],A=g[12],T=g[13],D=g[14],I=g[15];return g[0]=y*t+v*r+b*h+_*c,g[1]=y*e+v*a+b*l+_*d,g[2]=y*s+v*n+b*p+_*u,g[3]=y*i+v*o+b*m+_*f,g[4]=x*t+w*r+E*h+C*c,g[5]=x*e+w*a+E*l+C*d,g[6]=x*s+w*n+E*p+C*u,g[7]=x*i+w*o+E*m+C*f,g[8]=S*t+k*r+P*h+M*c,g[9]=S*e+k*a+P*l+M*d,g[10]=S*s+k*n+P*p+M*u,g[11]=S*i+k*o+P*m+M*f,g[12]=A*t+T*r+D*h+I*c,g[13]=A*e+T*a+D*l+I*d,g[14]=A*s+T*n+D*p+I*u,g[15]=A*i+T*o+D*m+I*f,this._identityCalculated=!1,this}translate(t,e,s){let i=s||0;return 0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}_t(...t){return this.transform(...t)}roundMatrixProperty(t){return t<1e-6&&t>0||t>-1e-6&&t<0?Math.round(1e4*t)/1e4:t}}class t9{init(t){this.effectsManager=t,this.type=N.TransformEffect,this.matrix=new t8,this.opacity=-1,this._mdf=!1,this._opMdf=!1}renderFrame(t){if(this._opMdf=!1,this._mdf=!1,!t&&!this.effectsManager?._mdf)return;let e=this.effectsManager?.effectElements??[],s=e[0].p.v,i=e[1].p.v,r=1===e[2].p.v,a=e[3].p.v,n=r?a:e[4].p.v,o=e[5].p.v,h=e[6].p.v,l=e[7].p.v;this.matrix?.reset(),this.matrix?.translate(-s[0],-s[1],s[2]),this.matrix?.scale(.01*n,.01*a,1),this.matrix?.rotate(-l*t5),this.matrix?.skewFromAxis(-o*t5,(h+90)*t5),this.matrix?.translate(i[0],i[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}constructor(){this.opacity=1}}class t7{createMergeNode(t,e){let s,i=tz("feMerge");i.setAttribute("result",t);let{length:r}=e;for(let t=0;t<r;t++)(s=tz("feMergeNode")).setAttribute("in",e[t]),i.appendChild(s),i.appendChild(s);return i}}let et=[],ee={current:""},es=()=>ee.current,ei="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0",er={};class ea{constructor(t){let e,{length:s}=t.data.ef??[];this.filters=[];for(let i=0;i<s;i++){e=null;let s=t.data.ef?.[i].ty;s&&er[s]&&(e=new er[s].effect(t.effectsManager?.effectElements[i],t)),e&&this.filters.push(e)}this.filters.length>0&&t.addRenderableComponent(this)}getEffects(t){let{length:e}=this.filters,s=[];for(let i=0;i<e;i++)this.filters[i].type===t&&s.push(this.filters[i]);return s}renderFrame(t){let{length:e}=this.filters;for(let s=0;s<e;s++)this.filters[s].renderFrame(t)}}let en={createAlphaToLuminanceFilter:function(){let t=tz("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},createFilter:function(t,e){let s=tz("filter");return s.id=t,e||(s.setAttribute("filterUnits","objectBoundingBox"),s.setAttribute("x","0%"),s.setAttribute("y","0%"),s.setAttribute("width","100%"),s.setAttribute("height","100%")),s}},eo="filter_result_",eh={};class el{constructor(t){let e,s="SourceGraphic",i=X(),r=en.createFilter(i,!0),a=0;this.filters=[];let{length:n}=t.data.ef??[];for(let i=0;i<n;i++){e=null;let{ty:n}=t.data.ef?.[i]??{ty:null},o=null!==n&&eh[n]?eh[n].effect:null;o&&n&&t.effectsManager&&(e=new o(r,t.effectsManager.effectElements[i],t,`${eo}${a}`,s),s=`${eo}${a}`,eh[n]?.countsAsEffect&&a++),e&&this.filters.push(e)}a&&(t.globalData?.defs.appendChild(r),t.layerElement?.setAttribute("filter",`url(${es()}#${i})`)),this.filters.length>0&&t.addRenderableComponent(this)}getEffects(t){let{length:e}=this.filters,s=[];for(let i=0;i<e;i++)this.filters[i].type===t&&s.push(this.filters[i]);return s}renderFrame(t){let{length:e}=this.filters;for(let s=0;s<e;s++)this.filters[s].renderFrame(t)}}let ep=(t,e,s)=>{eh[t]={countsAsEffect:s,effect:e}};class em{constructor(t,e,s){this._length=0,this._maxLength=t,this._create=e,this._release=s,this.pool=t6(this._maxLength),this.newElement=this.newElement.bind(this),this.release=this.release.bind(this)}newElement(){let t;return this._length?(this._length-=1,t=this.pool[this._length]):t=this._create(),t}release(t){if(this._length===this._maxLength){var e;this.pool=[...e=this.pool,...t6(e.length)],this._maxLength*=2}this._release&&this._release(t),this.pool[this._length]=t,this._length++}}let ec=new em(8,()=>t4(D.Float32,2));class ed{constructor(){this.lengths=[],this.c=!1,this._length=0,this._maxLength=8,this.v=t6(this._maxLength),this.o=t6(this._maxLength),this.i=t6(this._maxLength)}doubleArrayLength(){this.v=[...this.v,...t6(this._maxLength)],this.i=[...this.i,...t6(this._maxLength)],this.o=[...this.o,...t6(this._maxLength)],this._maxLength*=2}length(){return this._length}reverse(){let t=new ed;t.setPathData(this.c,this._length);let e=this.v,s=this.o,i=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],s[0][0],s[0][1],0,!1),r=1);let{_length:a}=this,n=a-1;for(let o=r;o<a;o++)t.setTripleAt(e[n][0],e[n][1],i[n][0],i[n][1],s[n][0],s[n][1],o,!1),n-=1;return t}setLength(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t}setPathData(t,e){this.c=t,this.setLength(e);let s=0;for(;s<e;)this.v[s]=ec.newElement(),this.o[s]=ec.newElement(),this.i[s]=ec.newElement(),s++}setTripleAt(t,e,s,i,r,a,n,o){this.setXYAt(t,e,"v",n,o),this.setXYAt(s,i,"o",n,o),this.setXYAt(r,a,"i",n,o)}setXYAt(t,e,s,i,r){let a;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),s){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[]}a[i]&&(!a[i]||r)||(a[i]=ec.newElement()),a[i][0]=t,a[i][1]=e}}let eu=new em(4,function(){return new ed},function(t){if(!te(t))return;let e=t._length;for(let s=0;s<e;s++)ec.release(t.v[s]),ec.release(t.i[s]),ec.release(t.o[s]),t.v[s]=null,t.i[s]=null,t.o[s]=null;t._length=0,t.c=!1}),{newElement:ef}=eu,{release:eg}=eu;function ey(t){let e=ef(),s=t._length??t.v.length;e.setLength(s),e.c=t.c;for(let i=0;i<s;i++)e.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],i);return e}let ev={clone:ey,newElement:ef};class eb{constructor(){this._length=0,this._maxLength=4,this.shapes=t6(this._maxLength)}addShape(t){this._length===this._maxLength&&(this.shapes=[...this.shapes,...t6(this._maxLength)],this._maxLength*=2),this.shapes[this._length]=t,this._length++}releaseShapes(){for(let t=0;t<this._length;t++)eg(this.shapes[t]);this._length=0}}function e_(){return new eb}t6(4);let ex={default:150},ew=t=>{ex.default=t},eE=()=>ex.default,eC=new em(8,()=>({addedLength:0,lengths:t4(D.Float32,eE()),percents:t4(D.Float32,eE())})),eS=new em(8,()=>({lengths:[],totalLength:0}),t=>{if(!te(t))return;let{length:e}=t.lengths;for(let s=0;s<e;s++)eC.release(t.lengths[s]);t.lengths.length=0}),ek=t4(D.Float32,8);function eP(t,e,s,i){let r={},a=`${t[0]}_${t[1]}_${e[0]}_${e[1]}_${s[0]}_${s[1]}_${i[0]}_${i[1]}`.replaceAll(".","p");if(!r[a]){let n=eE(),o,h,l=0,p,m,c=null;2===t.length&&(t[0]!==e[0]||t[1]!==e[1])&&eT(t[0],t[1],e[0],e[1],t[0]+s[0],t[1]+s[1])&&eT(t[0],t[1],e[0],e[1],e[0]+i[0],e[1]+i[1])&&(n=2);let d=new eL(n),{length:u}=s;for(let r=0;r<n;r++){m=t6(u),h=r/(n-1),p=0;for(let r=0;r<u;r++)o=Math.pow(1-h,3)*t[r]+3*Math.pow(1-h,2)*h*(t[r]+s[r])+3*(1-h)*Math.pow(h,2)*(e[r]+i[r])+Math.pow(h,3)*e[r],m[r]=o,null!==c&&(p+=Math.pow(Number(m[r])-Number(c[r]),2));l+=p=Math.sqrt(p),d.points[r]=new e$(p,m),c=m}d.segmentLength=l,r[a]=d}return r[a]}function eM(t,e,s,i,r,a,n){let o=r,h=a;o<0?o=0:o>1&&(o=1);let l=eF(o,n),p=eF(h=h>1?1:h,n),m=1-l,c=1-p,d=m*m*m,u=l*m*m*3,f=l*l*m*3,g=l*l*l,y=m*m*c,v=l*m*c+m*l*c+m*m*p,b=l*l*c+m*l*p+l*m*p,_=l*l*p,x=m*c*c,w=l*c*c+m*p*c+m*c*p,E=l*p*c+m*p*p+l*c*p,C=l*p*p,S=c*c*c,k=p*c*c+c*p*c+c*c*p,P=p*p*c+c*p*p+p*c*p,M=p*p*p,{length:A}=t;for(let r=0;r<A;r++)ek[4*r]=Math.round((d*t[r]+u*s[r]+f*i[r]+g*e[r])*1e3)/1e3,ek[4*r+1]=Math.round((y*t[r]+v*s[r]+b*i[r]+_*e[r])*1e3)/1e3,ek[4*r+2]=Math.round((x*t[r]+w*s[r]+E*i[r]+C*e[r])*1e3)/1e3,ek[4*r+3]=Math.round((S*t[r]+k*s[r]+P*i[r]+M*e[r])*1e3)/1e3;return ek}function eA(t){let e,s=eS.newElement(),i=t.c,r=t.v,a=t.o,n=t.i,o=t._length||0,{lengths:h}=s,l=0;for(e=0;e<o-1;e++)h[e]=eI(r[e],r[e+1],a[e],n[e+1]),l+=h[e].addedLength;return i&&o&&(h[e]=eI(r[e],r[0],a[e],n[0]),l+=h[e].addedLength),s.totalLength=l,s}function eT(t,e,s,i,r,a){let n=t*i+e*r+s*a-r*i-a*t-s*e;return n>-.001&&n<.001}function eD(t,e,s,i,r,a,n,o,h){let l;if(0===s&&0===a&&0===h)return eT(t,e,i,r,n,o);let p=Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2)+Math.pow(a-s,2)),m=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)+Math.pow(h-s,2)),c=Math.sqrt(Math.pow(n-i,2)+Math.pow(o-r,2)+Math.pow(h-a,2));return(l=p>m?p>c?p-m-c:c-m-p:c>m?c-m-p:m-p-c)>-1e-4&&l<1e-4}function eI(t,e,s,i){let r=eE(),a,n,o=0,h,l=[],p=[],m=eC.newElement(),c=s.length;for(let d=0;d<r;d++){n=d/(r-1),h=0;for(let r=0;r<c;r++)a=Math.pow(1-n,3)*t[r]+3*Math.pow(1-n,2)*n*s[r]+3*(1-n)*Math.pow(n,2)*i[r]+Math.pow(n,3)*e[r],l[r]=a,"number"==typeof p[r]&&(h+=Math.pow(l[r]-p[r],2)),p[r]=l[r];h&&(o+=h=Math.sqrt(h)),m.percents[d]=n,m.lengths[d]=o}return m.addedLength=o,m}function eF(t,{addedLength:e,lengths:s,percents:i}){let{length:r}=i,a=Math.floor((r-1)*t),n=t*e,o=0;if(a===r-1||0===a||n===s[a])return i[a];let h=s[a]>n?-1:1,l=!0;for(;l;)if(s[a]<=n&&s[a+1]>n?(o=(n-s[a])/(s[a+1]-s[a]),l=!1):a+=h,a<0||a>=r-1){if(a===r-1)return i[a];l=!1}return i[a]+(i[a+1]-i[a])*o}class eL{constructor(t){this.segmentLength=0,this.points=Array.from({length:t})}}class e${constructor(t,e){this.partialLength=t,this.point=e}}let eN={getPointInSegment:function(t,e,s,i,r,a){let n=eF(r,a),o=1-n;return[Math.round((o*o*o*t[0]+(n*o*o+o*n*o+o*o*n)*s[0]+(n*n*o+o*n*n+n*o*n)*i[0]+n*n*n*e[0])*1e3)/1e3,Math.round((o*o*o*t[1]+(n*o*o+o*n*o+o*o*n)*s[1]+(n*n*o+o*n*n+n*o*n)*i[1]+n*n*n*e[1])*1e3)/1e3]},getSegmentsLength:eA},eR={};function eV(t,e,s,i,r){let a=r||`bez_${t}_${e}_${s}_${i}`.replaceAll(".","p");if(eR[a])return eR[a];let n=new eO([t,e,s,i]);return eR[a]=n,n}class eO{constructor(t){this.float32ArraySupported="function"==typeof Float32Array,this.kSplineTableSize=11,this.kSampleStepSize=1/(this.kSplineTableSize-1),this.NEWTON_ITERATIONS=4,this.NEWTON_MIN_SLOPE=.001,this.SUBDIVISION_MAX_ITERATIONS=10,this.SUBDIVISION_PRECISION=1e-7,this._p=t,this._mSampleValues=this.float32ArraySupported?new Float32Array(this.kSplineTableSize):Array.from({length:this.kSplineTableSize}),this._precomputed=!1,this.get=this.get.bind(this)}_calcSampleValues(){let t=this._p[0],e=this._p[2];for(let s=0;s<this.kSplineTableSize;++s)this._mSampleValues[s]=this.calcBezier(s*this.kSampleStepSize,t,e)}_getTForX(t){let e=this._p[0],s=this._p[2],i=this._mSampleValues,r=0,a=1,n=this.kSplineTableSize-1;for(;a!==n&&Number(i[a])<=t;++a)r+=this.kSampleStepSize;let o=r+(t-Number(i[--a]))/(Number(i[a+1])-Number(i[a]))*this.kSampleStepSize,h=this.getSlope(o,e,s);return h>=this.NEWTON_MIN_SLOPE?this.newtonRaphsonIterate(t,o,e,s):0===h?o:this.binarySubdivide(t,r,r+this.kSampleStepSize,e,s)}_precompute(){let t=this._p[0],e=this._p[1],s=this._p[2],i=this._p[3];this._precomputed=!0,(t!==e||s!==i)&&this._calcSampleValues()}get(t){let e=this._p[0],s=this._p[1],i=this._p[2],r=this._p[3];return(this._precomputed||this._precompute(),e===s&&i===r)?t:0===t?0:1===t?1:this.calcBezier(this._getTForX(t),s,r)}A(t,e){return 1-3*e+3*t}B(t,e){return 3*e-6*t}binarySubdivide(t,e,s,i,r){let a=e,n=s,o,h,l=0;do h=a+(n-a)/2,(o=this.calcBezier(h,i,r)-t)>0?n=h:a=h;while(Math.abs(o)>this.SUBDIVISION_PRECISION&&++l<this.SUBDIVISION_MAX_ITERATIONS);return h}C(t){return 3*t}calcBezier(t,e,s){return((this.A(e,s)*t+this.B(e,s))*t+this.C(e))*t}getSlope(t,e,s){return 3*this.A(e,s)*t*t+2*this.B(e,s)*t+this.C(e)}newtonRaphsonIterate(t,e,s,i){let r=e;for(let e=0;e<this.NEWTON_ITERATIONS;++e){let e=this.getSlope(r,s,i);if(0===e)break;let a=this.calcBezier(r,s,i)-t;r-=a/e}return r}}class ez{addDynamicProperty(t){this.dynamicProperties.includes(t)||(this.dynamicProperties.push(t),this.container?.addDynamicProperty(this),this._isAnimated=!0)}getValue(t){throw Error(`${this.constructor.name}: Method getValue is not implemented`)}initDynamicPropertyContainer(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}iterateDynamicProperties(){this._mdf=!1;let{length:t}=this.dynamicProperties;for(let e=0;e<t;e++)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0);return 0}setGroupProperty(t){}constructor(){this.dynamicProperties=[]}}let eB=(t,e)=>{let s=e[0],i=e[1],r=e[2],a=e[3],n=Math.atan2(2*i*a-2*s*r,1-2*i*i-2*r*r),o=Math.asin(2*s*i+2*r*a),h=Math.atan2(2*s*a-2*i*r,1-2*s*s-2*r*r);t[0]=n/t5,t[1]=o/t5,t[2]=h/t5},eG=t=>{let e=t[0]*t5,s=t[1]*t5,i=t[2]*t5,r=Math.cos(e/2),a=Math.cos(s/2),n=Math.cos(i/2),o=Math.sin(e/2),h=Math.sin(s/2),l=Math.sin(i/2);return[o*h*n+r*a*l,o*a*n+r*h*l,r*h*n-o*a*l,r*a*n-o*h*l]},eq=(t,e,s)=>{let i=[0,0,0,0],r=t[0],a=t[1],n=t[2],o=t[3],h=e[0],l=e[1],p=e[2],m=e[3],c,d,u,f,g;return(d=r*h+a*l+n*p+o*m)<0&&(d=-d,h=-h,l=-l,p=-p,m=-m),1-d>1e-6?(u=Math.sin(c=Math.acos(d)),f=Math.sin((1-s)*c)/u,g=Math.sin(s*c)/u):(f=1-s,g=s),i[0]=f*r+g*h,i[1]=f*a+g*l,i[2]=f*n+g*p,i[3]=f*o+g*m,i};class ej extends ez{addEffect(t){this.effectsSequence.push(t),this.container?.addDynamicProperty(this)}getSpeedAtTime(t){throw Error(`${this.constructor.name}: Method getSpeedAtTime is not implemented`)}getValueAtCurrentTime(){if(this._caching=this._caching??{},!this.keyframes)return;let t=Number(this.offsetTime),e=Number(this.comp?.renderedFrame)-t,s=this.keyframes[0].t-t,i=this.keyframes.length-1,r=this.keyframes[i].t-t,a=Number(this._caching.lastFrame);if(!(e===a||-999999!==a&&(a>=r&&e>=r||a<s&&e<s))){a>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);let t=this.interpolateValue(e,this._caching);this.pv=t}return this._caching.lastFrame=e,this.pv}getValueAtTime(t,e){throw Error(`${this.constructor.name}: Method getValueAtTime is not implemented`)}getVelocityAtTime(t){throw Error(`${this.constructor.name}: Method getVelocityAtTime is not implemented`)}initiateExpression(t,e,s){throw Error("Method not implemented")}interpolateValue(t,e={}){let s,i=Number(this.offsetTime),r=[0,0,0];this.propType===R.MultiDimensional&&this.pv&&(r=t4(D.Float32,this.pv.length));let{keyframes:a=[],keyframesMetadata:n,propType:o}=this,h=e.lastIndex||0,l=h,p=a.length-1,m=!0,c=a[0],d=a[1];for(;m;){if(c=a[l],d=a[l+1],l===p-1&&t>=d.t-i){c.h&&(c=d),h=0;break}if(d.t-i>t){h=l;break}l<p-1?l++:(h=0,m=!1)}let u=n[l]??{},f,g,y,v,b=null,_=d.t-i,x=c.t-i;if(c.to&&c.s){u.bezierData=u.bezierData??eP(c.s,d.s??c.e,c.to,c.ti);let{__fnct:s,bezierData:i}=u;if(t>=_||t<x){let e=t>=_?i.points.length-1:0;f=i.points[e].point.length;for(let t=0;t<f;t++)r[t]=i.points[e].point[t]}else{s?b=s:u.__fnct=b=eV(c.o.x,c.o.y,c.i.x,c.i.y,c.n).get,g=b((t-x)/(_-x));let a=i.segmentLength*g,n,o=Number(e.lastFrame)<t&&e._lastKeyframeIndex===l?e._lastAddedLength:0;for(v=Number(e.lastFrame)<t&&e._lastKeyframeIndex===l?e._lastPoint:0,m=!0,y=i.points.length;m;){if(o+=i.points[v].partialLength,0===a||0===g||v===i.points.length-1){f=i.points[v].point.length;for(let t=0;t<f;t++)r[t]=i.points[v].point[t];break}if(a>=o&&a<o+i.points[v+1].partialLength){n=(a-o)/i.points[v+1].partialLength,f=i.points[v].point.length;for(let t=0;t<f;t++)r[t]=i.points[v].point[t]+(i.points[v+1].point[t]-i.points[v].point[t])*n;break}v<y-1?v++:m=!1}e._lastPoint=v,e._lastAddedLength=o-i.points[v].partialLength,e._lastKeyframeIndex=l}}else{let e,i,a;if(p=c.s?.length||0,s=d.s??c.e,this.sh&&1!==c.h)t>=_?(r[0]=s[0],r[1]=s[1],r[2]=s[2]):t<=x&&c.s?(r[0]=c.s[0],r[1]=c.s[1],r[2]=c.s[2]):eB(r,eq(eG(c.s),eG(s),(t-x)/(_-x)));else for(l=0;l<p;l++)1!==c.h&&(t>=_?g=1:t<x?g=0:(c.o.x.constructor===Array?(u.__fnct=u.__fnct??[],u.__fnct[l]?b=u.__fnct[l]:Q(c.o.y)&&Q(c.i.y)&&Q(c.i.x)&&(b=eV(e=c.o.x[l]??c.o.x[0],c.o.y[l]??c.o.y[0],c.i.x[l]??c.i.x[0],c.i.y[l]??c.i.y[0]).get,u.__fnct[l]=b)):u.__fnct?b=u.__fnct:(b=eV(e=c.o.x,c.o.y,c.i.x,c.i.y).get,c.keyframeMetadata=b),g=b?.((t-x)/(_-x)))),s=d.s??c.e,void 0!==(a=1===c.h?c.s?.[l]:Number(c.s?.[l])+(s[l]-Number(c.s?.[l]))*Number(g))&&(o===R.MultiDimensional?r[l]=a:r=a)}return e.lastIndex=h,r}processEffectsSequence(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.elem)throw Error(`${this.constructor.name}: elem (ElementInterface) is not implemented`);if(this.elem.globalData?.frameId===this.frameId)return 0;if(0===this.effectsSequence.length)return this._mdf=!1,0;if(this.lock&&this.pv)return this.setVValue(this.pv),0;this.lock=!0,this._mdf=!!this._isFirstFrame;let t=this.effectsSequence.length,e=this.kf?this.pv:this.data.k;for(let s=0;s<t;s++)e=this.effectsSequence[s](e);return this.setVValue(e),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData?.frameId,0}setVValue(t){let e;if("number"==typeof t&&this.propType===R.UniDimensional){e=t*Number(this.mult),Math.abs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);return}let s=0,{length:i}=this.v;for(;s<i;)e=t[s]*Number(this.mult),Math.abs(this.v[s]-e)>1e-5&&(this.v[s]=e,this._mdf=!0),s++}speedAtTime(t){throw Error("Method is not implemented")}valueAtTime(t,e){throw Error(`${this.constructor.name}: Method valueAtTime is not implemented`)}velocityAtTime(t){throw Error("Method is not implemented")}constructor(...t){super(...t),this.effectsSequence=[],this.initFrame=-999999,this.keyframesMetadata=[],this.offsetTime=0}}class eW extends ej{constructor(t,e,s=null,i=null){let r,a,n,o;super(),this.propType=R.MultiDimensional;let{length:h}=e.k;for(let t=0;t<h-1;t++)e.k[t].to&&e.k[t].s&&e.k[t+1]?.s&&(r=e.k[t].s,a=e.k[t+1].s,n=e.k[t].to,o=e.k[t].ti,(2===r.length&&(r[0]!==a[0]||r[1]!==a[1])&&eT(r[0],r[1],a[0],a[1],r[0]+n[0],r[1]+n[1])&&eT(r[0],r[1],a[0],a[1],a[0]+o[0],a[1]+o[1])||3===r.length&&(r[0]!==a[0]||r[1]!==a[1]||r[2]!==a[2])&&eD(r[0],r[1],r[2],a[0],a[1],a[2],r[0]+n[0],r[1]+n[1],r[2]+n[2])&&eD(r[0],r[1],r[2],a[0],a[1],a[2],a[0]+o[0],a[1]+o[1],a[2]+o[2]))&&(e.k[t].to=null,e.k[t].ti=null),(r[0]===a[0]&&r[1]===a[1]&&0===n[0]&&0===n[1]&&0===o[0]&&0===o[1]&&2===r.length||r[2]===a[2]&&0===n[2]&&0===o[2])&&(e.k[t].to=null,e.k[t].ti=null));this.effectsSequence=[this.getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=s||1,this.elem=t,this.container=i,this.comp=t.comp,this.getValue=this.processEffectsSequence,this.frameId=-1;let l=e.k[0].s?.length||0;this.v=t4(D.Float32,l),this.pv=t4(D.Float32,l);for(let t=0;t<l;t++)this.v[t]=this.initFrame,this.pv[t]=this.initFrame;this._caching={lastFrame:this.initFrame,lastIndex:0,value:t4(D.Float32,l)}}}class eH extends ej{constructor(t,e,s=null,i=null){super(),this.propType=R.UniDimensional,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={_lastKeyframeIndex:-1,lastFrame:this.initFrame,lastIndex:0,value:0},this.k=!0,this.kf=!0,this.data=e,this.mult=s||1,this.elem=t,this.container=i,this.comp=t.comp,this.v=this.initFrame,this.pv=this.initFrame,this._isFirstFrame=!0,this.getValue=this.processEffectsSequence,this.effectsSequence=[this.getValueAtCurrentTime.bind(this)]}}class eY extends ej{constructor(t,e,s=null,i=null){super(),this.propType=R.MultiDimensional,this.mult=s||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;let{length:r}=e.k;this.v=t4(D.Float32,r),this.pv=t4(D.Float32,r),this.vel=t4(D.Float32,r);for(let t=0;t<r;t++)this.v[t]=e.k[t]*this.mult,this.pv[t]=e.k[t];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=this.processEffectsSequence}}class eU extends ej{constructor(){super(),this.propType=!1}}class eJ extends ej{constructor(t,e,s=null,i=null){super(),this.propType=R.UniDimensional,this.mult=s||1,this.data=e,this.v=e.k*(s||1),this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=this.processEffectsSequence}}let eX={getProp:function(t,e,s,i,r){let a,n=e;if(n&&"sid"in n&&n.sid&&(n=t.globalData?.slotManager?.getProp(n)),n?.k?.length)if("number"==typeof(n?.k)[0])a=new eY(t,n,i,r);else switch(s){case 0:a=new eH(t,n,i,r);break;case 1:a=new eW(t,n,i,r)}else a=new eJ(t,n,i,r);return(a=a??new eU).effectsSequence.length>0&&r?.addDynamicProperty(a),a}};class eK extends ez{getValueAtTime(t,e){throw Error(`${this.constructor.name}: Method getShapeValueAtTime is not implemented`)}initiateExpression(t,e,s){throw Error(`${this.constructor.name}: Method initiateExpression is not implemented`)}interpolateShape(t,e,s={}){let i=s.lastIndex||0,r,a,n,o=0,h,l=this.keyframes??[];if(t<l[0].t-this.offsetTime)r=l[0].s?.[0],n=!0,i=0;else if(t>=l[l.length-1].t-this.offsetTime)r=l[l.length-1].s?l[l.length-1].s?.[0]:l[l.length-2].e[0],n=!0;else{let e,s,h=i,p=l.length-1,m=!0;for(;m&&(e=l[h],!((s=l[h+1]).t-this.offsetTime>t));)h<p-1?h++:m=!1;if(!e||!s)throw Error(`${this.constructor.name}: Could not set keyframe data`);let c=this.keyframesMetadata[h]||{};if(n=1===e.h,i=h,!n){if(t>=s.t-this.offsetTime)o=1;else if(t<e.t-this.offsetTime)o=0;else{let i;c.__fnct?i=c.__fnct:"number"==typeof e.o.x&&"number"==typeof e.o.y&&"number"==typeof e.i.x&&"number"==typeof e.i.y&&(c.__fnct=i=eV(e.o.x,e.o.y,e.i.x,e.i.y).get),o=i?.((t-(e.t-this.offsetTime))/(s.t-this.offsetTime-(e.t-this.offsetTime)))||0}a=s.s?s.s[0]:e.e[0]}r=e.s?.[0]}if(!r||"number"==typeof r||Q(r)||"number"==typeof a)return;let p=e._length,m=r.i[0].length;s.lastIndex=i;for(let t=0;t<p;t++)for(let s=0;s<m;s++)h=n?r.i[t][s]:r.i[t][s]+((a?.i[t][s]??0)-r.i[t][s])*o,e.i[t][s]=h,h=n?r.o[t][s]:r.o[t][s]+((a?.o[t][s]??0)-r.o[t][s])*o,e.o[t][s]=h,h=n?r.v[t][s]:r.v[t][s]+((a?.v[t][s]??0)-r.v[t][s])*o,e.v[t][s]=h}interpolateShapeCurrentTime(){if(!this.pv)throw Error(`${this.constructor.name}: Cannot parse ShapePath v value`);if(!this.keyframes)return;this._caching=this._caching??{};let t=Number(this.comp?.renderedFrame)-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=Number(this._caching.lastFrame);return -999999!==i&&(i<e&&t<e||i>s&&t>s)||(this._caching.lastIndex=i<t?Number(this._caching.lastIndex):0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}processEffectsSequence(t){let e,s;if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);if(this.elem?.globalData?.frameId===this.frameId)return 0;if(0===this.effectsSequence.length)return this._mdf=!1,0;if(this.lock&&this.pv)return this.setVValue(this.pv),0;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt?.k;let i=this.effectsSequence.length;for(s=0;s<i;s++)e=this.effectsSequence[s](e);return this.setVValue(e),this.lock=!1,this.frameId=this.elem?.globalData?.frameId||0,0}reset(){this.paths=this.localShapeCollection}setVValue(t){if(!this.v||!t)throw Error(`${this.constructor.name}: ShapePath is not set`);if(!this.localShapeCollection)throw Error(`${this.constructor.name}: localShapeCollection is not set`);this.shapesEqual(this.v,t)||(this.v=ey(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}shapesEqual(t,e){if(t._length!==e._length||t.c!==e.c)return!1;let s=t._length||0;for(let i=0;i<s;i++)if(t.v[i]?.[0]!==e.v[i]?.[0]||t.v[i]?.[1]!==e.v[i]?.[1]||t.o[i]?.[0]!==e.o[i]?.[0]||t.o[i]?.[1]!==e.o[i]?.[1]||t.i[i]?.[0]!==e.i[i]?.[0]||t.i[i]?.[1]!==e.i[i]?.[1])return!1;return!0}constructor(...t){super(...t),this.effectsSequence=[],this.keyframesMetadata=[],this.offsetTime=0}}class eZ extends eK{constructor(t,e){super(),this._cPoint=.5519,this.v=ef(),this.v.setPathData(!0,4),this.localShapeCollection=e_(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=eX.getProp(t,e.p,1,0,this),this.s=eX.getProp(t,e.s,1,0,this),this.dynamicProperties.length>0?this.k=!0:(this.k=!1,this.convertEllToPath())}convertEllToPath(){if(!this.p)return;let t=this.p.v[0],e=this.p.v[1],s=this.s.v[0]/2,i=this.s.v[1]/2,r=3!==this.d,a=this.v;if(!a)throw Error(`${this.constructor.name}: Could not get value of ellipse`);a.v[0][0]=t,a.v[0][1]=e-i,a.v[1][0]=r?t+s:t-s,a.v[1][1]=e,a.v[2][0]=t,a.v[2][1]=e+i,a.v[3][0]=r?t-s:t+s,a.v[3][1]=e,a.i[0][0]=r?t-s*this._cPoint:t+s*this._cPoint,a.i[0][1]=e-i,a.i[1][0]=r?t+s:t-s,a.i[1][1]=e-i*this._cPoint,a.i[2][0]=r?t+s*this._cPoint:t-s*this._cPoint,a.i[2][1]=e+i,a.i[3][0]=r?t-s:t+s,a.i[3][1]=e+i*this._cPoint,a.o[0][0]=r?t+s*this._cPoint:t-s*this._cPoint,a.o[0][1]=e-i,a.o[1][0]=r?t+s:t-s,a.o[1][1]=e+i*this._cPoint,a.o[2][0]=r?t-s*this._cPoint:t+s*this._cPoint,a.o[2][1]=e+i,a.o[3][0]=r?t-s:t+s,a.o[3][1]=e-i*this._cPoint}getValue(t){return this.elem?.globalData?.frameId===this.frameId||(this.frameId=this.elem?.globalData?.frameId||0,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath()),0}}class eQ extends eK{constructor(t,e){super(),this.v=ef(),this.v.c=!0,this.localShapeCollection=e_(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=eX.getProp(t,e.p,1,0,this),this.s=eX.getProp(t,e.s,1,0,this),this.r=eX.getProp(t,e.r,0,0,this),this.dynamicProperties.length>0?this.k=!0:(this.k=!1,this.convertRectToPath())}convertRectToPath(){if(!this.p)throw Error(`${this.constructor.name}: p value is not implemented`);let t=this.p.v[0],e=this.p.v[1],s=this.s.v[0]/2,i=this.s.v[1]/2,r=Math.min(s,i,this.r.v),a=.44810000000000005*r;this.v&&(this.v._length=0),2===this.d||1===this.d?(this.v?.setTripleAt(t+s,e-i+r,t+s,e-i+r,t+s,e-i+a,0,!0),this.v?.setTripleAt(t+s,e+i-r,t+s,e+i-a,t+s,e+i-r,1,!0),0===r?(this.v?.setTripleAt(t-s,e+i,t-s+a,e+i,t-s,e+i,2),this.v?.setTripleAt(t-s,e-i,t-s,e-i+a,t-s,e-i,3)):(this.v?.setTripleAt(t+s-r,e+i,t+s-r,e+i,t+s-a,e+i,2,!0),this.v?.setTripleAt(t-s+r,e+i,t-s+a,e+i,t-s+r,e+i,3,!0),this.v?.setTripleAt(t-s,e+i-r,t-s,e+i-r,t-s,e+i-a,4,!0),this.v?.setTripleAt(t-s,e-i+r,t-s,e-i+a,t-s,e-i+r,5,!0),this.v?.setTripleAt(t-s+r,e-i,t-s+r,e-i,t-s+a,e-i,6,!0),this.v?.setTripleAt(t+s-r,e-i,t+s-a,e-i,t+s-r,e-i,7,!0))):(this.v?.setTripleAt(t+s,e-i+r,t+s,e-i+a,t+s,e-i+r,0,!0),0===r?(this.v?.setTripleAt(t-s,e-i,t-s+a,e-i,t-s,e-i,1,!0),this.v?.setTripleAt(t-s,e+i,t-s,e+i-a,t-s,e+i,2,!0),this.v?.setTripleAt(t+s,e+i,t+s-a,e+i,t+s,e+i,3,!0)):(this.v?.setTripleAt(t+s-r,e-i,t+s-r,e-i,t+s-a,e-i,1,!0),this.v?.setTripleAt(t-s+r,e-i,t-s+a,e-i,t-s+r,e-i,2,!0),this.v?.setTripleAt(t-s,e-i+r,t-s,e-i+r,t-s,e-i+a,3,!0),this.v?.setTripleAt(t-s,e+i-r,t-s,e+i-a,t-s,e+i-r,4,!0),this.v?.setTripleAt(t-s+r,e+i,t-s+r,e+i,t-s+a,e+i,5,!0),this.v?.setTripleAt(t+s-r,e+i,t+s-a,e+i,t+s-r,e+i,6,!0),this.v?.setTripleAt(t+s,e+i-r,t+s,e+i-r,t+s,e+i-a,7,!0)))}getValue(){return this.elem?.globalData?.frameId===this.frameId||(this.elem?.globalData?.frameId&&(this.frameId=this.elem.globalData.frameId),this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath()),0}}class e0 extends eK{constructor(t,e,s){super(),this.propType=R.Shape,this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;let i=3===s?e.pt?.k:e.ks?.k;if(!i)throw Error(`${this.constructor.name}: Could now get Path Data`);this.v=ey(i),this.pv=ey(this.v),this.localShapeCollection=e_(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.effectsSequence=[],this.getValue=this.processEffectsSequence}}class e1 extends eK{constructor(t,e,s){super(),this.data=e,this.propType=R.Shape,this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data?.st||0,this.keyframes=3===s?e.pt?.k:e.ks?.k??[],this.keyframesMetadata=[],this.k=!0,this.kf=!0;let i=this.keyframes[0].s,{length:r}=i?.[0].i??[];this.v=ef(),this.v.setPathData(!!i?.[0].c,r),this.pv=ey(this.v),this.localShapeCollection=e_(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[this.interpolateShapeCurrentTime.bind(this)],this.getValue=this.processEffectsSequence}}class e2 extends eK{constructor(t,e){super(),this.v=ef(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=eX.getProp(t,e.ir,0,0,this),this.is=eX.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=eX.getProp(t,e.pt,0,0,this),this.p=eX.getProp(t,e.p,1,0,this),this.r=eX.getProp(t,e.r,0,t5,this),this.or=eX.getProp(t,e.or,0,0,this),this.os=eX.getProp(t,e.os,0,.01,this),this.localShapeCollection=e_(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length>0?this.k=!0:(this.k=!1,this.convertToPath())}convertPolygonToPath(){if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);if(!this.p)throw Error(`${this.constructor.name}: p value is not implemented`);let t=Math.floor(this.pt.v),e=2*Math.PI/t,s=this.or.v,i=this.os.v,r=2*Math.PI*s/(4*t),a=-(.5*Math.PI),n=3===this.data.d?-1:1;a+=this.r.v,this.v&&(this.v._length=0);for(let o=0;o<t;o++){let t=s*Math.cos(a),h=s*Math.sin(a),l=0===t&&0===h?0:h/Math.sqrt(t*t+h*h),p=0===t&&0===h?0:-t/Math.sqrt(t*t+h*h);t+=Number(this.p.v[0]),h+=Number(this.p.v[1]),this.v?.setTripleAt(t,h,t-l*r*i*n,h-p*r*i*n,t+l*r*i*n,h+p*r*i*n,o,!0),a+=e*n}this.paths.length=0,this.paths[0]=this.v}convertStarToPath(){if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);if(!this.v)throw Error(`${this.constructor.name}: v (ShapePath) is not implemented`);let t=2*Math.floor(this.pt.v),e=2*Math.PI/t,s=!0,i=this.or.v,r=Number(this.ir?.v),a=this.os.v,n=Number(this.is?.v),o=2*Math.PI*i/(2*t),h=2*Math.PI*r/(2*t),l,p,m,c=-Math.PI/2;c+=this.r.v;let d=3===this.data.d?-1:1;this.v._length=0;for(let u=0;u<t;u++){l=s?i:r,p=s?a:n,m=s?o:h;let t=l*Math.cos(c),f=l*Math.sin(c),g=0===t&&0===f?0:f/Math.sqrt(t*t+f*f),y=0===t&&0===f?0:-t/Math.sqrt(t*t+f*f);t+=Number(this.p?.v[0]),f+=Number(this.p?.v[1]),this.v.setTripleAt(t,f,t-g*m*p*d,f-y*m*p*d,t+g*m*p*d,f+y*m*p*d,u,!0),s=!s,c+=e*d}}convertToPath(){throw Error(`${this.constructor.name}: Method convertToPath is not implemented`)}getValue(t){return this.elem?.globalData?.frameId===this.frameId||(this.frameId=this.elem?.globalData?.frameId||0,this.iterateDynamicProperties(),this._mdf&&this.convertToPath()),0}}let e3={getConstructorFunction:function(){return e0},getKeyframedConstructorFunction:function(){return e1},getShapeProp:function(t,e,s,i,r){let a=null;switch(s){case 3:case 4:{let i=3===s?e.pt:e.ks,r=i?.k;if(r?.length){a=new e1(t,e,s);break}a=new e0(t,e,s);break}case 5:a=new eQ(t,e);break;case 6:a=new eZ(t,e);break;case 7:a=new e2(t,e)}return a?.k&&t.addDynamicProperty(a),a}};class e5{constructor(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties??[],this.viewData=t6(this.masksProperties.length);let{length:s}=this.masksProperties,i=!1;for(let t=0;t<s;t++)"n"!==this.masksProperties[t].mode&&(i=!0),this.viewData[t]=e3.getShapeProp(this.element,this.masksProperties[t],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}destroy(){this.element=null}getMaskProperty(t){return this.viewData[t]}renderFrame(t){let e,s;if(!this.element.globalData?.compSize)throw Error(`${this.constructor.name}: element->globalData->compSize is not implemented`);if(!this.hasMasks)return;let i=this.element.finalTransform?.mat,r=this.element.canvasContext,{length:a}=this.masksProperties;r?.beginPath();for(let t=0;t<a;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(r?.moveTo(0,0),r?.lineTo(this.element.globalData.compSize.w,0),r?.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),r?.lineTo(0,this.element.globalData.compSize.h),r?.lineTo(0,0));let a=this.viewData[t].v;if(!a)throw Error(`${this.constructor.name}: Could not access ShapePath`);let n=i?.applyToPointArray(a.v[0][0],a.v[0][1],0)??[];r?.moveTo(n[0],n[1]);let o=a._length;for(e=1;e<o;e++)s=i?.applyToTriplePoints(a.o[e-1],a.i[e],a.v[e])??[],r?.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);s=i?.applyToTriplePoints(a.o[e-1],a.i[0],a.v[0])??[],r?.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}this.element.globalData.renderer.save(!0),r?.clip()}}class e4{constructor(t,e,s){this.p=eX.getProp(e,t.v,0,0,s)}}class e6{constructor(t,e,s){this.p=eX.getProp(e,t.v,1,0,s)}}class e8 extends e4{}class e9 extends e4{}class e7 extends e6{}class st extends e6{}class se extends e4{}class ss extends e4{}class si extends e4{}class sr{constructor(){this.p={}}}class sa extends ez{constructor(t,e,s){super(),this.effectElements=[],this.getValue=this.iterateDynamicProperties,this.init(t,e,s)}init(t,e,s){let i;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);let r=this.data.ef,{length:a}=r;for(let t=0;t<a;t++){switch(r[t].ty){case 0:i=new e8(r[t],e,this);break;case 1:i=new e9(r[t],e,this);break;case 2:i=new e7(r[t],e,this);break;case 3:i=new st(r[t],e,this);break;case 4:case 7:i=new si(r[t],e,this);break;case 10:i=new se(r[t],e,this);break;case 11:i=new ss(r[t],e,this);break;case 5:i=new sn(s,e);break;default:i=new sr}this.effectElements.push(i)}}renderFrame(t){throw Error(`${this.constructor.name}: Method renderFrame is not implemented yet`)}}class sn{constructor(t,e,s){let i=t.ef??[];this.effectElements=[];let{length:r}=i;for(let s=0;s<r;s++){let r=new sa(i[s],e,t);this.effectElements.push(r)}}}function so(t=16){return({0:"source-over",1:"multiply",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light"})[t]||""}class sh{buildAllItems(){throw Error(`${this.constructor.name}: Method buildAllItems is not implemented`)}checkLayers(t){throw Error(`${this.constructor.name}: Method checkLayers is not implemented`)}checkMasks(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not initialized`);if(!this.data.hasMask)return!1;let t=0,{length:e}=this.data.masksProperties??[];for(;t<e;){if(this.data.masksProperties?.[t].mode!=="n"&&this.data.masksProperties?.[t].cl!==!1)return!0;t++}return!1}destroy(){}destroyBaseElement(){throw Error(`${this.constructor.name}: Method destroyBaseElement is not implemented`)}getBaseElement(){throw Error(`${this.constructor.name}: Method getBaseElement is not implemented`)}getType(){return this.type}initBaseData(t,e,s){this.globalData=e,this.comp=s,this.data=t,this.layerId=X(),this.data.sr||(this.data.sr=1),this.effectsManager=new sn(this.data,this,this.dynamicProperties)}initExpressions(){try{if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let t=tL();if(!t)return;let e=t("layer"),s=t("effects"),i=t("shape"),r=t("text"),a=t("comp");this.layerInterface=new e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);let n=new s().createEffectsInterface(this,this.layerInterface);if(this.layerInterface.registerEffectsInterface(n),0===this.data.ty||this.data.xt){this.compInterface=new a(this);return}if(4===this.data.ty){this.layerInterface.shapeInterface=new i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface;return}5===this.data.ty&&(this.layerInterface.textInterface=new r(this),this.layerInterface.text=this.layerInterface.textInterface)}catch(t){console.error(this.constructor.name,t)}}setBlendMode(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let t=so(this.data.bm),e=this.baseElement??this.layerElement;if(!e)throw Error(`${this.constructor.name}: Both baseElement and layerElement are not implemented`);e.style.mixBlendMode=t}sourceRectAtTime(){throw Error(`${this.constructor.name}: Method sourceRectAtTime is not implemented`)}constructor(){this.dynamicProperties=[],this.frameDuration=1,this.itemsData=[],this.layerInterface=null,this.shapesData=[]}}class sl extends ej{constructor(t,e,s){if(super(),this.defaultVector=[0,0],this.elem=t,this.frameId=-1,this.propType=R.Transform,this.data=e,this.v=new t8,this.pre=new t8,this.appliedTransformations=0,this.initDynamicPropertyContainer(s??t),e.p&&"s"in e.p?(this.px=eX.getProp(t,e.p.x,0,0,this),this.py=eX.getProp(t,e.p.y,0,0,this),"z"in e.p&&(this.pz=eX.getProp(t,e.p.z,0,0,this))):this.p=eX.getProp(t,e.p??{k:[0,0,0]},1,0,this),"rx"in e){if(this.rx=eX.getProp(t,e.rx,0,t5,this),this.ry=eX.getProp(t,e.ry,0,t5,this),this.rz=eX.getProp(t,e.rz,0,t5,this),e.or?.k[0].ti){let{length:t}=e.or.k;for(let s=0;s<t;s++)e.or.k[s].to=null,e.or.k[s].ti=null}this.or=eX.getProp(t,e.or,1,t5,this),this.or.sh=!0}else this.r=eX.getProp(t,e.r??{k:0},0,t5,this);e.sk&&(this.sk=eX.getProp(t,e.sk,0,t5,this),this.sa=eX.getProp(t,e.sa,0,t5,this)),this.a=eX.getProp(t,e.a??{k:[0,0,0]},1,0,this),this.s=eX.getProp(t,e.s??{k:[100,100,100]},1,.01,this),e.o?this.o=eX.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,0===this.dynamicProperties.length&&this.getValue(!0)}addDynamicProperty(t){super.addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0}applyToMatrix(t){if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);this.iterateDynamicProperties(),this._mdf=!!this._mdf,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,Number(this.sa?.v)),this.r?t.rotate(-Number(this.r.v)):t.rotateZ(-Number(this.rz?.v)).rotateY(Number(this.ry?.v)).rotateX(Number(this.rx?.v)).rotateZ(-Number(this.or?.v[2])).rotateY(Number(this.or?.v[1])).rotateX(Number(this.or?.v[0])),this.data.p&&"s"in this.data.p?"z"in this.data.p?t.translate(Number(this.px?.v),Number(this.py?.v),-Number(this.pz?.v)):t.translate(Number(this.px?.v),Number(this.py?.v),0):t.translate(Number(this.p?.v[0]),Number(this.p?.v[1]),-Number(this.p?.v[2]))}autoOrient(){throw Error(`${this.constructor.name}: Method autoOrient not implemented`)}getValue(t){if(this.elem.globalData?.frameId===this.frameId)return 0;if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,Number(this.sa?.v)),this.r&&this.appliedTransformations<4?this.v.rotate(-Number(this.r.v)):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-Number(this.rz?.v)).rotateY(Number(this.ry?.v)).rotateX(Number(this.rx?.v)).rotateZ(-Number(this.or?.v[2])).rotateY(Number(this.or?.v[1])).rotateX(Number(this.or?.v[0])),this.autoOriented){let t,e,{frameRate:s}=this.elem.globalData??{frameRate:60};if(this.p?.keyframes)Number(this.p._caching?.lastFrame)+Number(this.p.offsetTime)<=this.p.keyframes[0].t?(t=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/s,0),e=this.p.getValueAtTime(Number(this.p.keyframes[0].t)/s,0)):Number(this.p._caching?.lastFrame)+Number(this.p.offsetTime)>=this.p.keyframes[this.p.keyframes.length-1].t?(t=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/s,0),e=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/s,0)):(t=this.p.pv,e=this.p.getValueAtTime((Number(this.p._caching?.lastFrame)+Number(this.p.offsetTime)-.01)/s,Number(this.p.offsetTime)));else if(this.px?.keyframes&&this.py?.keyframes){t=[0,0],e=[0,0];let{px:i,py:r}=this,{keyframes:a=[]}=i,{keyframes:n=[]}=r;Number(i._caching?.lastFrame)+Number(i.offsetTime)<=a[0].t?(t[0]=i.getValueAtTime((a[0].t+.01)/s,0),t[1]=r.getValueAtTime((n[0].t+.01)/s,0),e[0]=i.getValueAtTime(a[0].t/s,0),e[1]=r.getValueAtTime(Number(n[0]?.t)/s,0)):Number(i._caching?.lastFrame)+i.offsetTime>=a[a.length-1].t?(t[0]=i.getValueAtTime(a[a.length-1].t/s,0),t[1]=r.getValueAtTime(n[n.length-1].t/s,0),e[0]=i.getValueAtTime((a[a.length-1].t-.01)/s,0),e[1]=r.getValueAtTime((n[n.length-1].t-.01)/s,0)):(t=[i.pv,r.pv],e[0]=i.getValueAtTime((Number(i._caching?.lastFrame)+i.offsetTime-.01)/s,i.offsetTime),e[1]=r.getValueAtTime((Number(r._caching?.lastFrame)+r.offsetTime-.01)/s,r.offsetTime))}else t=e=this.defaultVector;this.v.rotate(-Math.atan2(t[1]-e[1],t[0]-e[0]))}this.data.p&&"s"in this.data.p?"z"in this.data.p?this.v.translate(Number(this.px?.v),Number(this.py?.v),-Number(this.pz?.v)):this.v.translate(Number(this.px?.v),Number(this.py?.v),0):this.p&&this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}return this.frameId=this.elem.globalData?.frameId,0}precalculateMatrix(){if(this.appliedTransformations=0,this.pre.reset(),!this.a?.effectsSequence.length){if(!this.a)throw Error(`${this.constructor.name}: Cannot read 'a' value`);if(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s?.effectsSequence.length){if(!this.s)throw Error(`${this.constructor.name}: Cannot read 's' value`);if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length>0||this.sa?.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,Number(this.sa?.v)),this.appliedTransformations=3}if(this.r){0===this.r.effectsSequence.length&&(this.pre.rotate(-Number(this.r.v)),this.appliedTransformations=4);return}this.rz?.effectsSequence.length||this.ry?.effectsSequence.length||this.rx?.effectsSequence.length||this.or?.effectsSequence.length||(this.pre.rotateZ(-Number(this.rz?.v)).rotateY(Number(this.ry?.v)).rotateX(Number(this.rx?.v)).rotateZ(-Number(this.or?.v[2])).rotateY(this.or?.v[1]).rotateX(this.or?.v[0]),this.appliedTransformations=4)}}}}let sp={getTransformProperty:(t,e,s)=>new sl(t,e,s)};class sm extends sh{globalToLocal(t){let e,s=t,i=[];i.push(this.finalTransform);let r=!0,{comp:a}=this;for(;r;)a?.finalTransform?(a.data?.hasMask&&i.splice(0,0,a.finalTransform),a=a.comp):r=!1;let{length:n}=i;for(let t=0;t<n;t++)e=i[t]?.mat.applyToPointArray(0,0,0),s=[s[0]-Number(e?.[0]),s[1]-Number(e?.[1]),0];return s}initTransform(){if(!this.data)throw Error(`${this.constructor.name}: LottiePlayer is not initialized`);let t=new t8;this.finalTransform={_localMatMdf:!1,_matMdf:!1,_opMdf:!1,localMat:t,localOpacity:1,mat:t,mProp:this.data.ks?sp.getTransformProperty(this,this.data.ks,this):{o:0}},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)}renderLocalTransform(){if(!this.localTransforms)return;if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not initialized`);let t=0,{length:e}=this.localTransforms;if(this.finalTransform._localMatMdf=!!this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=Number(this.finalTransform.mProp.o?.v),this.finalTransform._opMdf=!0),t++;if(this.finalTransform._localMatMdf){let{localMat:s,mat:i}=this.finalTransform;for(this.localTransforms[0].matrix?.clone(s),t=1;t<e;t++){let e=this.localTransforms[t].matrix;e&&s.multiply(e)}s.multiply(i)}if(this.finalTransform._opMdf){let s=this.finalTransform.localOpacity;for(t=0;t<e;t++)s*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=s}}renderTransform(){if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not initialized`);if(this.finalTransform._opMdf=!!(this.finalTransform.mProp.o?._mdf||this._isFirstFrame),this.finalTransform._matMdf=!!(this.finalTransform.mProp._mdf||this._isFirstFrame),this.hierarchy){let t=this.finalTransform.mat,e=0,{length:s}=this.hierarchy;if(!this.finalTransform._matMdf)for(;e<s;){if(this.hierarchy[e].finalTransform?.mProp._mdf){this.finalTransform._matMdf=!0;break}e++}if(this.finalTransform._matMdf){let i=this.finalTransform.mProp.v.props;for(t.cloneFromProps(i),e=0;e<s;e++)if(this.hierarchy[e].finalTransform?.mProp.v){let{v:s}=this.hierarchy[e].finalTransform?.mProp??{v:null};s&&t.multiply(s)}}}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=Number(this.finalTransform.mProp.o?.v))}searchEffectTransforms(){if(!this.renderableEffectsManager)return;let t=this.renderableEffectsManager.getEffects(N.TransformEffect);if(0===t.length)return;this.localTransforms=[],this.finalTransform&&(this.finalTransform.localMat=new t8);let{length:e}=t;for(let s=0;s<e;s++)this.localTransforms.push(t[s])}constructor(...t){super(...t),this.mHelper=new t8}}class sc extends sm{checkParenting(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.comp)throw Error(`${this.constructor.name}: comp (ElementInterface) is not implemented`);void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}initHierarchy(){this.hierarchy=[],this._isParent=!1,this.checkParenting()}setAsParent(){this._isParent=!0}setHierarchy(t){this.hierarchy=t}}class sd extends sc{addDynamicProperty(t){this.dynamicProperties.includes(t)||this.dynamicProperties.push(t)}initFrame(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1}prepareProperties(t,e){let{length:s}=this.dynamicProperties;for(let t=0;t<s;t++)(e||this._isParent&&this.dynamicProperties[t].propType===R.Transform)&&(this.dynamicProperties[t].getValue(),this.globalData&&this.dynamicProperties[t]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))}constructor(...t){super(...t),this.displayStartTime=0}}class su extends sd{addRenderableComponent(t){this.renderableComponents.includes(t)||this.renderableComponents.push(t)}checkLayerLimits(t){this.data&&this.globalData&&(this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide()))}checkTransparency(){if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not implemented`);if(0>=Number(this.finalTransform.mProp.o?.v)){!this.isTransparent&&(this.globalData?.renderConfig).hideOnTransparent&&(this.isTransparent=!0,this.hide());return}this.isTransparent&&(this.isTransparent=!1,this.show())}getLayerSize(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);return 5===this.data.ty?{h:Number(this.data.textData?.height),w:Number(this.data.textData?.width)}:{h:Number(this.data.height),w:Number(this.data.width)}}hide(){}initRenderable(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]}prepareRenderableFrame(t,e){this.checkLayerLimits(t)}removeRenderableComponent(t){this.renderableComponents.includes(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)}renderRenderable(){let{length:t}=this.renderableComponents;for(let e=0;e<t;e++)this.renderableComponents[e].renderFrame(Number(this._isFirstFrame))}show(){throw Error(`${this.constructor.name}: Method show is not implemented`)}sourceRectAtTime(){return{height:100,left:0,top:0,width:100}}constructor(...t){super(...t),this.renderableComponents=[]}}let sf=new class{constructor(){if(this.maskType=!0,this.offscreenCanvas="undefined"!=typeof OffscreenCanvas,this.svgLumaHidden=!0,!Z())return;this.maskType=!/MSIE 10/i.test(navigator.userAgent)&&!/MSIE 9/i.test(navigator.userAgent)&&!/rv:11.0/i.test(navigator.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent),this.svgLumaHidden=!/firefox/i.test(navigator.userAgent)}},sg="__lottie_element_luma_buffer",sy=null,sv=null,sb=null;function s_(){let t,e,s;(!sy||!sv)&&(t=tz("svg"),e=tz("filter"),s=tz("feColorMatrix"),e.id=sg,s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),e.appendChild(s),t.appendChild(e),t.id=`${sg}_svg`,sf.svgLumaHidden&&(t.style.display="none"),sb=t,document.body.appendChild(sb),(sv=(sy=tO("canvas")).getContext("2d"))&&(sv.filter=`url(#${sg})`,sv.fillStyle="rgba(0,0,0,0)",sv.fillRect(0,0,1,1)))}let sx={createCanvas:function(t,e){if(sf.offscreenCanvas)return new OffscreenCanvas(t,e);let s=tO("canvas");return s.width=t,s.height=e,s},getLumaCanvas:function(t){if(sy&&sv||s_(),!sy||!sv)throw Error("Could not create Canvas Element");return sy.width=t.width,sy.height=t.height,sv.filter=`url(#${sg})`,sy},loadLumaCanvas:s_},sw={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};class sE extends su{clearCanvas(t){if(!this.transformCanvas)throw Error(`${this.constructor.name}: transformCanvas is not implemented`);t?.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)}createContainerElements(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.globalData.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented in globalData`);if(this.data.tt&&this.data.tt>=1){this.buffers=[];let{canvasContext:t}=this.globalData,e=sx.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);let s=sx.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(s),this.data.tt>=3&&!document._isProxy&&sx.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new ea(this),this.searchEffectTransforms()}createContent(){}createElements(){throw Error(`${this.constructor.name}: createElements is not implemented`)}createRenderableComponents(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);this.maskManager=new e5(this.data,this),this.renderableEffectsManager&&(this.transformEffects=this.renderableEffectsManager.getEffects(N.TransformEffect))}destroy(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager?.destroy()}exitLayer(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);let t=this.data.tt||0;if(t<1)return;let e=this.buffers[1],s=e.getContext("2d");this.clearCanvas(s),s.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);let i=Number(this.data.ind)-1;"tp"in this.data&&void 0!==this.data.tp&&(i=this.data.tp);let r=this.comp?.getElementById(i);if(r?.renderFrame(1),this.canvasContext.setTransform(1,0,0,1,0,0),t>=3&&!document._isProxy){let t=sx.getLumaCanvas(this.canvasContext.canvas),e=t.getContext("2d");e?.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(t,0,0)}this.canvasContext.globalCompositeOperation=sw[t],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}hideElement(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)}initRendererElement(){}prepareLayer(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);if(1>(this.data.tt||0))return;let t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}renderFrame(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(this.hidden||this.data.hd||1===this.data.td&&!t)return;this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();let e=0===this.data.ty;this.prepareLayer();let{renderer:s}=this.globalData;s.save(e),s.ctxTransform(this.finalTransform?.localMat.props),s.ctxOpacity(this.finalTransform?.localOpacity),this.renderInnerContent(),s.restore(e),this.exitLayer(),this.maskManager?.hasMasks&&s.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}renderInnerContent(){throw Error("Method is not implemented")}setBlendMode(){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let{data:t,globalData:e}=this;if(!e.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented in globalData`);if(e.blendMode!==t.bm){e.blendMode=t.bm;let s=so(t.bm);e.canvasContext.globalCompositeOperation=s}}showElement(){if(!this.maskManager)throw Error(`${this.constructor.name}: Method maskManager is not implemented`);this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)}constructor(...t){super(...t),this.buffers=[],this.transformEffects=[]}}sE.prototype.hide=sE.prototype.hideElement,sE.prototype.show=sE.prototype.showElement;class sC extends su{createContainerElements(){throw Error(`${this.constructor.name}: Method createContainerElements is not implemented`)}createContent(){throw Error(`${this.constructor.name}: Method createContent is not implemented`)}createRenderableComponents(){throw Error(`${this.constructor.name}: Method createRenderableComponents is not implemented`)}destroy(){this.innerElem=null,this.destroyBaseElement()}hide(){if(this.hidden||this.isInRange&&!this.isTransparent)return;let t=this.baseElement??this.layerElement;t&&(t.style.display="none"),this.hidden=!0}initElement(t,e,s){this.initFrame(),this.initBaseData(t,e,s),this.initTransform(),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()}initRendererElement(){throw Error(`${this.constructor.name}: Method initRendererElement is not implemented`)}prepareFrame(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()}renderElement(){throw Error(`${this.constructor.name}: Method renderElement is not implemented`)}renderFrame(t){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))}renderInnerContent(){throw Error(`${this.constructor.name}: Method renderInnerContent is not implemented`)}show(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(this.isInRange||!this.isTransparent){if(!this.data.hd){let t=this.baseElement??this.layerElement;if(!t)throw Error(`${this.constructor.name}: Neither baseElement or layerElement is implemented`);t.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}}}class sS extends sC{destroy(){this.destroyElements(),this.destroyBaseElement()}destroyElements(){let{length:t}=this.layers;for(let e=0;e<t;e++)this.elements[e]?.destroy()}getElements(){return this.elements}initElement(t,e,s){if(this.initFrame(),this.initBaseData(t,e,s),this.initTransform(),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()}prepareFrame(t){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!this.isInRange&&!this.data.xt)return;if(this.tm?._placeholder)this.renderedFrame=t/Number(this.data.sr);else{let t=this.tm?.v||0;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}let{length:e}=this.elements;this.completeLayers||this.checkLayers(this.renderedFrame);for(let t=e-1;t>=0;t--)(this.completeLayers||this.elements[t])&&(this.elements[t]?.prepareFrame(this.renderedFrame-this.layers[t].st),this.elements[t]?._mdf&&(this._mdf=!0))}renderInnerContent(){let{length:t}=this.layers;for(let e=0;e<t;e++)(this.completeLayers||this.elements[e])&&this.elements[e]?.renderFrame()}setElements(t){this.elements=t}constructor(...t){super(...t),this.currentFrame=0,this.elements=[],this.layers=[]}}class sk{constructor(t,e,s){this.masksProperties=[],this.data=t,this.element=e,this.globalData=s,this.storedData=[],this.masksProperties=this.data.masksProperties??[],this.maskElement=null;let{defs:i}=this.globalData,{length:r}=this.masksProperties;this.viewData=t6(r),this.solidPath="";let a=this.masksProperties,n=0,o=[],h=X(),l,p,m,c="clipPath",d="clip-path";for(let t=0;t<r;t++){let e;("a"!==a[t].mode&&"n"!==a[t].mode||a[t].inv||a[t].o?.k!==100||a[t].o?.x)&&(c="mask",d="mask"),("s"===a[t].mode||"i"===a[t].mode)&&0===n?((l=tz("rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",`${Number(this.element.comp?.data?.w)}`),l.setAttribute("height",`${Number(this.element.comp?.data?.h)}`),o.push(l)):l=null;let s=tz("path");if("n"===a[t].mode){this.viewData[t]={elem:s,lastPath:"",op:eX.getProp(this.element,a[t].o,0,.01,this.element),prop:e3.getShapeProp(this.element,a[t],3)},i.appendChild(s);continue}if(n++,s.setAttribute("fill","s"===a[t].mode?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero"),a[t].x?.k===0)p=null,m=null;else{c="mask",d="mask",m=eX.getProp(this.element,a[t].x,0,null,this.element),e=X();let r=tz("filter");r.id=e,(p=tz("feMorphology")).setAttribute("operator","erode"),p.setAttribute("in","SourceGraphic"),p.setAttribute("radius","0"),r.appendChild(p),i.appendChild(r),s.setAttribute("stroke","s"===a[t].mode?"#000000":"#ffffff")}if(this.storedData[t]={elem:s,expan:p,filterId:e,lastOperator:"",lastPath:"",lastRadius:0,x:m},"i"===a[t].mode){let{length:t}=o,e=tz("g");for(let s=0;s<t;s++)e.appendChild(o[s]);let r=tz("mask");r.setAttribute("mask-type","alpha"),r.id=`${h}_${n}`,r.appendChild(s),i.appendChild(r),e.setAttribute("mask",`url(${es()}#${h}_${n})`),o.length=0,o.push(e)}else o.push(s);a[t].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[t]={elem:s,invRect:l,lastPath:"",op:eX.getProp(this.element,a[t].o,0,.01,this.element),prop:e3.getShapeProp(this.element,a[t],3)};let r=this.viewData[t].prop?.v;!this.viewData[t].prop?.k&&r&&this.drawPath(a[t],r,this.viewData[t])}this.maskElement=tz(c);let{length:u}=o;for(let t=0;t<u;t++)this.maskElement.appendChild(o[t]);n>0&&(this.maskElement.id=h,this.element.maskedElement?.setAttribute(d,`url(${es()}#${h})`),i.appendChild(this.maskElement)),this.viewData.length>0&&this.element.addRenderableComponent(this)}createLayerSolidPath(){return`M0,0  h${this.globalData.compSize?.w||0} v${this.globalData.compSize?.h||0} h-${this.globalData.compSize?.w||0} v-${this.globalData.compSize?.h||0} `}destroy(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null}drawPath(t,e,s){let i,r=` M${e.v[0]?.[0]},${e.v[0]?.[1]}`,a=e._length||0;for(i=1;i<a;i++)r+=` C${e.o[i-1]?.[0]},${e.o[i-1]?.[1]} ${e.i[i]?.[0]},${e.i[i]?.[1]} ${e.v[i]?.[0]},${e.v[i]?.[1]}`;if(e.c&&a>1&&(r+=` C${e.o[i-1]?.[0]},${e.o[i-1]?.[1]} ${e.i[0]?.[0]},${e.i[0]?.[1]} ${e.v[0]?.[0]},${e.v[0]?.[1]}`),s.lastPath!==r){let i="";s.elem&&(e.c&&(i=t?.inv?this.solidPath+r:r),s.elem.setAttribute("d",i)),s.lastPath=r}}getMaskelement(){return this.maskElement}getMaskProperty(t){return this.viewData[t].prop}renderFrame(t){let e=this.element.finalTransform?.mat,{length:s}=this.masksProperties;for(let i=0;i<s;i++){let s=this.viewData[i].prop?.v;if(s&&(this.viewData[i].prop?._mdf||t)&&this.drawPath(this.masksProperties[i]||null,s,this.viewData[i]),(this.viewData[i].op._mdf||t)&&this.viewData[i].elem.setAttribute("fill-opacity",`${this.viewData[i].op.v}`),"n"===this.masksProperties[i].mode||(this.viewData[i].invRect&&(this.element.finalTransform?.mProp._mdf||t)&&this.viewData[i].invRect?.setAttribute("transform",`${e?.getInverseMatrix().to2dCSS()}`),!this.storedData[i]?.x||!(this.storedData[i].x?._mdf||t)))continue;let r=this.storedData[i].expan;if(0>Number(this.storedData[i].x?.v)){"erode"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter",`url(${es()}#${this.storedData[i].filterId})`)),r?.setAttribute("radius",`${-Number(this.storedData[i].x?.v)}`);continue}"dilate"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.removeAttribute("filter")),this.storedData[i].elem.setAttribute("stroke-width",`${2*Number(this.storedData[i].x?.v)}`)}}}class sP extends sC{createContainerElements(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);this.matteElement=tz("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;let t=null;if(this.data.td){this.matteMasks={};let e=tz("g");this.layerId&&(e.id=this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&(this.layerElement.id=this.data.ln),this.data.cl&&this.layerElement.classList.add(this.data.cl),0===this.data.ty&&!this.data.hd){let e=tz("clipPath"),s=tz("path");s.setAttribute("d",`M0,0 L${this.data.w},0 L${this.data.w},${this.data.h} L0,${this.data.h}z`);let i=X();if(e.id=i,e.appendChild(s),this.globalData.defs.appendChild(e),this.checkMasks()){let e=tz("g");e.setAttribute("clip-path",`url(${es()}#${i})`),e.appendChild(this.layerElement),this.transformedElement=e,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path",`url(${es()}#${i})`)}0!==this.data.bm&&this.setBlendMode()}createRenderableComponents(){if(!this.data)throw Error(`${this.constructor.name}: layerData is not initialized`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not initialized`);this.maskManager=new sk(this.data,this,this.globalData),this.renderableEffectsManager=new el(this),this.searchEffectTransforms()}destroyBaseElement(){this.layerElement=null,this.matteElement=null,this.maskManager?.destroy()}getBaseElement(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);return this.data.hd?null:this.baseElement??null}getMatte(t=1){let e,s,i,r;if(this.matteMasks=this.matteMasks??{},this.matteMasks[t])return this.matteMasks[t];let a=`${this.layerId}_${t}`;switch(t){case 1:case 3:{let n=tz("mask");if(n.id=a,n.setAttribute("mask-type",3===t?"luminance":"alpha"),(i=tz("use")).setAttributeNS("http://www.w3.org/1999/xlink","href",`#${this.layerId}`),n.appendChild(i),this.globalData?.defs.appendChild(n),sf.maskType||1!==t)break;n.setAttribute("mask-type","luminance"),e=X(),s=en.createFilter(e),this.globalData?.defs.appendChild(s),s.appendChild(en.createAlphaToLuminanceFilter()),(r=tz("g")).appendChild(i),n.appendChild(r),r.setAttribute("filter",`url(${es()}#${e})`)}break;case 2:{let t=tz("mask");t.id=a,t.setAttribute("mask-type","alpha");let n=tz("g");t.appendChild(n),e=X(),s=en.createFilter(e);let o=tz("feComponentTransfer");o.setAttribute("in","SourceGraphic"),s.appendChild(o);let h=tz("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),o.appendChild(h),this.globalData?.defs.appendChild(s);let l=tz("rect");l.setAttribute("width",`${Number(this.comp?.data?.w)}`),l.setAttribute("height",`${Number(this.comp?.data?.h)}`),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),n.setAttribute("filter",`url(${es()}#${e})`),n.appendChild(l),(i=tz("use")).setAttributeNS("http://www.w3.org/1999/xlink","href",`#${this.layerId}`),n.appendChild(i),sf.maskType||(t.setAttribute("mask-type","luminance"),s.appendChild(en.createAlphaToLuminanceFilter()),r=tz("g"),n.appendChild(l),this.layerElement&&r.appendChild(this.layerElement),n.appendChild(r)),this.globalData?.defs.appendChild(t)}}return this.matteMasks[t]=a,this.matteMasks[t]}initRendererElement(){this.layerElement=tz("g")}renderElement(){if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not implemented`);this.finalTransform._localMatMdf&&this.transformedElement?.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement?.setAttribute("opacity",`${this.finalTransform.localOpacity}`)}setMatte(t){this.matteElement&&this.matteElement.setAttribute("mask",`url(${es()}#${t})`)}}class sM extends sP{constructor(t,e,s){super(),this.layers=[],t.refId&&(this.assetData=e.getAssetData(t.refId)),this.assetData?.sid&&(this.assetData=e.slotManager?.getProp(this.assetData)||null),this.initElement(t,e,s),this.sourceRect={height:Number(this.assetData?.h),left:0,top:0,width:Number(this.assetData?.w)}}createContent(){let t="";this.assetData&&this.globalData?.getAssetsPath&&(t=this.globalData.getAssetsPath(this.assetData)),this.assetData&&(this.innerElem=tz("image"),this.innerElem.setAttribute("width",`${this.assetData.w}px`),this.innerElem.setAttribute("height",`${this.assetData.h}px`),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData?.renderConfig?.imagePreserveAspectRatio||""),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement?.appendChild(this.innerElem))}renderInnerContent(){}sourceRectAtTime(){return this.sourceRect}}class sA{constructor(){this.it=[],this.prevViewData=[],this.gr=tz("g")}}function sT(t,e,s,i){if(0===e)return"";let r=t.o,a=t.i,n=t.v,o,h=` M${i.applyToPointStringified(n[0][0],n[0][1])}`;for(o=1;o<e;o++)h+=` C${i.applyToPointStringified(r[o-1][0],r[o-1][1])} ${i.applyToPointStringified(a[o][0],a[o][1])} ${i.applyToPointStringified(n[o][0],n[o][1])}`;return s&&e&&(h+=` C${i.applyToPointStringified(r[o-1][0],r[o-1][1])} ${i.applyToPointStringified(a[0][0],a[0][1])} ${i.applyToPointStringified(n[0][0],n[0][1])}z`),h}let sD=new t8,sI=new t8;function sF(t,e,s){if(!e)throw Error("SVGElementsRenderer: Method renderContetTransform is missing data");(s||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",`${e.transform.op.v}`),(s||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function sL(t,e,s){if(!e)throw Error("SVGElementsRenderer: Method renderFill is missing data");let i=e.style;e.c?.v&&(e.c._mdf||s)&&i.pElem.setAttribute("fill",`rgb(${Math.floor(e.c.v[0])},${Math.floor(e.c.v[1])},${e.c.v[2]})`),(e.o?._mdf||s)&&i.pElem.setAttribute("fill-opacity",`${e.o?.v}`)}function s$(t,e,s){let i,r;if(!e)throw Error("SVGElementsRenderer: Method renderGradient is missing data");let a=e.gf,n=e.g?._hasOpacity,o=e.s?.v??[0,0],h=e.e?.v??[0,0];if(e.o?._mdf||s){let s=t.ty===$.GradientFill?"fill-opacity":"stroke-opacity";e.style?.pElem.setAttribute(s,`${e.o?.v}`)}if(e.s?._mdf||s){let s=1===t.t?"x1":"cx",i="x1"===s?"y1":"cy";a?.setAttribute(s,`${o[0]}`),a?.setAttribute(i,`${o[1]}`),n&&!e.g?._collapsable&&(e.of?.setAttribute(s,`${o[0]}`),e.of?.setAttribute(i,`${o[1]}`))}if(e.g&&(e.g._cmdf||s)){i=e.cst;let t=e.g.c,{length:s}=i;for(let e=0;e<s;e++)(r=i[e]).setAttribute("offset",`${t[4*e]}%`),r.setAttribute("stop-color",`rgb(${t[4*e+1]},${t[4*e+2]},${t[4*e+3]})`)}if(n&&e.g&&(e.g._omdf||s)){let t=e.g.o,{length:s}=i=e.g._collapsable?e.cst:e.ost;for(let a=0;a<s;a++)r=i[a],e.g._collapsable||r.setAttribute("offset",`${t[2*a]}%`),r.setAttribute("stop-opacity",`${t[2*a+1]}`)}if(1===t.t)(e.e?._mdf||s)&&(a?.setAttribute("x2",`${h[0]}`),a?.setAttribute("y2",`${h[1]}`),n&&!e.g?._collapsable&&(e.of?.setAttribute("x2",`${h[0]}`),e.of?.setAttribute("y2",`${h[1]}`)));else{let t=0;if((e.s?._mdf||e.e?._mdf||s)&&(t=Math.sqrt(Math.pow(o[0]-h[0],2)+Math.pow(o[1]-h[1],2)),a?.setAttribute("r",`${t}`),n&&!e.g?._collapsable&&e.of?.setAttribute("r",`${t}`)),e.e?._mdf||e.h?._mdf||e.a?._mdf||s){t||(t=Math.sqrt(Math.pow(o[0]-h[0],2)+Math.pow(o[1]-h[1],2)));let s=Math.atan2(h[1]-o[1],h[0]-o[0]),i=Number(e.h?.v);i>=1?i=.99:i<=-1&&(i=-.99);let r=t*i,l=Math.cos(s+Number(e.a?.v))*r+o[0],p=Math.sin(s+Number(e.a?.v))*r+o[1];a?.setAttribute("fx",`${l}`),a?.setAttribute("fy",`${p}`),n&&!e.g?._collapsable&&(e.of?.setAttribute("fx",`${l}`),e.of?.setAttribute("fy",`${p}`))}}}function sN(t,e,s){s$(t,e,s),sO(t,e,s)}function sR(t){}function sV(t,e,s){let i,r,a,n,o,h,l;if(!e)throw Error("SVGElementsRenderer: Method renderPath is missing data");let{caches:p,lvl:m,sh:c,styles:d,transformers:u}=e,{length:f}=d;for(let e=0;e<f;e++){if(r=c?._mdf||!!s,d[e].lvl<m){for(o=sI.reset(),h=m-d[e].lvl,l=u.length-1;!r&&h>0;)r=u[l].mProps._mdf||r,h--,l--;if(r)for(h=m-d[e].lvl,l=u.length-1;h>0;)o.multiply(u[l].mProps.v),h--,l--}else o=sD;n=c?.paths;let f=n?._length||0;if(r){i="";for(let t=0;t<f;t++)a=n?.shapes[t],a?._length&&(i+=sT(a,a._length,!!a.c,o));p[e]=i}else i=p[e];d[e].d+=!0===t.hd?"":i,d[e]._mdf=r||d[e]._mdf}}function sO(t,e,s){if(!e)throw Error("SVGElementsRenderer: Method renderStroke is missing data");let{c:i,d:r,o:a,style:n,w:o}=e;r&&(r._mdf||s)&&r.dashStr&&(n?.pElem.setAttribute("stroke-dasharray",r.dashStr),n?.pElem.setAttribute("stroke-dashoffset",`${r.dashoffset[0]}`)),i&&(i._mdf||s)&&n?.pElem.setAttribute("stroke",`rgb(${Math.floor(i.v[0])},${Math.floor(i.v[1])},${Math.floor(i.v[2])})`),(a?._mdf||s)&&n?.pElem.setAttribute("stroke-opacity",`${a?.v??1}`),(o?._mdf||s)&&(n?.pElem.setAttribute("stroke-width",`${o?.v||0}`),n?.msElem&&n.msElem.setAttribute("stroke-width",`${o?.v||0}`))}class sz extends ez{constructor(t,e,s){super(),this.it=[],this.prevViewData=[],this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=eX.getProp(t,e.o,0,.01,this),this.c=eX.getProp(t,e.c,1,255,this),this.style=s}}class sB extends ez{constructor(t,e,s){super(),this.data=e,this.c=t4(D.Uint8c,4*e.p);let i=e.k.k?.[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=t4(D.Float32,i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(s),this.prop=eX.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}checkCollapsable(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k?.[0].s){let t=0,e=this.data.k.k.length;for(;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t++}}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0}comparePoints(t,e){let s=0,i=this.o.length/2;for(;s<i;){if(Math.abs(t[4*s]-t[4*e+2*s])>.01)return!1;s++}return!0}getValue(t){let e,s;if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,!this.prop._mdf&&!t||!tt(this.prop.v))return 0;let i=4*this.data.p;for(let r=0;r<i;r++)e=r%4==0?100:255,s=Math.round(this.prop.v[r]*e),this.c[r]!==s&&(this.c[r]=s,this._cmdf=!t);if(this.o.length>0){let{length:e}=this.prop.v;for(let i=4*this.data.p;i<e;i++)s=i%2==0?Math.round(100*this.prop.v[i]):this.prop.v[i],this.o[i-4*this.data.p]!==s&&(this.o[i-4*this.data.p]=s,this._omdf=!t)}return this._mdf=!t,0}}class sG extends ez{constructor(t,e,s){super(),this.cst=[],this.it=[],this.ost=[],this.prevViewData=[],this.stops=[],this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,s)}initGradientData(t,e,s){this.o=eX.getProp(t,e.o,0,.01,this),this.s=eX.getProp(t,e.s,1,null,this),this.e=eX.getProp(t,e.e,1,null,this),this.h=eX.getProp(t,e.h??{k:0},0,.01,this),this.a=eX.getProp(t,e.a??{k:0},0,t5,this),this.g=new sB(t,e.g,this),this.style=s,this.stops=[],this.setGradientData(s.pElem,e),this.setGradientOpacity(e,s),this._isAnimated=!!this._isAnimated}setGradientData(t,e){let s,i=X(),r=tz(1===e.t?"linearGradient":"radialGradient");r.id=i,r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");let a=[],n=4*(e.g?.p||1);for(let t=0;t<n;t+=4)s=tz("stop"),r.appendChild(s),a.push(s);t.setAttribute(e.ty===$.GradientFill?"fill":"stroke",`url(${es()}#${i})`),this.gf=r,this.cst=a}setGradientOpacity(t,e){let s;if(!this.g?._hasOpacity||this.g._collapsable)return;let i=tz("mask"),r=tz("path");i.appendChild(r);let a=X(),n=X();i.id=n;let o=tz(1===t.t?"linearGradient":"radialGradient");o.id=a,o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");let h=(t.g?.k.k?.[0].s?(t.g?.k.k)[0].s.length:t.g?.k.k.length)||0,{stops:l}=this;for(let e=4*(t.g?.p||1);e<h;e+=2)(s=tz("stop")).setAttribute("stop-color","rgb(255,255,255)"),o.appendChild(s),l.push(s);r.setAttribute(t.ty===$.GradientFill?"fill":"stroke",`url(${es()}#${a})`),t.ty===$.GradientStroke&&(r.setAttribute("stroke-linecap",V[t.lc||2]),r.setAttribute("stroke-linejoin",O[t.lj||2]),1===t.lj&&r.setAttribute("stroke-miterlimit",`${Number(t.ml)}`)),this.of=o,this.ms=i,this.ost=l,this.maskId=n,e.msElem=r}}class sq extends ez{constructor(t,e,s,i){let r;super(),this.elem=t,this.frameId=-1,this.dataProps=t6(e.length),this.renderer=s,this.k=!1,this.dashStr="",this.dashArray=t4(D.Float32,e.length>0?e.length-1:0),this.dashoffset=t4(D.Float32,1),this.initDynamicPropertyContainer(i);let a=e.length||0;for(let s=0;s<a;s++)r=eX.getProp(t,e[s].v,0,0,this),this.k=r.k||this.k,this.dataProps[s]={n:e[s].n,p:r};this.k||this.getValue(!0),this._isAnimated=this.k}getValue(t){if(this.elem.globalData?.frameId===this.frameId&&!t||(this.elem.globalData?.frameId&&(this.frameId=this.elem.globalData.frameId),this.iterateDynamicProperties(),this._mdf=this._mdf||!!t,!this._mdf))return 0;let e=this.dataProps.length;this.renderer===L.SVG&&(this.dashStr="");for(let t=0;t<e;t++){if("o"===this.dataProps[t].n){this.dashoffset[0]=this.dataProps[t].p.v;continue}if(this.renderer===L.SVG){this.dashStr+=` ${this.dataProps[t].p.v}`;continue}this.dashArray[t]=this.dataProps[t].p.v}return 0}}class sj extends sG{constructor(t,e,s){super(t,e,s),this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=eX.getProp(t,e.w,0,null,this),this.d=new sq(t,e.d||[],L.SVG,this),this.initGradientData(t,e,s),this._isAnimated=!!this._isAnimated}}class sW extends ez{constructor(t,e,s){super(),this.it=[],this.prevViewData=[],this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=s}}class sH{setAsAnimated(){this._isAnimated=!0}constructor(){this.caches=[],this.it=[],this.lStr="",this.lvl=0,this.pathsData=[],this.prevViewData=[],this.sh=null,this.styledShapes=[],this.styles=[],this.tr=[],this.transformers=[],this.trNodes=[]}}class sY extends sH{constructor(t,e,s){super(),this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=s,this.lvl=e,this._isAnimated=!!s.k;let i=0,{length:r}=t;for(;i<r;){if(t[i].mProps.dynamicProperties.length>0){this._isAnimated=!0;break}i++}}}class sU extends sz{constructor(t,e,s){super(t,e,s),this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=eX.getProp(t,e.o,0,.01,this),this.w=eX.getProp(t,e.w,0,null,this),this.d=new sq(t,e.d||[],L.SVG,this),this.c=eX.getProp(t,e.c,1,255,this),this.style=s,this._isAnimated=!!this._isAnimated}}class sJ{constructor(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=tz("path"),this.msElem=null}reset(){this.d="",this._mdf=!1}}class sX{constructor(t,e,s){this.transform={container:s,mProps:t,op:e},this.elements=[],this._isAnimated=!!(this.transform.mProps.dynamicProperties.length>0||this.transform.op.effectsSequence.length>0)}}class sK{constructor(t,e){this.elem=t,this.pos=e}}class sZ extends sC{addProcessedElement(t,e){let{processedElements:s}=this,i=s.length;for(;i;)if(s[--i].elem===t){s[i].pos=e;return}s.push(new sK(t,e))}addShapeToModifiers(t){let{length:e}=this.shapeModifiers;for(let s=0;s<e;s++)this.shapeModifiers[s].addShape(t)}isShapeInAnimatedModifiers(t){let e=0,{length:s}=this.shapeModifiers;for(;e<s;){if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;e++}return!1}prepareFrame(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}renderModifiers(){if(0===this.shapeModifiers.length)return;let{length:t}=this.shapes;for(let e=0;e<t;e++)this.shapes[e].sh?.reset();let{length:e}=this.shapeModifiers;for(let t=e-1;t>=0&&!this.shapeModifiers[t].processShapes(!!this._isFirstFrame);t--);}searchProcessedElement(t){let{processedElements:e}=this,{length:s}=e,i=0;for(;i<s;){if(e[i].elem===t)return e[i].pos;i++}return 0}constructor(...t){super(...t),this.processedElements=[],this.shapeModifiers=[],this.shapes=[]}}let sQ={};function s0(t,e,s){if(!sQ[t])throw Error("Invalid modifier");return new sQ[t]}function s1(t,e){sQ[t]=sQ[t]??e}class s2 extends sZ{constructor(t,e,s){super(),this.createContainerElements=sP.prototype.createContainerElements,this.createRenderableComponents=sP.prototype.createRenderableComponents,this.destroyBaseElement=sP.prototype.destroyBaseElement,this.getBaseElement=sP.prototype.getBaseElement,this.getMatte=sP.prototype.getMatte,this.identityMatrix=new t8,this.initRendererElement=sP.prototype.initRendererElement,this.renderElement=sP.prototype.renderElement,this.setMatte=sP.prototype.setMatte,this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,s),this.prevViewData=[]}addToAnimatedContents(t,e){let s=0,{length:i}=this.animatedContents;for(;s<i;){if(this.animatedContents[s].element===e)return;s++}this.animatedContents.push({data:t,element:e,fn:function(t){switch(t.ty){case $.Fill:return sL;case $.GradientFill:return s$;case $.GradientStroke:return sN;case $.Stroke:return sO;case $.Path:case $.Ellipse:case $.Rectangle:case $.PolygonStar:return sV;case $.Transform:return sF;case $.NoStyle:return sR;default:return null}}(t)})}buildExpressionInterface(){}createContent(){if(!this.layerElement)throw Error(`${this.constructor.name}: Could not access Layer`);this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()}createGroupElement(t){let e=new sA;return t.ln&&(e.gr.id=t.ln),t.cl&&e.gr.classList.add(t.cl),t.bm&&(e.gr.style.mixBlendMode=so(t.bm)),e}createShapeElement(t,e,s){let i=4;switch(t.ty){case $.Rectangle:i=5;break;case $.Ellipse:i=6;break;case $.PolygonStar:i=7}let r=new sY(e,s,e3.getShapeProp(this,t,i));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(t,r),r}createStyleElement(t,e){let s=null,i=new sJ(t,e),r=i.pElem;switch(t.ty){case $.Stroke:s=new sU(this,t,i);break;case $.Fill:s=new sz(this,t,i);break;case $.GradientFill:case $.GradientStroke:(s=new(t.ty===$.GradientFill?sG:sj)(this,t,i)).gf&&this.globalData?.defs.appendChild(s.gf),s.maskId&&s.ms&&s.of&&(this.globalData?.defs.appendChild(s.ms),this.globalData?.defs.appendChild(s.of),r.setAttribute("mask",`url(${es()}#${s.maskId})`));break;case $.NoStyle:s=new sW(this,t,i)}return(t.ty===$.Stroke||t.ty===$.GradientStroke)&&(r.setAttribute("stroke-linecap",V[t.lc||2]),r.setAttribute("stroke-linejoin",O[t.lj||2]),r.setAttribute("fill-opacity","0"),1===t.lj&&t.ml&&r.setAttribute("stroke-miterlimit",`${t.ml}`)),2===t.r&&r.setAttribute("fill-rule","evenodd"),t.ln&&(r.id=t.ln),t.cl&&r.classList.add(t.cl),t.bm&&(r.style.mixBlendMode=so(t.bm)),this.stylesList.push(i),s&&this.addToAnimatedContents(t,s),s}createTransformElement(t,e){let s=sp.getTransformProperty(this,t,this);if(!s.o)throw Error(`${this.constructor.name}: Missing required data in TransformProperty`);let i=new sX(s,s.o,e);return this.addToAnimatedContents(t,i),i}destroy(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null}filterUniqueShapes(){let t,e,{length:s}=this.shapes,i=this.stylesList.length,r=[];for(let a=0;a<i;a++){t=this.stylesList[a],e=!1,r.length=0;for(let i=0;i<s;i++)this.shapes[i].styles.includes(t)&&(r.push(this.shapes[i]),e=this.shapes[i]._isAnimated||e);r.length>1&&e&&this.setShapesAsAnimated(r)}}initSecondaryElement(){}reloadShapes(){if(!this.layerElement)throw Error(`${this.constructor.name}: Could not access layerElement`);this._isFirstFrame=!0;let{length:t}=this.itemsData;for(let e=0;e<t;e++)this.prevViewData[e]=this.itemsData[e];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes();let{length:e}=this.dynamicProperties;for(let t=0;t<e;t++)this.dynamicProperties[t].getValue();this.renderModifiers()}renderInnerContent(){this.renderModifiers();let{length:t}=this.stylesList;for(let e=0;e<t;e++)this.stylesList[e].reset();this.renderShape();for(let e=0;e<t;e++)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem?.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d=`M0 0${this.stylesList[e].d}`),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))}renderShape(){let{length:t}=this.animatedContents;for(let e=0;e<t;e++)(this._isFirstFrame||this.animatedContents[e].element._isAnimated)&&!0!==this.animatedContents[e].data&&this.animatedContents[e].fn&&this.animatedContents[e].fn?.(this.animatedContents[e].data,this.animatedContents[e].element,this._isFirstFrame)}searchShapes(t,e,s,i,r,a,n){let o,h,l=n,p=[...a],m=[],c=[],{length:d}=t;for(let a=d-1;a>=0;a--){let n=this.searchProcessedElement(t[a]);switch(n?e[a]=s[n-1]:t[a]._shouldRender=l,t[a].ty){case $.Fill:case $.Stroke:case $.GradientFill:case $.GradientStroke:case $.NoStyle:if(n){let{style:t}=e[a]??{style:null};t&&(t.closed=!1)}else e[a]=this.createStyleElement(t[a],r);if(t[a]._shouldRender&&e[a]?.style?.pElem.parentNode!==i){let{pElem:t}=e[a].style??{pElem:null};t&&i.appendChild(t)}m.push(e[a]?.style);break;case $.Group:if(n){let{length:t}=e[a]?.it??[];for(let s=0;s<t;s++){let{it:t,prevViewData:i}=e[a]??{it:null,prevViewData:null};i&&t&&(i[s]=t[s])}}else e[a]=this.createGroupElement(t[a]);if(this.searchShapes(t[a].it,e[a]?.it??[],e[a]?.prevViewData??[],e[a].gr,r+1,p,l),t[a]._shouldRender&&e[a]?.gr?.parentNode!==i){let{gr:t}=e[a];t&&i.appendChild(t)}break;case $.Transform:n||(e[a]=this.createTransformElement(t[a],i)),(o=e[a]?.transform)&&p.push(o);break;case $.Path:case $.Rectangle:case $.Ellipse:case $.PolygonStar:n||(e[a]=this.createShapeElement(t[a],p,r)),this.setElementStyles(e[a]);break;case $.Trim:case $.RoundedCorners:case $.Unknown:case $.PuckerBloat:case $.ZigZag:case $.OffsetPath:n?(h=e[a]).closed=!1:((h=s0(t[a].ty)).init(this,t[a]),e[a]=h,this.shapeModifiers.push(h)),c.push(h);break;case $.Repeater:if(n){(h=e[a]).closed=!0,c.push(h);break}h=s0(t[a].ty),e[a]=h,h.init(this,t,a,e),this.shapeModifiers.push(h),l=!1,c.push(h)}this.addProcessedElement(t[a],a+1)}let{length:u}=m;for(let t=0;t<u;t++){let e=m[t];e&&(e.closed=!0)}let{length:f}=c;for(let t=0;t<f;t++)c[t].closed=!0}setElementStyles(t){let{length:e}=this.stylesList;for(let s=0;s<e;s++)this.stylesList[s].closed||t.styles.push(this.stylesList[s])}setShapesAsAnimated(t){let{length:e}=t;for(let s=0;s<e;s++)t[s].setAsAnimated()}}class s3 extends sE{constructor(t,e,s){if(super(),this.initElement=s2.prototype.initElement,this.prepareFrame=sM.prototype.prepareFrame,this.assetData=e.getAssetData(t.refId),!e.imageLoader)throw Error(`${this.constructor.name} imageLoader is not implemented in globalData`);this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,s)}createContent(){let t,e;if(!this.assetData)throw Error(`${this.constructor.name}: assetData is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.img.width||this.assetData.w===this.img.width&&this.assetData.h===this.img.height)return;let s=tO("canvas");s.width=Number(this.assetData.w),s.height=Number(this.assetData.h);let i=s.getContext("2d"),r=this.img.width,a=this.img.height,n=r/a,o=Number(this.assetData.w)/Number(this.assetData.h),h=this.assetData.pr||this.globalData.renderConfig?.imagePreserveAspectRatio;n>o&&"xMidYMid slice"===h||n<o&&"xMidYMid slice"!==h?t=(e=a)*o:e=(t=r)/o,i?.drawImage(this.img,(r-t)/2,(a-e)/2,t,e,0,0,Number(this.assetData.w),Number(this.assetData.h)),this.img=s}destroy(){this.img=null}renderInnerContent(){this.canvasContext?.drawImage(this.img,0,0)}}class s5 extends sH{constructor(t,e,s,i){let r,a;switch(super(),this.styledShapes=[],this.tr=[0,0,0,0,0,0],e.ty){case $.Rectangle:r=5;break;case $.Ellipse:r=6;break;case $.PolygonStar:r=7;break;default:r=4}this.sh=e3.getShapeProp(t,e,r);let{length:n}=s;for(let t=0;t<n;t++)s[t].closed||(a={transforms:i.addTransformSequence(s[t].transforms),trNodes:[]},this.styledShapes.push(a),s[t].elements.push(a))}}class s4{constructor(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}addTransformSequence(t){let{length:e}=t,s="_";for(let i=0;i<e;i++)s+=`${t[i].transform.key}_`;let i=this.sequences[s];return i||(i={_mdf:!1,finalTransform:new t8,transforms:[...t]},this.sequences[s]=i,this.sequenceList.push(i)),i}getNewKey(){return this.transform_key_count++,`_${this.transform_key_count}`}processSequence(t,e){let s=0,{length:i}=t.transforms??[],r=e;if(!e)for(;s<i;){if(t.transforms?.[s].transform.mProps._mdf){r=!0;break}s++}if(r)for(t.finalTransform?.reset(),s=i-1;s>=0;s-=1){let{v:e}=t.transforms?.[s].transform.mProps??{v:null};e&&t.finalTransform?.multiply(e)}t._mdf=r}processSequences(t){let{length:e}=this.sequenceList;for(let s=0;s<e;s++)this.processSequence(this.sequenceList[s],t)}}class s6 extends sZ{constructor(t,e,s){super(),this.clearCanvas=sE.prototype.clearCanvas,this.createContainerElements=sE.prototype.createContainerElements,this.createRenderableComponents=sE.prototype.createRenderableComponents,this.dashResetter=[],this.exitLayer=sE.prototype.exitLayer,this.hide=sE.prototype.hide,this.initRendererElement=sE.prototype.initRendererElement,this.prepareLayer=sE.prototype.prepareLayer,this.renderFrame=sE.prototype.renderFrame,this.setBlendMode=sE.prototype.setBlendMode,this.show=sE.prototype.show,this.transformHelper={_opMdf:!1,opacity:1},this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new s4,this.initElement(t,e,s)}addTransformToStyleList(t){let{length:e}=this.stylesList;for(let s=0;s<e;s++)this.stylesList[s].closed||this.stylesList[s].transforms.push(t)}closeStyles(t){let{length:e}=t;for(let s=0;s<e;s++)t[s].closed=!0}createContent(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])}createGroupElement(t){return{it:[],prevViewData:[]}}createShapeElement(t){let e=new s5(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e}createStyleElement(t,e){try{let s={closed:!0===t.hd,data:t,elements:[],preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],type:t.ty},i={};switch(t.ty){case $.Fill:case $.Stroke:i.c=eX.getProp(this,t.c,1,255,this),i.c.k||(s.co=`rgb(${Math.floor(i.c.v[0])},${Math.floor(i.c.v[1])},${Math.floor(i.c.v[2])})`);break;case $.GradientFill:case $.GradientStroke:i.s=eX.getProp(this,t.s,1,null,this),i.e=eX.getProp(this,t.e,1,null,this),i.h=eX.getProp(this,t.h??{k:0},0,.01,this),i.a=eX.getProp(this,t.a??{k:0},0,t5,this),t.g&&(i.g=new sB(this,t.g,this))}return i.o=eX.getProp(this,t.o,0,.01,this),t.ty===$.Stroke||t.ty===$.GradientStroke?(s.lc=V[t.lc||2],s.lj=O[t.lj||2],1===t.lj&&(s.ml=t.ml),i.w=eX.getProp(this,t.w,0,null,this),i.w.k||(s.wi=i.w.v),t.d&&"object"==typeof t.d&&(i.d=new sq(this,t.d,L.Canvas,this),i.d.k||(s.da=i.d.dashArray,s.do=i.d.dashoffset[0]))):s.r=2===t.r?"evenodd":"nonzero",this.stylesList.push(s),i.style=s,i}catch(t){return console.error(this.constructor.name,t),null}}createTransformElement(t){return{transform:{_opMdf:!1,key:this.transformsManager.getNewKey(),mProps:sp.getTransformProperty(this,t,this),op:eX.getProp(this,t.o,0,.01,this),opacity:1}}}destroy(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0}drawLayer(){try{let t;if(!this.globalData)throw Error(`${this.constructor.name} globalData is not implemented`);if(!this.globalData.renderer)throw Error(`${this.constructor.name} renderer is not implemented`);let{length:e}=this.stylesList,{renderer:s}=this.globalData,i=this.globalData.canvasContext;for(let r=0;r<e;r++){let{co:e,coOp:a,da:n,data:o,elements:h,grd:l,lc:p,lj:m,ml:c,preTransforms:d,r:u,type:f,wi:g}=t=this.stylesList[r],y=f===$.Stroke||f===$.GradientStroke;if(y&&0===g||!o._shouldRender||0===a||0===this.globalData.currentGlobalAlpha)continue;s.save(),y?(s.ctxStrokeStyle(f===$.Stroke?e:l),s.ctxLineWidth(g||0),p&&s.ctxLineCap(p),m&&s.ctxLineJoin(m),s.ctxMiterLimit(c||0)):s.ctxFillStyle(f===$.Fill?e:l),s.ctxOpacity(a),f!==$.Stroke&&f!==$.GradientStroke&&i?.beginPath(),s.ctxTransform(d.finalTransform?.props);let{length:v}=h;for(let e=0;e<v;e++){(f===$.Stroke||f===$.GradientStroke)&&(i?.beginPath(),i&&n&&(i.setLineDash(n),i.lineDashOffset=t.do||0));let r=h[e].trNodes,{length:a}=r;for(let t=0;t<a;t++){let{p:e=[],pts:s=[]}=r[t];"m"===r[t].t?i?.moveTo(e[0],e[1]):"c"===r[t].t?i?.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]):i?.closePath()}y&&(s.ctxStroke(),n&&i?.setLineDash(this.dashResetter))}y||this.globalData.renderer.ctxFill(u),s.restore()}}catch(t){console.error(this.constructor.name,t)}}reloadShapes(){this._isFirstFrame=!0;let{length:t}=this.itemsData;for(let e=0;e<t;e++)this.prevViewData[e]=this.itemsData[e];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]);let{length:e}=this.dynamicProperties;for(let t=0;t<e;t++)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)}removeTransformFromStyleList(){let{length:t}=this.stylesList;for(let e=0;e<t;e++)this.stylesList[e].closed||this.stylesList[e].transforms.pop()}renderFill(t,e,s){let i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co=`rgb(${Math.floor(e.c.v[0])},${Math.floor(e.c.v[1])},${Math.floor(e.c.v[2])})`),(e.o._mdf||s._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*s.opacity)}renderGradientFill(t,e,s){let i;if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);let r=e.style;if(!r?.grd||e.g?._mdf||e.s?._mdf||e.e?._mdf||1!==t.t&&(e.h?._mdf||e.a?._mdf)){let s=this.globalData.canvasContext,a=e.s?.v??[0,0],n=e.e?.v??[0,0];if(1===t.t)i=s?.createLinearGradient(a[0],a[1],n[0],n[1]);else{let t=Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2)),r=Math.atan2(n[1]-a[1],n[0]-a[0]),o=e.h?.v??0;o>=1?o=.99:o<=-1&&(o=-.99);let h=t*o,l=e.a?.v??0,p=Math.cos(r+l)*h+a[0],m=Math.sin(r+l)*h+a[1];i=s?.createRadialGradient(p,m,0,a[0],a[1],t)}let o=t.g?.p??0,h=e.g?.c??[],l=1;for(let t=0;t<o;t++)e.g?._hasOpacity&&e.g._collapsable&&(l=e.g.o[2*t+1]),i?.addColorStop(h[4*t]/100,`rgba(${h[4*t+1]},${h[4*t+2]},${h[4*t+3]},${l})`);r&&(r.grd=i)}r&&(r.coOp=(e.o?.v??0)*s.opacity)}renderInnerContent(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)}renderPath(t,e){if(!0===t.hd||!t._shouldRender||!e.sh)return;let{length:s}=e.styledShapes;for(let t=0;t<s;t++)this.renderStyledShape(e.styledShapes[t],e.sh)}renderShape(t,e,s,i){try{let r,a=e.length-1;r=t;for(let i=a;i>=0;i--)switch(e[i].ty){case $.Transform:(r=s[i].transform)&&this.renderShapeTransform(t,r);break;case $.Path:case $.Ellipse:case $.Rectangle:case $.PolygonStar:this.renderPath(e[i],s[i]);break;case $.Fill:this.renderFill(e[i],s[i],r);break;case $.Stroke:this.renderStroke(e[i],s[i],r);break;case $.GradientFill:case $.GradientStroke:this.renderGradientFill(e[i],s[i],r);break;case $.Group:this.renderShape(r,e[i].it??[],s[i].it);case $.Trim:}i&&this.drawLayer()}catch(t){console.error(this.constructor.name,t)}}renderShapeTransform(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)}renderStroke(t,e,s){let i=e.style,{c:r,d:a,o:n,w:o}=e;a&&(a._mdf||this._isFirstFrame)&&(i.da=a.dashArray,i.do=a.dashoffset[0]),(r._mdf||this._isFirstFrame)&&(i.co=`rgb(${Math.floor(r.v[0])},${Math.floor(r.v[1])},${Math.floor(r.v[2])})`),(n._mdf||s._opMdf||this._isFirstFrame)&&(i.coOp=n.v*s.opacity),(o._mdf||this._isFirstFrame)&&(i.wi=o.v)}renderStyledShape(t,e){let s,i,r;if(!this._isFirstFrame&&!e._mdf&&!t.transforms._mdf)return;let{transforms:a,trNodes:n}=t,{paths:o}=e,h=o?._length||0;n.length=0;let l=a?.finalTransform;for(r=0;r<h;r++){let t=o?.shapes[r];if(t?.v){for(s=1,i=t._length;s<i;s++)1===s&&n.push({p:l?.applyToPointArray(t.v[0][0],t.v[0][1],0),t:"m"}),n.push({pts:l?.applyToTriplePoints(t.o[s-1],t.i[s],t.v[s]),t:"c"});1===i&&n.push({p:l?.applyToPointArray(t.v[0][0],t.v[0][1],0),t:"m"}),t.c&&i&&n.push({pts:l?.applyToTriplePoints(t.o[s-1],t.i[0],t.v[0]),t:"c"},{t:"z"})}}t.trNodes=n}searchShapes(t,e,s,i,r){let a,n,o=i,h=t.length-1,l=[],p=[],m=[...r];for(let i=h;i>=0;i--){let r=this.searchProcessedElement(t[i]);switch(r?e[i]=s[r-1]:t[i]._shouldRender=o,t[i].ty){case $.Fill:case $.Stroke:case $.GradientFill:case $.GradientStroke:r?e[i].style.closed=!1:e[i]=this.createStyleElement(t[i],m),l.push(e[i].style);break;case $.Group:if(r){let{length:t}=e[i].it;for(let s=0;s<t;s++)e[i].prevViewData[s]=e[i].it[s]}else e[i]=this.createGroupElement(t[i]);this.searchShapes(t[i].it??[],e[i].it,e[i].prevViewData,o,m);break;case $.Transform:r||(n=this.createTransformElement(t[i]),e[i]=n),m.push(e[i]),this.addTransformToStyleList(e[i]);break;case $.Path:case $.Rectangle:case $.Ellipse:case $.PolygonStar:r||(e[i]=this.createShapeElement(t[i]));break;case $.Trim:case $.RoundedCorners:case $.PuckerBloat:case $.ZigZag:case $.OffsetPath:r?(a=e[i]).closed=!1:((a=s0(t[i].ty)).init(this,t[i]),e[i]=a,this.shapeModifiers.push(a)),p.push(a);break;case $.Repeater:r?(a=e[i]).closed=!0:(a=s0(t[i].ty),e[i]=a,a.init(this,t,i,e),this.shapeModifiers.push(a),o=!1),p.push(a)}this.addProcessedElement(t[i],i+1)}this.removeTransformFromStyleList(),this.closeStyles(l);let{length:c}=p;for(let t=0;t<c;t++)p[t].closed=!0}}class s8 extends sE{constructor(t,e,s){super(),this.initElement=s2.prototype.initElement,this.prepareFrame=sM.prototype.prepareFrame,this.initElement(t,e,s)}renderInnerContent(){if(!this.globalData)throw Error(`${this.constructor.name}: globalData it not implemented`);if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) it not implemented`);if(!this.globalData.renderer)throw Error(`${this.constructor.name}: globalData.renderer it not implemented`);this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw||0,this.data.sh||0)}}class s9{constructor(t,e,s,i,r,a){this.o=t,this.sw=e,this.sc=s,this.fc=i,this.m=r,this.p=a,this._mdf={fc:!!i,m:!0,o:!0,p:!0,sc:!!s,sw:!!e}}update(t,e,s,i,r,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;let n=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,n=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,n=!0),this.sc!==s&&(this.sc=s,this._mdf.sc=!0,n=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,n=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,n=!0),a&&a.length>0&&(this.p[0]!==a[0]||this.p[1]!==a[1]||this.p[4]!==a[4]||this.p[5]!==a[5]||this.p[12]!==a[12]||this.p[13]!==a[13])&&(this.p=a,this._mdf.p=!0,n=!0),n}}class s7 extends ej{constructor(t,e){super(),this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=eX.getProp(t,e.s??{a:0,k:0},0,0,this),"e"in e?this.e=eX.getProp(t,e.e,0,0,this):this.e={v:100},this.o=eX.getProp(t,e.o??{a:0,k:0},0,0,this),this.xe=eX.getProp(t,e.xe??{a:0,k:0},0,0,this),this.ne=eX.getProp(t,e.ne??{a:0,k:0},0,0,this),this.sm=eX.getProp(t,e.sm??{a:0,k:100},0,0,this),this.a=eX.getProp(t,e.a,0,.01,this),0===this.dynamicProperties.length&&this.getValue()}getMult(t,e){let s=t;this._currentTextLength!==this.elem.textProperty?.currentData.l.length&&this.getValue();let i=0,r=0,a=1,n=1;this.ne.v>0?i=this.ne.v/100:r=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:n=1+this.xe.v/100;let o=eV(i,r,a,n).get,h=0,l=this.finalS,p=this.finalE;switch(this.data.sh){case 2:h=o(h=p===l?+(s>=p):Math.max(0,Math.min(.5/(p-l)+(s-l)/(p-l),1)));break;case 3:h=o(h=p===l?s>=p?0:1:1-Math.max(0,Math.min(.5/(p-l)+(s-l)/(p-l),1)));break;case 4:p===l?h=0:(h=Math.max(0,Math.min(.5/(p-l)+(s-l)/(p-l),1)))<.5?h*=2:h=1-2*(h-.5),h=o(h);break;case 5:if(p===l)h=0;else{let t=p-l,e=-t/2+(s=Math.min(Math.max(0,s+.5-l),p-l)),i=t/2;h=Math.sqrt(1-e*e/(i*i))}h=o(h);break;case 6:h=o(h=p===l?0:(1+Math.cos(Math.PI+2*Math.PI*(s=Math.min(Math.max(0,s+.5-l),p-l))/(p-l)))/2);break;default:s>=Math.floor(l)&&(h=s-l<0?Math.max(0,Math.min(Math.min(p,1)-(l-s),1)):Math.max(0,Math.min(p-s,1))),h=o(h)}if(100!==this.sm.v){let t=.01*this.sm.v;0===t&&(t=1e-8);let e=.5-.5*t;h<e?h=0:(h=(h-e)/t)>1&&(h=1)}return h*Number(this.a.v)}getTextSelectorProp(t,e,s){throw Error("Method not implemented")}getValue(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty?.currentData.l.length||0,t&&2===this.data.r&&this.e.v&&(this.e.v=this._currentTextLength);let e=2===this.data.r?1:100/this.data.totalChars,s=Number(this.o.v)/e,i=Number(this.s?.v)/e+s,r=Number(this.e.v)/e+s;if(i>r){let t=i;i=r,r=t}return this.finalS=i,this.finalE=r,0}}class it{constructor(t,e,s){let i={propType:!1},r=e?.a;this.a={a:r?.a?eX.getProp(t,r.a,1,0,s):i,fb:r?.fb?eX.getProp(t,r.fb,0,.01,s):i,fc:r?.fc?eX.getProp(t,r.fc,1,0,s):i,fh:r?.fh?eX.getProp(t,r.fh,0,0,s):i,fs:r?.fs?eX.getProp(t,r.fs,0,.01,s):i,o:r?.o?eX.getProp(t,r.o,0,.01,s):i,p:r?.p?eX.getProp(t,r.p,1,0,s):i,r:r?.r?eX.getProp(t,r.r,0,t5,s):i,rx:r?.rx?eX.getProp(t,r.rx,0,t5,s):i,ry:r?.ry?eX.getProp(t,r.ry,0,t5,s):i,s:r?.s?eX.getProp(t,r.s,1,.01,s):i,sa:r?.sa?eX.getProp(t,r.sa,0,t5,s):i,sc:r?.sc?eX.getProp(t,r.sc,1,0,s):i,sk:r?.sk?eX.getProp(t,r.sk,0,t5,s):i,sw:r?.sw?eX.getProp(t,r.sw,0,0,s):i,t:r?.t?eX.getProp(t,r.t,0,0,s):i},this.s=new s7(t,e?.s),this.s.t=e?.s?.t}}let ie=(t,e,s)=>{let i=Math.max(t,e,s),r=Math.min(t,e,s),a=i-r,n=0;switch(i){case r:n=0;break;case t:n=(e-s+6*(e<s)*a)/(6*a);break;case e:n=(s-t+2*a)/(6*a);break;case s:n=(t-e+4*a)/(6*a)}return[n,0===i?0:a/i,i/255]},is=(t,e,s)=>{let i=0,r=0,a=0,n=Math.floor(6*t),o=6*t-n,h=s*(1-e),l=s*(1-o*e),p=s*(1-(1-o)*e);switch(n%6){case 0:i=s,r=p,a=h;break;case 1:i=l,r=s,a=h;break;case 2:i=h,r=s,a=p;break;case 3:i=h,r=l,a=s;break;case 4:i=p,r=h,a=s;break;case 5:i=s,r=h,a=l}return[i,r,a]},ii=(t,e)=>{let s=ie(255*t[0],255*t[1],255*t[2]);return s[2]+=e,s[2]>1?s[2]=1:s[2]<0&&(s[2]=0),is(s[0],s[1],s[2])},ir=(t,e)=>{let s=ie(255*t[0],255*t[1],255*t[2]);return s[0]+=e/360,s[0]>1?s[0]-=1:s[0]<0&&s[0]++,is(s[0],s[1],s[2])},ia=(t,e)=>{let s=ie(255*t[0],255*t[1],255*t[2]);return s[1]+=e,s[1]>1?s[1]=1:s[1]<=0&&(s[1]=0),is(s[0],s[1],s[2])};class io extends ez{constructor(t,e,s){super(),this.defaultPropsArray=[],this.mHelper=new t8,this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=s,this._animatorsData=t6(Number(this._textData.a?.length)),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(s)}getMeasures(t,e){try{if(this.lettersChangedFlag=!!e,!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m?._mdf))return;this._isFirstFrame=!1;let s=this._moreOptions.alignment.v,i=this._animatorsData,r=this._textData,a=this.mHelper,n=this._renderType,o=this.renderedLetters.length,h,l,p,m,c=t.l,d,u=0,f,g=0,y,v=0,b=0,_,x=null,w=[],E=0,C=0,S,k,P=null;if(this._hasMaskedPath&&this._pathData.m){if(P=this._pathData.m,!this._pathData.n||this._pathData._mdf){let t=P.v;if(t){let e;for(this._pathData.r?.v&&(t=t.reverse()),d={segments:[],tLength:0},m=Number(t._length)-1,C=0,p=0;p<m;p++)Q(t)||(e=eP(t.v[p],t.v[p+1],[t.o[p][0]-t.v[p][0],t.o[p][1]-t.v[p][1]],[t.i[p+1][0]-t.v[p+1][0],t.i[p+1][1]-t.v[p+1][1]]),d.tLength+=e.segmentLength,d.segments.push(e),C+=e.segmentLength);p=m,P.v?.c&&!Q(t)&&(e=eP(t.v[p],t.v[0],[t.o[p][0]-t.v[p][0],t.o[p][1]-t.v[p][1]],[t.i[0][0]-t.v[0][0],t.i[0][1]-t.v[0][1]]),d.tLength+=e.segmentLength,d.segments.push(e),C+=e.segmentLength),this._pathData.pi=d}}if(d=this._pathData.pi,u=this._pathData.f?.v??0,b=0,v=1,g=0,w=d?.segments??[],u>0&&P.v?.c)for((d?.tLength??0<Math.abs(u))&&(u=-Math.abs(u)%(d?.tLength??0)),b=w.length-1,v=(x=w[b].points).length-1;u<0;)u+=x[v]?.partialLength,(v-=1)<0&&(b-=1,v=(x=w[b].points).length-1);_=(x=w[b]?.points??[])[v-1],E=(f=x[v]).partialLength}m=c.length||0,h=0,l=0;let M=1.2*(t.finalSize||0)*.714,A=!0,T,D,I,F,$=i.length,N,R=-1,V,O=0,z=0,B=u,G=b,q=v,j=-1,W,H=[0,0,0],Y=0,U=[0,0,0],J,X,K,Z,tt="",te=this.defaultPropsArray,ts;if(2===t.j||1===t.j){let e=0,s=0,a=2===t.j?-.5:-1,n=0,o=!0;for(p=0;p<m;p++){if(c[p].n){for(e&&(e+=s);n<p;)c[n].animatorJustifyOffset=e,n++;e=0,o=!0;continue}for(I=0;I<$;I++){if(T=i[I].a,!T?.t.propType)continue;let{v:n}=T.t;"number"==typeof n&&(o&&2===t.j&&(s+=n*a),D=i[I].s,N=D?.getMult(c[p].anIndexes[I],r.a?.[I].s?.totalChars),void 0!==N&&(Q(N)?e+=n*N[0]*a:e+=n*N*a))}o=!1}for(e&&(e+=s);n<p;)c[n].animatorJustifyOffset=e,n++}for(p=0;p<m;p++){if(a.reset(),W=1,c[p].n)h=0,l+=t.yOffset||0,l+=+!!A,u=B,A=!1,this._hasMaskedPath&&(b=G||0,v=q||0,_=(x=w[b]?.points??[])[v-1],E=(f=x[v]).partialLength,g=0),tt="",Z="",X="",ts="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(j!==c[p].line){switch(t.j){case 1:u+=C-t.lineWidths[c[p].line];break;case 2:u+=(C-t.lineWidths[c[p].line])/2}j=c[p].line||0}R!==c[p].ind&&(c[R]&&(u+=Number(c[R].extra)),u+=(c[p].an||0)/2,R=c[p].ind||0),u+=s[0]*(c[p].an||0)*.005;let e=0;for(I=0;I<$;I++){if(T=i[I].a,T?.p.propType){if(D=i[I].s,!(N=D?.getMult(c[p].anIndexes[I],r.a?.[I].s?.totalChars)))continue;Q(T.p.v)&&(Q(N)?e+=T.p.v[0]*N[0]:e+=T.p.v[0]*N)}if(T?.a.propType&&(D=i[I].s,(N=D?.getMult(Number(c[p].anIndexes[I]),r.a?.[I].s?.totalChars))&&Q(T.a.v))){if(Q(N)){e+=T.a.v[0]*N[0];continue}e+=T.a.v[0]*N}}for(y=!0,this._pathData.a?.v&&(u=.5*(c[0].an||0)+(C-Number(this._pathData.f?.v)-.5*(c[0].an||0)-.5*c[c.length-1].an)*R/(m-1)+Number(this._pathData.f?.v));y;)g+E>=u+e||!x?(S=(u+e-g)/(f?.partialLength||0),O=Number(_?.point[0])+(Number(f?.point[0])-Number(_?.point[0]))*S,z=Number(_?.point[1])+(Number(f?.point[1])-Number(_?.point[1]))*S,a.translate(-s[0]*c[p].an*.005,-(.01*(s[1]*M))),y=!1):x.length>0&&(g+=Number(f?.partialLength),++v>=x.length&&(v=0,w[++b]?x=w[b].points:P?.v?.c?(v=0,x=w[b=0].points):(g-=Number(f?.partialLength),x=null)),x&&(_=f,E=(f=x[v]).partialLength));V=c[p].an/2-c[p].add,a.translate(-V,0,0)}else V=c[p].an/2-c[p].add,a.translate(-V,0,0),a.translate(-s[0]*c[p].an*.005,-s[1]*M*.01,0);for(I=0;I<$;I++)if(T=i[I].a,T?.t.propType&&(D=i[I].s,N=D?.getMult(Number(c[p].anIndexes[I]),r.a?.[I].s?.totalChars),0!==h||0!==t.j)){if(this._hasMaskedPath){Q(N)?u+=Number(T.t.v)*N[0]:u+=Number(T.t.v)*Number(N);continue}if(Q(N)){h+=Number(T.t.v)*N[0];continue}h+=Number(T.t.v)*Number(N)}for(t.strokeWidthAnim&&(Y=t.sw||0),t.strokeColorAnim&&(H=t.sc?[Number(t.sc[0]),Number(t.sc[1]),Number(t.sc[2])]:[0,0,0]),t.fillColorAnim&&t.fc&&(U=[Number(t.fc[0]),Number(t.fc[1]),Number(t.fc[2])]),I=0;I<$;I++)if(T=i[I].a,T?.a.propType){if(D=i[I].s,!(N=D?.getMult(c[p].anIndexes[I],r.a?.[I].s?.totalChars))||!Q(T.a.v))continue;if(Q(N)){a.translate(-T.a.v[0]*N[0],-T.a.v[1]*N[1],T.a.v[2]*N[2]);continue}a.translate(-T.a.v[0]*N,-T.a.v[1]*N,T.a.v[2]*N)}for(I=0;I<$;I++)if(T=i[I].a,T?.s.propType){if(D=i[I].s,!(N=D?.getMult(c[p].anIndexes[I],r.a?.[I].s?.totalChars))||!Q(T.s.v))continue;if(Q(N)){a.scale(1+(T.s.v[0]-1)*N[0],1+(T.s.v[1]-1)*N[1],1);continue}a.scale(1+(T.s.v[0]-1)*N,1+(T.s.v[1]-1)*N,1)}for(I=0;I<$;I++)if(T=i[I].a,D=i[I].s,N=D?.getMult(c[p].anIndexes[I],r.a?.[I].s?.totalChars)){if(T?.sk.propType&&(Q(N)?a.skewFromAxis(-Number(T.sk.v)*N[0],Number(T.sa.v)*N[1]):a.skewFromAxis(-Number(T.sk.v)*N,Number(T.sa.v)*N)),T?.r.propType&&(Q(N)?a.rotateZ(-Number(T.r.v)*N[2]):a.rotateZ(-Number(T.r.v)*N)),T?.ry.propType&&(Q(N)?a.rotateY(Number(T.ry.v)*N[1]):a.rotateY(Number(T.ry.v)*N)),T?.rx.propType&&(Q(N)?a.rotateX(Number(T.rx.v)*N[0]):a.rotateX(Number(T.rx.v)*N)),T?.o.propType&&(Q(N)?W+=(Number(T.o.v)*N[0]-W)*N[0]:W+=(Number(T.o.v)*N-W)*N),t.strokeWidthAnim&&T?.sw.propType&&(Q(N)?Y+=Number(T.sw.v)*N[0]:Y+=Number(T.sw.v)*N),t.strokeColorAnim&&T?.sc.propType&&Q(T.sc.v))for(J=0;J<3;J++)Q(N)?H[J]+=(T.sc.v[J]-H[J])*N[0]:H[J]+=(T.sc.v[J]-H[J])*N;if(t.fillColorAnim&&t.fc){if(T?.fc.propType)for(J=0;J<3;J++)Q(T.fc.v)&&(Q(N)?U[J]+=(T.fc.v[J]-U[J])*N[0]:U[J]+=(T.fc.v[J]-U[J])*N);T?.fh.propType&&(U=Q(N)?ir(U,Number(T.fh.v)*N[0]):ir(U,Number(T.fh.v)*N)),T?.fs.propType&&(U=Q(N)?ia(U,Number(T.fs.v)*N[0]):ia(U,Number(T.fs.v)*N)),T?.fb.propType&&(U=Q(N)?ii(U,Number(T.fb.v)*N[0]):ii(U,Number(T.fb.v)*N))}}for(I=0;I<$;I++)if(T=i[I].a,T?.p.propType){if(D=i[I].s,!(N=D?.getMult(c[p].anIndexes[I],r.a?.[I].s?.totalChars))||!Q(T.p.v))continue;this._hasMaskedPath?Q(N)?a.translate(0,T.p.v[1]*N[0],-T.p.v[2]*N[1]):a.translate(0,T.p.v[1]*N,-T.p.v[2]*N):Q(N)?a.translate(T.p.v[0]*N[0],T.p.v[1]*N[1],-T.p.v[2]*N[2]):a.translate(T.p.v[0]*N,T.p.v[1]*N,-T.p.v[2]*N)}if(t.strokeWidthAnim&&(X=Y<0?0:Y),t.strokeColorAnim&&(K=`rgb(${Math.round(255*H[0])},${Math.round(255*H[1])},${Math.round(255*H[2])})`),t.fillColorAnim&&t.fc&&(Z=`rgb(${Math.round(255*U[0])},${Math.round(255*U[1])},${Math.round(255*U[2])})`),this._hasMaskedPath){if(a.translate(0,-Number(t.ls)),a.translate(0,s[1]*M*.01+l,0),this._pathData.p?.v){k=(Number(f?.point[1])-Number(_?.point[1]))/(Number(f?.point[0])-Number(_?.point[0]));let t=180*Math.atan(k)/Math.PI;Number(f?.point[0])<Number(_?.point[0])&&(t+=180),a.rotate(-t*Math.PI/180)}a.translate(O,z,0),u-=s[0]*c[p].an*.005,c[p+1]&&R!==c[p+1].ind&&(u+=c[p].an/2,u+=.001*t.tr*Number(t.finalSize))}else{switch(a.translate(h,l,0),t.ps&&a.translate(t.ps[0],t.ps[1]+Number(t.ascent),0),t.j){case 1:a.translate(c[p].animatorJustifyOffset+Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[c[p].line])),0,0);break;case 2:a.translate(c[p].animatorJustifyOffset+Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[c[p].line]))/2,0,0)}a.translate(0,-Number(t.ls)),a.translate(V,0,0),a.translate(s[0]*Number(c[p].an)*.005,s[1]*M*.01,0),h+=c[p].l+.001*t.tr*Number(t.finalSize)}n===L.HTML?tt=a.toCSS():n===L.SVG?tt=a.to2dCSS():te=[a.props[0],a.props[1],a.props[2],a.props[3],a.props[4],a.props[5],a.props[6],a.props[7],a.props[8],a.props[9],a.props[10],a.props[11],a.props[12],a.props[13],a.props[14],a.props[15]],ts=W}if(o<=p){F=new s9(Number(ts),Number(X),K,Z,tt,te),this.renderedLetters.push(F),o++,this.lettersChangedFlag=!0;continue}F=this.renderedLetters[p],this.lettersChangedFlag=F.update(Number(ts),Number(X),K,Z,tt,te)||this.lettersChangedFlag}}catch(t){console.error(this.constructor.name,t)}}getValue(){return this._elem.globalData?.frameId===this._frameId||(this._frameId=this._elem.globalData?.frameId??0,this.iterateDynamicProperties()),0}searchProperties(t){let{length:e}=this._textData.a??[],{getProp:s}=eX;for(let t=0;t<e;t++)this._animatorsData[t]=new it(this._elem,this._textData.a?.[t],this);this._textData.p&&"m"in this._textData.p&&this._elem.maskManager?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m),p:s(this._elem,this._textData.p.p,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m?.a,1,0,this)}}function ih(t){let e=t.fStyle?t.fStyle.split(" "):[],s="normal",i="normal",{length:r}=e;for(let t=0;t<r;t++)switch(e[t].toLowerCase()){case"italic":i="italic";break;case"bold":s="700";break;case"black":s="900";break;case"medium":s="500";break;case"regular":case"normal":s="400";break;case"light":case"thin":s="200"}return{style:i,weight:t.fWeight||s}}let il=[2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403],ip={data:{shapes:[]},shapes:[],size:0,w:0},im=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ic(t){let e=id(t);return e>=127462&&e<=127487}function id(t){let e=0,s=t.charCodeAt(0);if(s>=55296&&s<=56319){let i=t.charCodeAt(1);i>=56320&&i<=57343&&(e=(s-55296)*1024+i-56320+65536)}return e}function iu(t,e){if(U())return;let s=tO("span");s.setAttribute("aria-hidden","true"),s.style.fontFamily=e;let i=tO("span");i.innerText="giItT1WQy@!-/#",s.style.position="absolute",s.style.left="-10000px",s.style.top="-10000px",s.style.fontSize="300px",s.style.fontVariant="normal",s.style.fontStyle="normal",s.style.fontWeight="normal",s.style.letterSpacing="0",s.appendChild(i),document.body.appendChild(s);let r=i.offsetWidth;return i.style.fontFamily=`${function(t){let e=t.split(","),{length:s}=e,i=[];for(let t=0;t<s;t++)"sans-serif"!==e[t]&&"monospace"!==e[t]&&i.push(e[t]);return i.join(",")}(t)}, ${e}`,{node:i,parent:s,w:r}}class ig{constructor(){this.chars=null,this.fonts=[],this.isLoaded=!1,this.typekitLoaded=0,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)}addChars(t){if(!t)return;this.chars=this.chars??[];let{length:e}=t,s,{length:i}=this.chars,r;for(let a=0;a<e;a++){for(s=0,r=!1;s<i;)this.chars[s].style===t[a].style&&this.chars[s].fFamily===t[a].fFamily&&this.chars[s].ch===t[a].ch&&(r=!0),s++;!r&&(this.chars.push(t[a]),i++)}}addFonts(t,e){if(!t){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=t.list;return}let{length:s}=t.list;if(!U()){this.isLoaded=!0;for(let e=0;e<s;e++)t.list[e].helper=this.createHelper(t.list[e]),t.list[e].cache={};this.fonts=t.list;return}let i=s;for(let s=0;s<i;s++){let r=!0,a;if(t.list[s].loaded=!1,t.list[s].monoCase=iu(t.list[s].fFamily,"monospace"),t.list[s].sansCase=iu(t.list[s].fFamily,"sans-serif"),t.list[s].fPath){if(U()||"p"!==t.list[s].fOrigin&&3!==t.list[s].origin)if(U()||"g"!==t.list[s].fOrigin&&1!==t.list[s].origin){if(!U()&&("t"===t.list[s].fOrigin||2===t.list[s].origin)){let{length:i}=a=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');for(s=0;s<i;s++)t.list[s].fPath===a[s].src&&(r=!1);if(r){let i=tO("link");i.setAttribute("f-forigin",t.list[s].fOrigin),i.setAttribute("f-origin",`${t.list[s].origin}`),i.rel="stylesheet",i.href=t.list[s].fPath,e?.appendChild(i)}}}else{let{length:e}=a=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');for(s=0;s<e;s++)a[s].href.includes(t.list[s].fPath)&&(r=!1);if(r&&!U()){let e=tO("link");e.setAttribute("f-forigin",t.list[s].fOrigin),e.setAttribute("f-origin",`${t.list[s].origin}`),e.type="text/css",e.rel="stylesheet",e.href=t.list[s].fPath,document.body.appendChild(e)}}else if((a=document.querySelectorAll(`style[f-forigin="p"][f-family="${t.list[s].fFamily}"], style[f-origin="3"][f-family="${t.list[s].fFamily}"]`)).length>0&&(r=!1),r){let i=tO("style");i.setAttribute("f-forigin",t.list[s].fOrigin),i.setAttribute("f-origin",`${t.list[s].origin}`),i.setAttribute("f-family",t.list[s].fFamily),i.innerText=`@font-face {font-family: ${t.list[s].fFamily}; font-style: normal; src: url('${t.list[s].fPath}');}`,e?.appendChild(i)}}else t.list[s].loaded=!0,i-=1;t.list[s].helper=this.createHelper(t.list[s],e),t.list[s].cache={},this.fonts.push(t.list[s])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}getCharData(t,e,s){let i=0,{length:r}=this.chars??[];for(;i<r;){if(this.chars?.[i].ch===t&&this.chars[i].style===e&&this.chars[i].fFamily===s)return this.chars[i];i++}return("string"!=typeof t||13===t.charCodeAt(0))&&t||this._warned||(this._warned=!0,console.warn("Missing character from exported characters list: ",t,e,s)),ip}getFontByName(t){let e=0,{length:s}=this.fonts;for(;e<s;){if(this.fonts[e].fName===t)return this.fonts[e];e++}return this.fonts[0]}measureText(t,e,s){let i=this.getFontByName(e);if(i.cache&&!i.cache[t]){let e=i.helper;if(" "===t){let s=Number(e?.measureText(`|${t}|`)),r=Number(e?.measureText("||"));i.cache[t]=(s-r)/100}else i.cache[t]=Number(e?.measureText(t))/100}return Number(i.cache?.[t])*Number(s)}checkLoadedFonts(){let t,e,s=this.fonts.length;for(let i=0;i<s;i++){if(this.fonts[i].loaded){s-=1;continue}if("n"===this.fonts[i].fOrigin||0===this.fonts[i].origin){this.fonts[i].loaded=!0;continue}if(t=this.fonts[i].monoCase?.node,e=this.fonts[i].monoCase?.w||0,t?.offsetWidth===e?(t=this.fonts[i].sansCase?.node,e=this.fonts[i].sansCase?.w||0,t?.offsetWidth!==e&&(s-=1,this.fonts[i].loaded=!0)):(s-=1,this.fonts[i].loaded=!0),!this.fonts[i].loaded)continue;let{monoCase:r,sansCase:a}=this.fonts[i];a&&this.fonts[i].sansCase?.parent.parentNode?.removeChild(a.parent),r&&this.fonts[i].monoCase?.parent.parentNode?.removeChild(r.parent)}if(0!==s&&Date.now()-this.initTime<5e3)return void setTimeout(this.checkLoadedFontsBinded,20);setTimeout(this.setIsLoadedBinded,10)}createHelper(t,e){let s;if(U())return;let i=e?L.SVG:L.Canvas,r=ih(t);if(i===L.SVG){let i=tz("text");i.style.fontSize="100px",i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",r.style),i.setAttribute("font-weight",r.weight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.classList.add(t.fClass)):i.style.fontFamily=t.fFamily,e?.appendChild(i),s=i}else{let e=new OffscreenCanvas(500,500).getContext("2d");e&&(e.font=`${r.style} ${r.weight} 100px ${t.fFamily}`,s=e)}return{measureText:t=>i===L.SVG?(s.textContent=t,s.getComputedTextLength()):s.measureText(t).width}}setIsLoaded(){this.isLoaded=!0}}class iy extends ej{constructor(t,e){super(),this.defaultBoxWidth=[0,0],this._frameId=-999999,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d?.sid&&(e.d=t.globalData?.slotManager?.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={__complete:!1,ascent:0,boxWidth:this.defaultBoxWidth,f:"",fc:"",fillColorAnim:!1,finalLineHeight:0,finalSize:0,finalText:[],fStyle:"",fWeight:"",justifyOffset:0,l:[],lh:0,lineWidths:[],ls:0,of:"",ps:null,s:0,sc:"",strokeColorAnim:!1,strokeWidthAnim:!1,sw:0,t:0,tr:0,yOffset:0};let s=this.data.d?.k[0].s;s&&this.copyData(this.currentData,s),this.searchProperty()||this.completeTextData(this.currentData)}addEffect(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)}buildFinalText(t){let e=[],s=0,i=t.length,r,a,n,o=!1,h;for(;s<i;){var l;(n=o,o=!1,r=t.charCodeAt(s),h=t.charAt(s),il.includes(r))?n=!0:r>=55296&&r<=56319?function(t,e){let s=e,i=id(t.slice(s,2));if(127988!==i)return!1;let r=0;for(s+=2;r<5;){if((i=id(t.slice(s,2)))<917601||i>917626)return!1;r++,s+=2}return 917631===id(t.slice(s,2))}(t,s)?h=t.slice(s,14):(a=t.charCodeAt(s+1))>=56320&&a<=57343&&(function(t,e){let s=t.toString(16)+e.toString(16);return im.includes(s)}(r,a)?(h=t.slice(s,2),n=!0):h=ic((l=t.slice(s,4)).slice(0,2))&&ic(l.slice(2,2))?t.slice(s,4):t.slice(s,2)):r>56319?65039===r&&(n=!0):8205===r&&(n=!0,o=!0),n?e[e.length-1]+=h:e.push(h),s+=h.length}return e}calculateExpression(t){throw Error(`${this.constructor.name}: Method calculateExpression is not implemented`)}canResizeFont(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)}completeTextData(t){let e,s,i,r,a,n,o;t.__complete=!0;let{fontManager:h}=this.elem.globalData??{};if(!h)throw Error(`${this.constructor.name}: FontManager not loaded to globalData`);let{canResize:l,data:p,minimumFontSize:m}=this,c=[],d,u,f=0,g,y=p.m?.g,v=0,b=0,_=0,x=[],w,E=0,C=h.getFontByName(t.f),S=ih(C);t.fWeight=S.weight,t.fStyle=S.style,t.finalSize=t.s,t.finalText=this.buildFinalText(`${t.t}`),d=t.finalText.length||0,t.finalLineHeight=t.lh;let k=t.tr/1e3*t.finalSize;if(t.sz){let r,a,n=!0,[o,p]=t.sz;for(;n;){a=this.buildFinalText(`${t.t}`),r=0,w=0,d=a.length,k=t.tr/1e3*t.finalSize;let c=-1;for(let n=0;n<d;n++)i=a[n].charCodeAt(0),u=!1," "===a[n]?c=n:(13===i||3===i)&&(w=0,u=!0,r+=t.finalLineHeight||1.2*t.finalSize),h.chars?(e=h.getCharData(a[n],C.fStyle,C.fFamily),s=u?0:e.w*t.finalSize/100):s=h.measureText(a[n],t.f,t.finalSize)||0,w+s>o&&" "!==a[n]?(-1===c?d++:n=c,r+=t.finalLineHeight||1.2*t.finalSize,a.splice(n,+(c===n),"\r"),c=-1,w=0):(w+=s,w+=k);r+=Number(C.ascent)*t.finalSize/100,l&&t.finalSize>m&&p<r?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=a,d=t.finalText.length,n=!1)}}w=-k;let P=0,M;for(let r=0;r<d;r++)if(u=!1,13===(i=(M=t.finalText[r]).charCodeAt(0))||3===i?(P=0,x.push(w),E=w>E?w:E,w=-2*k,g="",u=!0,_++):g=M,h.chars?(e=h.getCharData(M,C.fStyle,h.getFontByName(t.f).fFamily),s=u?0:e.w*t.finalSize/100):s=h.measureText(g,t.f,t.finalSize)," "===M?P+=s+k:(w+=s+k+P,P=0),c.push({add:v,an:s,animatorJustifyOffset:0,anIndexes:[],l:s,line:_,n:u,val:g}),2===y){if(v+=s,""===g||" "===g||r===d-1){for((""===g||" "===g)&&(v-=s);b<=r;)c[b].an=v,c[b].ind=f,c[b].extra=s,b++;f++,v=0}}else if(3===y){if(v+=s,""===g||r===d-1){for(""===g&&(v-=s);b<=r;)c[b].an=v,c[b].ind=f,c[b].extra=s,b++;v=0,f++}}else c[f].ind=f,c[f].extra=0,f++;if(t.l=c,E=w>E?w:E,x.push(w),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=E,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=x;let A=p.a,{length:T}=A??[],D=[];for(let e=0;e<T;e++){if(!(r=A?.[e]))continue;r.a?.sc&&(t.strokeColorAnim=!0),r.a?.sw&&(t.strokeWidthAnim=!0),(r.a?.fc||r.a?.fh||r.a?.fs||r.a?.fb)&&(t.fillColorAnim=!0),o=0,n=Number(r.s?.b);for(let t=0;t<d;t++)(a=c[t]).anIndexes[e]=o,(1===n&&""!==a.val||2===n&&""!==a.val&&" "!==a.val||3===n&&(a.n||" "===a.val||t===d-1)||4===n&&(a.n||t===d-1))&&(1===Number(r.s?.rn)&&D.push(o),o++);let s=p.a?.[e].s;s&&(s.totalChars=o);let i=-1,h;if(r.s?.rn===1)for(let t=0;t<d;t++)i!==Number((a=c[t]).anIndexes[e])&&(i=a.anIndexes[e],h=D.splice(Math.floor(Math.random()*D.length),1)[0]),h&&(a.anIndexes[e]=h)}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=Number(C.ascent)*t.finalSize/100}copyData(t,e){let s=Object.keys(e),{length:i}=s;for(let r=0;r<i;r++)Object.hasOwn(e,s[r])&&(t[s[r]]=e[s[r]]);return t}getExpressionValue(t,e){throw Error(`${this.constructor.name}: Method getExpressionValue is not implemented`)}getKeyframeValue(){let t=this.data.d?.k??[],e=Number(this.elem.comp?.renderedFrame),s=0,i=t.length;for(;s<=i-1&&!(s===i-1||Number(t[s+1].t)>e);)s++;return this.keysIndex!==s&&(this.keysIndex=s),this.data.d?.k[this.keysIndex].s}getValue(t){if((this.elem.globalData?.frameId===this.frameId||0===this.effectsSequence.length)&&!t)return 0;let e=this.data.d?.k[this.keysIndex].s.t;e&&(this.currentData.t=e);let s=this.currentData,i=this.keysIndex;if(this.lock)return this.setCurrentData(this.currentData),0;this.lock=!0,this._mdf=!1;let{length:r}=this.effectsSequence,a=t??this.data.d?.k[this.keysIndex].s;for(let t=0;t<r;t++)a=i===this.keysIndex?this.effectsSequence[t](this.currentData,a?.t):this.effectsSequence[t](a,a?.t);return s!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData?.frameId,0}recalculate(t){if(!this.data.d)throw Error(`${this.constructor.name}: data.k (TextData -> DocumentData) is not implemented`);let e=this.data.d.k[t].s;e&&(e.__complete=!1),this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)}searchExpressions(){throw Error(`${this.constructor.name}: Method searchExpressions is not implemented`)}searchKeyframes(){if(!this.data.d)throw Error(`${this.constructor.name}: data.k (TextData -> DocumentData) is not implemented`);return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf}searchProperty(){return this.searchKeyframes()}setCurrentData(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0}setMinimumFontSize(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)}updateDocumentData(t,e){if(!this.data.d)throw Error(`${this.constructor.name}: data.k (TextData -> DocumentData) is not implemented`);let s=e;s=s??this.keysIndex;let i=this.copyData({},this.data.d.k[s].s);i=this.copyData(i,t),this.data.d.k[s].s=i,this.recalculate(s),this.setCurrentData(i),this.elem.addDynamicProperty(this)}}class iv extends sC{applyTextPropertiesToMatrix(t,e,s,i,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+Number(t.ascent),0),e.translate(0,-Number(t.ls),0),t.j){case 1:e.translate(Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[s])),0,0);break;case 2:e.translate(Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[s]))/2,0,0)}e.translate(i,r,0)}buildColor(t){return`rgb(${Math.round(255*t[0])},${Math.round(255*t[1])},${Math.round(255*t[2])})`}buildNewText(){throw Error(`${this.constructor.name}: Method buildNewText is not implemented`)}canResizeFont(t){this.textProperty?.canResizeFont(t)}createPathShape(t,e){let s,i="",{length:r}=e;for(let a=0;a<r;a++)e[a].ty===$.Path&&e[a].ks?.k&&(i+=sT(s=e[a].ks?.k,s.i.length,!0,t));return i}initElement(t,e,s){if(!t.t)throw Error(`${this.constructor.name}: data.t (LottieLayer -> TextData) can't be undefined`);this.emptyProp=new s9,this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,s),this.textProperty=new iy(this,t.t),this.textAnimator=new io(t.t,this.renderType||L.SVG,this),this.initTransform(),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)}prepareFrame(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}setMinimumFontSize(t){this.textProperty?.setMinimumFontSize(t)}updateDocumentData(t,e){this.textProperty?.updateDocumentData(t,e)}validateText(){(this.textProperty?._mdf||this.textProperty?._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)}}let ib="rgba(0,0,0,0)";class i_ extends iv{constructor(t,e,s){super(),this.clearCanvas=sE.prototype.clearCanvas,this.createContainerElements=sE.prototype.createContainerElements,this.createContent=sE.prototype.createContent,this.createElements=sE.prototype.createElements,this.createRenderableComponents=sE.prototype.createRenderableComponents,this.destroy=sE.prototype.destroy,this.exitLayer=sE.prototype.exitLayer,this.hide=sE.prototype.hide,this.hideElement=sE.prototype.hideElement,this.initRendererElement=sE.prototype.initRendererElement,this.prepareLayer=sE.prototype.prepareLayer,this.renderedLetters=[],this.renderFrame=sE.prototype.renderFrame,this.renderLocalTransform=sE.prototype.renderLocalTransform,this.renderRenderable=sE.prototype.renderRenderable,this.searchEffectTransforms=sE.prototype.searchEffectTransforms,this.setBlendMode=sE.prototype.setBlendMode,this.show=sE.prototype.show,this.showElement=sE.prototype.showElement,this.tHelper=tO("canvas").getContext("2d"),this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType=L.Canvas,this.values={fill:ib,fValue:"",stroke:ib,sWidth:0},this.initElement(t,e,s)}buildNewText(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.globalData.fontManager)throw Error(`${this.constructor.name}: fontManager is not implemented in globalData`);if(!this.textProperty)throw Error(`${this.constructor.name}: textProperty is not implemented`);let t=this.textProperty.currentData;this.renderedLetters=t6(t.l.length||0);let e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;let s=!1;t.sc&&(s=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=Number(t.sw));let i=this.globalData.fontManager.getFontByName(t.f),r=t.l,a=this.mHelper;this.stroke=s,this.values.fValue=`${t.finalSize}px ${this.globalData.fontManager.getFontByName(t.f).fFamily}`;let{singleShape:n}=this.data,o=.001*t.tr*Number(t.finalSize),h,l=0,p=0,m=!0,c=0,{length:d}=t.finalText;for(let e=0;e<d;e++){let s=this.globalData.fontManager.getCharData(t.finalText[e],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily).data??{};a.reset(),n&&r[e].n&&(l=-o,p+=Number(t.yOffset),p+=+!!m,m=!1);let d=s.shapes?.[0].it??[];a.scale(Number(t.finalSize)/100,Number(t.finalSize)/100),n&&this.applyTextPropertiesToMatrix(t,a,r[e].line,l,p);let{length:u}=d,f=t6(u-1),g=0;for(let t=0;t<u;t++){if(d[t].ty!==$.Path)continue;let{length:e}=(d[t].ks?.k).i,s=d[t].ks?.k,i=[];for(h=1;h<e;h++)1===h&&i.push(a.applyToX(s.v[0][0],s.v[0][1],0),a.applyToY(s.v[0][0],s.v[0][1],0)),i.push(a.applyToX(s.o[h-1][0],s.o[h-1][1],0),a.applyToY(s.o[h-1][0],s.o[h-1][1],0),a.applyToX(s.i[h][0],s.i[h][1],0),a.applyToY(s.i[h][0],s.i[h][1],0),a.applyToX(s.v[h][0],s.v[h][1],0),a.applyToY(s.v[h][0],s.v[h][1],0));i.push(a.applyToX(s.o[h-1][0],s.o[h-1][1],0),a.applyToY(s.o[h-1][0],s.o[h-1][1],0),a.applyToX(s.i[0][0],s.i[0][1],0),a.applyToY(s.i[0][0],s.i[0][1],0),a.applyToX(s.v[0][0],s.v[0][1],0),a.applyToY(s.v[0][0],s.v[0][1],0)),f[g]=i,g++}n&&(l+=r[e].l,l+=o),this.textSpans[c]?this.textSpans[c].elem=f:this.textSpans[c]={elem:f},c++}}renderInnerContent(){let t,e,s,i;if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.textAnimator)throw Error(`${this.constructor.name}: textAnimator is not implemented`);if(!this.textProperty)throw Error(`${this.constructor.name}: textProperty is not implemented`);if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer?.ctxLineCap("butt"),this.globalData.renderer?.ctxLineJoin("miter"),this.globalData.renderer?.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);let{renderedLetters:r}=this.textAnimator,a=this.textProperty.currentData.l,n,o=null,h=null,l=null,p,m,c=this.globalData.renderer,{length:d}=a;for(let u=0;u<d;u++)if(!a[u].n){if(n=r[u],c.save(),c.ctxTransform(n.p),c.ctxOpacity(n.o),this.fill){n.fc?o!==n.fc&&(c.ctxFillStyle(n.fc),o=n.fc):o!==this.values.fill&&(o=this.values.fill,c.ctxFillStyle(this.values.fill));let{length:e}=p=this.textSpans[u].elem??[];for(this.globalData.canvasContext?.beginPath(),t=0;t<e;t++){let{length:e}=m=p[t]||[];for(this.globalData.canvasContext?.moveTo(m[0],m[1]),s=2;s<e;s+=6)this.globalData.canvasContext?.bezierCurveTo(m[s],m[s+1],m[s+2],m[s+3],m[s+4],m[s+5])}this.globalData.canvasContext?.closePath(),c.ctxFill()}if(this.stroke){for(n.sw?l!==n.sw&&(l=n.sw,c.ctxLineWidth(n.sw)):l!==this.values.sWidth&&(l=this.values.sWidth,c.ctxLineWidth(this.values.sWidth)),n.sc?h!==n.sc&&(h=n.sc,c.ctxStrokeStyle(n.sc)):h!==this.values.stroke&&(h=this.values.stroke,c.ctxStrokeStyle(this.values.stroke)),e=(p=this.textSpans[u].elem??[]).length,this.globalData.canvasContext?.beginPath(),t=0;t<e;t++)for(i=(m=p[t]).length,this.globalData.canvasContext?.moveTo(m[0],m[1]),s=2;s<i;s+=6)this.globalData.canvasContext?.bezierCurveTo(m[s],m[s+1],m[s+2],m[s+3],m[s+4],m[s+5]);this.globalData.canvasContext?.closePath(),c.ctxStroke()}this.globalData.renderer?.restore()}}}class ix extends su{constructor(t,e,s){super(),this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId)??null,this.initBaseData(t,e,s),this._isPlaying=!1,this._canPlay=!1;let i=this.globalData?.getAssetsPath(this.assetData);this.audio=this.globalData?.audioController?.createAudio(i),this._currentTime=0,this.globalData?.audioController?.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?eX.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=eX.getProp(this,t.au?.lv??{k:[100]},1,.01,this)}getBaseElement(){return null}hide(){this.audio.pause(),this._isPlaying=!1}initExpressions(){}pause(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1}prepareFrame(t){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder?this._currentTime=t/Number(this.data.sr):this._currentTime=this.tm.v,this._volume=Number(this.lv.v[0]);let e=this._volume*Number(this._volumeMultiplier);this._previousVolume!==e&&(this._previousVolume=e,this.audio.volume(e))}renderFrame(t){if(this.isInRange&&this._canPlay){if(!this._isPlaying){this.audio.play(),this.audio.seek(this._currentTime/Number(this.globalData?.frameRate)),this._isPlaying=!0;return}(!this.audio.playing()||Math.abs(this._currentTime/Number(this.globalData?.frameRate)-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/Number(this.globalData?.frameRate))}}resume(){this._canPlay=!0}setRate(t){this.audio.rate(t)}show(){}sourceRectAtTime(){return null}volume(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)}}class iw extends su{constructor(t,e,s){if(super(),this.assetData=null,this.initFrame(),this.initRenderable(),t.refId&&(this.assetData=e.getAssetData(t.refId)),!e.imageLoader)throw Error(`${this.constructor.name}: imageLoader is not implemented in globalData`);this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,s)}getBaseElement(){return null}getFootageData(){return this.footageData}initExpressions(){let t=tL();if(!t)return;let e=t("footage");this.layerInterface=new e(this)}prepareFrame(){}renderFrame(){}}class iE{constructor(t){this.animationData=t}getProp(t){let{sid:e}=t;return e&&this.animationData.slots?.[e]?Object.assign(t,this.animationData.slots[e].p):t}}class iC extends sd{addPendingElement(t){this.pendingElements.push(t)}buildAllItems(){let{length:t}=this.layers;for(let e=0;e<t;e++)this.buildItem(e);this.checkPendingElements()}buildElementParenting(t,e,s=[]){let{elements:i,layers:r}=this,{length:a}=r,n=0;for(;n<a;){if(r[n].ind!==e){n++;continue}if(!i[n]||!0===i[n]){this.buildItem(n),this.addPendingElement(t),n++;continue}if(s.push(i[n]),i[n].setAsParent(),void 0===r[n].parent){t.setHierarchy(s),n++;continue}this.buildElementParenting(t,r[n].parent,s),n++}}buildItem(t){throw Error(`${this.constructor.name}: Method buildItem not yet implemented`)}checkLayers(t){this.completeLayers=!0;let{length:e}=this.layers;for(let s=e-1;s>=0;s--)!this.elements[s]&&this.layers[s].ip-this.layers[s].st<=Number(t)-this.layers[s].st&&this.layers[s].op-this.layers[s].st>Number(t)-this.layers[s].st&&this.buildItem(s),this.completeLayers=!!this.elements[s]&&this.completeLayers;this.checkPendingElements()}checkPendingElements(){throw Error(`${this.constructor.name}: Method checkPendingElements not yet implemented`)}createAudio(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new ix(t,this.globalData,this)}createCamera(t){throw Error("You're using a 3d camera. Try the html renderer.")}createComp(t,e,s,i){throw Error(`${this.constructor.name}: Method createComp not yet implemented`)}createFootage(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new iw(t,this.globalData,this)}createImage(t){throw Error(`${this.constructor.name}: Method createImage is not implemented`)}createItem(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}}createNull(t){throw Error(`${this.constructor.name}: Method createNull not implemented`)}createShape(t){throw Error(`${this.constructor.name}: Method createShape not implemented`)}createSolid(t){throw Error(`${this.constructor.name}: Method createSolid not implemented`)}createText(t){throw Error(`${this.constructor.name}: Method createText not implemented`)}getElementById(t){let{length:e}=this.elements;for(let s=0;s<e;s++)if(this.elements[s]?.data.ind===t)return this.elements[s];return null}getElementByPath(t){let e,s=t.shift();if("number"==typeof s)e=this.elements[s];else{let{length:t}=this.elements;for(let i=0;i<t;i++)if(this.elements[i]?.data.nm===s){e=this.elements[i];break}}return 0===t.length?e:e?.getElementByPath(t)}includeLayers(t){this.completeLayers=!1;let{length:e}=t,{length:s}=this.layers;for(let i=0;i<e;i++){let e=0;for(;e<s;){if(this.layers[e].id===t[i].id){this.layers[e]=t[i];break}e++}}}initItems(){this.globalData?.progressiveLoad||this.buildAllItems()}prepareFrame(t){throw Error(`${this.constructor.name}: Method prepareFrame not yet implemented`)}searchExtraCompositions(t){let{length:e}=t;for(let s=0;s<e;s++)if(t[s].xt){let e=this.createComp(t[s]);e.initExpressions(),this.globalData?.projectInterface.registerComposition(e)}}setProjectInterface(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);t&&(this.globalData.projectInterface=t)}setupGlobalData(t,e){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.animationItem)throw Error(`${this.constructor.name}: animationItem is not implemented`);this.globalData.fontManager=new ig,this.globalData.slotManager=new iE(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr||60,this.globalData.nm=t.nm,this.globalData.compSize={h:Number(t.h),w:Number(t.w)}}constructor(...t){super(...t),this.currentFrame=0,this.elements=[],this.layers=[],this.pendingElements=[],this.renderedFrame=-1}}class iS extends sd{constructor(t,e,s){super(),this.initFrame(),this.initBaseData(t,e,s),this.initTransform(),this.initHierarchy()}getBaseElement(){return null}prepareFrame(t){this.prepareProperties(t,!0)}renderFrame(t){return null}}class ik extends sM{constructor(t,e,s){super(t,e,s),this.initElement(t,e,s)}createContent(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let t=tz("rect");t.width.baseVal.value=Number(this.data.sw),t.height.baseVal.value=Number(this.data.sh),this.data.sc&&t.setAttribute("fill",this.data.sc),this.layerElement?.appendChild(t)}}let iP={shapes:[]};class iM extends iv{constructor(t,e,s){super(),this.createContainerElements=sP.prototype.createContainerElements,this.createRenderableComponents=sP.prototype.createRenderableComponents,this.destroyBaseElement=sP.prototype.destroyBaseElement,this.getBaseElement=sP.prototype.getBaseElement,this.getMatte=sP.prototype.getMatte,this.initRendererElement=sP.prototype.initRendererElement,this.renderedLetters=[],this.renderElement=sP.prototype.renderElement,this.setMatte=sP.prototype.setMatte,this.textSpans=[],this.renderType=L.SVG,this.initElement(t,e,s)}buildNewText(){let t,e;if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);if(!this.textProperty?.currentData)throw Error(`${this.constructor.name}: DocumentData is not implemented`);this.addDynamicProperty(this);let s=this.textProperty.currentData;this.renderedLetters=t6(s.l.length||0),s.fc?this.layerElement.setAttribute("fill",this.buildColor(s.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),s.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(s.sc)),this.layerElement.setAttribute("stroke-width",`${s.sw||0}`)),this.layerElement.setAttribute("font-size",`${s.finalSize||0}`);let i=this.globalData.fontManager?.getFontByName(s.f);if(i?.fClass)this.layerElement.classList.add(i.fClass);else{i?.fFamily&&this.layerElement.setAttribute("font-family",i.fFamily);let{fWeight:t}=s,{fStyle:e}=s;this.layerElement.setAttribute("font-style",e),this.layerElement.setAttribute("font-weight",t)}this.layerElement.setAttribute("aria-label",`${s.t}`);let r=s.l,a=!!this.globalData.fontManager?.chars;e=r.length;let n=null,o=this.mHelper,{singleShape:h}=this.data,l=0,p=0,m=!0,c=.001*s.tr*Number(s.finalSize);if(!h||a||s.sz){let d,u=this.textSpans.length;for(t=0;t<e;t++){if(this.textSpans[t]||(this.textSpans[t]={childSpan:null,glyph:null,span:null}),!a||!h||0===t){if(n=u>t?this.textSpans[t]?.span:tz(a?"g":"text"),u<=t){if(n?.setAttribute("stroke-linecap","butt"),n?.setAttribute("stroke-linejoin","round"),n?.setAttribute("stroke-miterlimit","4"),this.textSpans[t]&&(this.textSpans[t].span=n),a){let e=tz("g");n?.appendChild(e),this.textSpans[t]&&(this.textSpans[t].childSpan=e)}this.textSpans[t]&&(this.textSpans[t].span=n),n&&this.layerElement.appendChild(n)}n&&(n.style.display="inherit")}if(o.reset(),h&&(r[t].n&&(l=-c,p+=Number(s.yOffset),p+=+!!m,m=!1),this.applyTextPropertiesToMatrix(s,o,r[t].line,l,p),l+=r[t].l||0,l+=c),a){let e;if(d=this.globalData.fontManager?.getCharData(s.finalText[t],i?.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily),d?.t===1)e=new iT(d.data,this.globalData,this);else{let t=iP;d?.data?.shapes&&(t=this.buildShapeData(d.data,Number(s.finalSize))),e=new s2(t,this.globalData,this)}if(this.textSpans[t]){let{glyph:s}=this.textSpans[t];s&&(s.layerElement&&this.textSpans[t]?.childSpan?.removeChild(s.layerElement),s.destroy()),this.textSpans[t].glyph=e}e._debug=!0,e.prepareFrame(0),e.renderFrame(),e.layerElement&&this.textSpans[t]?.childSpan?.appendChild(e.layerElement),d?.t===1&&this.textSpans[t]?.childSpan?.setAttribute("transform",`scale(${Number(s.finalSize)/100},${Number(s.finalSize)/100})`);continue}h&&n?.setAttribute("transform",`translate(${o.props[12]},${o.props[13]})`),n&&(n.textContent=r[t].val),n?.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&n?.setAttribute("d","")}else{let i,r=this.textContainer;switch(s.j){case 1:i="end";break;case 2:i="middle";break;default:i="start"}r?.setAttribute("text-anchor",i),r?.setAttribute("letter-spacing",`${c}`);let a=this.buildTextContents(s.finalText);for(t=0,e=a.length,p=s.ps?s.ps[1]+Number(s.ascent):0;t<e;t++)(n=this.textSpans[t]?.span??tz("tspan")).textContent=a[t],n.setAttribute("x","0"),n.setAttribute("y",`${p}`),n.style.display="inherit",r?.appendChild(n),this.textSpans[t]||(this.textSpans[t]={glyph:null,span:null}),this.textSpans[t].span=n,p+=Number(s.finalLineHeight);r&&this.layerElement.appendChild(r)}let d=this.textSpans[t]?.span;if(d)for(;t<this.textSpans.length;)d.style.display="none",t++;this._sizeChanged=!0}buildShapeData(t,e){if(t.shapes.length>0){let s=t.shapes[0];if(s.it){let t=s.it[s.it.length-1];t.s&&(t.s.k[0]=e,t.s.k[1]=e)}}return t}buildTextContents(t){let e=0,{length:s}=t,i=[],r="";for(;e<s;)"\r"===t[e]||"\x03"===t[e]?(i.push(r),r=""):r+=t[e],e++;return i.push(r),i}createContent(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);this.data.singleShape&&!this.globalData.fontManager?.chars&&(this.textContainer=tz("text"))}getValue(){let t;if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let{length:e}=this.textSpans;this.renderedFrame=this.comp?.renderedFrame;for(let s=0;s<e;s++)(t=this.textSpans[s].glyph)&&(t.prepareFrame(Number(this.comp?.renderedFrame)-Number(this.data.st)),t._mdf&&(this._mdf=!0))}renderInnerContent(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(this.validateText(),!this.data.singleShape||this._mdf){if(!this.textProperty)throw Error(`${this.constructor.name}: textProperty is not initialized`);if(this.textAnimator?.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator?.lettersChangedFlag){let t,e,s;this._sizeChanged=!0;let i=this.textAnimator?.renderedLetters,r=this.textProperty.currentData.l,{length:a}=r;for(let n=0;n<a;n++)!r[n].n&&(t=i?.[n],e=this.textSpans[n].span,(s=this.textSpans[n].glyph)&&s.renderFrame(),t?._mdf.m&&e?.setAttribute("transform",t.m),t?._mdf.o&&e?.setAttribute("opacity",`${t.o??1}`),t?._mdf.sw&&e?.setAttribute("stroke-width",`${t.sw||0}`),t?._mdf.sc&&e?.setAttribute("stroke",t.sc),t?._mdf.fc&&e?.setAttribute("fill",t.fc))}}}sourceRectAtTime(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.comp)throw Error(`${this.constructor.name}: comp (ElementInterface) is not implemented`);if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);if(this.prepareFrame(Number(this.comp.renderedFrame)-Number(this.data.st)),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;let t=this.layerElement.getBBox();return this.bbox={height:t.height,left:t.x,top:t.y,width:t.width},this.bbox}return null}}class iA extends iC{appendElementInPos(t,e){let s=t.getBaseElement();if(!s)return;let i=0,r;for(;i<e;)r=this.elements[i]?.getBaseElement?.(),i++;r?this.layerElement?.insertBefore(s,r):this.layerElement?.appendChild(s)}buildItem(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData it not implemented`);let{elements:e,globalData:s,layers:i}=this;if(e[t]||99===i[t].ty)return;e[t]=!0;let r=this.createItem(i[t]);if(e[t]=r,tF()&&(0===i[t].ty&&s.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),i[t].tt){let s="tp"in i[t]?this.findIndexByInd(i[t].tp):t-1;if(-1===s)return;if(!e[s]||!0===e[s]){this.buildItem(s),this.addPendingElement(r);return}let a=e[s].getMatte(i[t].tt);r.setMatte(a)}}checkPendingElements(){for(;this.pendingElements.length>0;){let t=this.pendingElements.pop();if(t?.checkParenting(),t?.data.tt){let e=0,{length:s}=this.elements;for(;e<s;){if(this.elements[e]!==t){e++;continue}let s="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[s].getMatte(this.layers[e].tt);t.setMatte(i);break}}}}configAnimation(t){try{if(!this.animationItem)throw Error(`${this.constructor.name}: Can't access animationItem`);if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);if(!this.renderConfig)throw Error(`${this.constructor.name}: Can't access renderConfig`);if(!this.svgElement)throw Error(`${this.constructor.name}: Can't access svgElement`);this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox",`0 0 ${t.w} ${t.h}`),!this.renderConfig.viewBoxOnly&&(this.svgElement.setAttribute("width",`${t.w}`),this.svgElement.setAttribute("height",`${t.h}`),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.renderConfig.contentVisibility&&(this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility)),this.renderConfig.width&&this.svgElement.setAttribute("width",`${this.renderConfig.width}`),this.renderConfig.height&&this.svgElement.setAttribute("height",`${this.renderConfig.height}`),this.renderConfig.className&&this.svgElement.classList.add(this.renderConfig.className),this.renderConfig.id&&(this.svgElement.id=this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",`${this.renderConfig.focusable}`),this.renderConfig.preserveAspectRatio&&this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper?.appendChild(this.svgElement);let{defs:e}=this.globalData;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;let s=tz("clipPath"),i=tz("rect");i.setAttribute("width",`${t.w}`),i.setAttribute("height",`${t.h}`),i.setAttribute("x","0"),i.setAttribute("y","0");let r=X();s.id=r,s.appendChild(i),this.layerElement?.setAttribute("clip-path",`url(${es()}#${r})`),e.appendChild(s),this.layers=t.layers,this.elements=t6(t.layers.length)}catch(t){console.error(`${this.constructor.name}:
`,t)}}createImage(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new sM(t,this.globalData,this)}createNull(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new iS(t,this.globalData,this)}createShape(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new s2(t,this.globalData,this)}createSolid(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new ik(t,this.globalData,this)}createText(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new iM(t,this.globalData,this)}destroy(){if(!this.animationItem)throw Error(`${this.constructor.name}: Can't access animationItem`);if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;let{length:t}=this.layers;for(let e=0;e<t;e++)this.elements[e]?.destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null}findIndexByInd(t){let{length:e}=this.layers;for(let s=0;s<e;s++)if(this.layers[s].ind===t)return s;return -1}hide(){if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);this.layerElement.style.display="none"}renderFrame(t){try{if(!this.globalData||this.renderedFrame===t||this.destroyed)return;let e=t;null===e?e=this.renderedFrame:this.renderedFrame=Number(e),this.globalData.frameNum=e,this.globalData.frameId++,this.globalData.projectInterface.currentFrame=e||0,this.globalData._mdf=!1;let{length:s}=this.layers;this.completeLayers||this.checkLayers(e);for(let t=s-1;t>=0;t--)"boolean"!=typeof this.elements[t]&&(this.completeLayers||this.elements[t])&&this.elements[t]?.prepareFrame(Number(e)-this.layers[t].st);if(this.globalData._mdf)for(let t=0;t<s;t++)"boolean"!=typeof this.elements[t]&&(this.completeLayers||this.elements[t])&&this.elements[t]?.renderFrame()}catch(t){console.error(this.constructor.name,t)}}show(){if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);this.layerElement.style.display="block"}updateContainerSize(t,e){throw Error(`${this.constructor.name}: Method updateContainerSize is not implemented`)}}class iT extends sP{constructor(t,e,s){super(),this.addPendingElement=iA.prototype.addPendingElement,this.appendElementInPos=iA.prototype.appendElementInPos,this.buildAllItems=iA.prototype.buildAllItems,this.buildElementParenting=iA.prototype.buildElementParenting,this.buildItem=iA.prototype.buildItem,this.checkLayers=iA.prototype.checkLayers,this.checkPendingElements=iA.prototype.checkPendingElements,this.configAnimation=iA.prototype.configAnimation,this.createAudio=iA.prototype.createAudio,this.createCamera=iA.prototype.createCamera,this.createFootage=iA.prototype.createFootage,this.createImage=iA.prototype.createImage,this.createItem=iA.prototype.createItem,this.createNull=iA.prototype.createNull,this.createShape=iA.prototype.createShape,this.createSolid=iA.prototype.createSolid,this.createText=iA.prototype.createText,this.currentFrame=0,this.destroy=sS.prototype.destroy,this.destroyElements=sS.prototype.destroyElements,this.findIndexByInd=iA.prototype.findIndexByInd,this.getElementById=iA.prototype.getElementById,this.getElementByPath=iA.prototype.getElementByPath,this.getElements=sS.prototype.getElements,this.hide=sS.prototype.hide,this.includeLayers=iA.prototype.includeLayers,this.initElement=sS.prototype.initElement,this.initItems=iA.prototype.initItems,this.prepareFrame=sS.prototype.prepareFrame,this.renderedFrame=-1,this.renderFrame=sS.prototype.renderFrame,this.renderInnerContent=sS.prototype.renderInnerContent,this.searchExtraCompositions=iA.prototype.searchExtraCompositions,this.setElements=sS.prototype.setElements,this.setProjectInterface=iA.prototype.setProjectInterface,this.setupGlobalData=iA.prototype.setupGlobalData,this.show=sS.prototype.show,this.updateContainerSize=iA.prototype.updateContainerSize,this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?t6(this.layers.length):[],this.initElement(t,e,s),this.tm=t.tm?eX.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}createComp(t){if(!this.globalData)throw Error(`${this.constructor.name}: Cannot access global data`);return new iT(t,this.globalData,this)}}class iD extends iA{constructor(t,e){super(),this.animationItem=t,this.layers=[],this.renderedFrame=-1,this.svgElement=tz("svg");let s="";if(e?.title){let t=tz("title"),i=X();t.id=i,t.textContent=e.title,this.svgElement.appendChild(t),s+=i}if(e?.description){let t=tz("desc"),i=X();t.id=i,t.textContent=e.description,this.svgElement.appendChild(t),s+=` ${i}`}s&&this.svgElement.setAttribute("aria-labelledby",s);let i=tz("defs");this.svgElement.appendChild(i);let r=tz("g");this.svgElement.appendChild(r),this.layerElement=r,this.renderConfig={className:e?.className||"",contentVisibility:e?.contentVisibility||"visible",filterSize:{height:e?.filterSize?.height||"100%",width:e?.filterSize?.width||"100%",x:e?.filterSize?.x||"0%",y:e?.filterSize?.y||"0%"},focusable:e?.focusable,height:e?.height,hideOnTransparent:e?.hideOnTransparent!==!1,id:e?.id||"",imagePreserveAspectRatio:e?.imagePreserveAspectRatio||"xMidYMid slice",preserveAspectRatio:e?.preserveAspectRatio||"xMidYMid meet",progressiveLoad:e?.progressiveLoad||!1,runExpressions:!e||void 0===e.runExpressions||e.runExpressions,viewBoxOnly:e?.viewBoxOnly||!1,viewBoxSize:e?.viewBoxSize||!1,width:e?.width},this.globalData={_mdf:!1,defs:i,frameNum:-1,frameRate:60,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType=L.SVG}createComp(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new iT(t,this.globalData,this)}}class iI extends iC{buildItem(t){let{elements:e,layers:s}=this;if(e[t]||99===s[t].ty)return;let i=this.createItem(s[t]);e[t]=i,i.initExpressions()}checkPendingElements(){for(;this.pendingElements.length>0;){let t=this.pendingElements.pop();t?.checkParenting()}}configAnimation(t){if(!this.animationItem)throw Error(`${this.constructor.name}: animationItem is not implemented`);if(!this.renderConfig)throw Error(`${this.constructor.name}: renderConfig is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(this.animationItem.wrapper){this.animationItem.container=tO("canvas");let t=this.animationItem.container.style;t.width="100%",t.height="100%",t.transformOrigin="0px 0px 0px",t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&(this.animationItem.container.className=this.renderConfig.className),this.renderConfig.id&&(this.animationItem.container.id=this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData?.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={h:t.h,sx:0,sy:0,tx:0,ty:0,w:t.w},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=t6(t.layers.length),this.updateContainerSize()}createImage(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);return new s3(t,this.globalData,this)}createShape(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);return new s6(t,this.globalData,this)}createSolid(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);return new s8(t,this.globalData,this)}createText(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);return new i_(t,this.globalData,this)}ctxFill(t){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.fill(t)}ctxFillRect(t,e,s,i){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.fillRect(t,e,s,i)}ctxFillStyle(t=""){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.fillStyle=t}ctxLineCap(t){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.lineCap=t}ctxLineJoin(t){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.lineJoin=t}ctxLineWidth(t){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.lineWidth=t}ctxMiterLimit(t){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.miterLimit=t}ctxOpacity(t=1){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.globalAlpha*=t<0?0:t}ctxStroke(){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.stroke()}ctxStrokeStyle(t=""){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);this.canvasContext.strokeStyle=t}ctxTransform(t){if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])&&this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])}destroy(){if(!this.animationItem)throw Error(`${this.constructor.name}: animationItem is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);this.renderConfig?.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");let{length:t}=this.layers;for(let e=t-1;e>=0;e-=1)this.elements[e]?.destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0}hide(){if(!this.animationItem?.container)throw Error(`${this.constructor.name}: animationItem -> container is not implemented`);this.animationItem.container.style.display="none"}renderFrame(t,e){try{if(!this.globalData)throw Error("globalData is not implemented");if(!this.animationItem)throw Error("animationItem is not implemented");if(this.renderedFrame===t&&this.renderConfig?.clearCanvas===!0&&!e||this.destroyed||-1===t)return;this.renderedFrame=t,this.globalData.frameNum=t-Number(this.animationItem._isFirstFrame),this.globalData.frameId++,this.globalData._mdf=!this.renderConfig?.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;let{length:s}=this.layers;this.completeLayers||this.checkLayers(t);for(let e=s-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e]?.prepareFrame(t-this.layers[e].st);if(this.globalData._mdf){this.renderConfig?.clearCanvas===!0?this.canvasContext?.clearRect(0,0,this.transformCanvas?.w||0,this.transformCanvas?.h||0):this.save();for(let t=s-1;t>=0;t--)(this.completeLayers||this.elements[t])&&this.elements[t]?.renderFrame();this.renderConfig?.clearCanvas!==!0&&this.restore()}}catch(t){console.error(this.constructor.name,t)}}reset(){if(!this.renderConfig?.clearCanvas)return void this.canvasContext?.restore();this.contextData?.reset()}restore(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.renderConfig?.clearCanvas)return void this.canvasContext?.restore();t&&(this.globalData.blendMode="source-over"),this.contextData?.restore(t)}save(t){this.canvasContext?.save()}show(){if(!this.animationItem?.container)throw Error(`${this.constructor.name}: animationItem -> container is not implemented`);this.animationItem.container.style.display="block"}updateContainerSize(t,e){let s,i,r,a;if(!this.animationItem)throw Error(`${this.constructor.name}: animationItem is not implemented`);if(!this.canvasContext)throw Error(`${this.constructor.name}: canvasContext is not implemented`);if(!this.renderConfig?.dpr)throw Error(`${this.constructor.name}: renderConfig -> dpr is not implemented`);if(!this.transformCanvas)throw Error(`${this.constructor.name}: transformCanvas is not implemented`);if(this.reset(),t?(s=t,i=Number(e),this.canvasContext.canvas.width=s,this.canvasContext.canvas.height=i):(this.animationItem.wrapper&&this.animationItem.container?(s=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight):(s=this.canvasContext.canvas.width,i=this.canvasContext.canvas.height),this.canvasContext.canvas.width=s*this.renderConfig.dpr,this.canvasContext.canvas.height=i*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.includes("meet")||this.renderConfig.preserveAspectRatio.includes("slice")){let t=this.renderConfig.preserveAspectRatio.split(" "),e=t[1]||"meet",n=t[0]||"xMidYMid",o=n.slice(0,4),h=n.slice(4);r=s/i,(a=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===e||a<r&&"slice"===e?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)),"xMid"===o&&(a<r&&"meet"===e||a>r&&"slice"===e)?this.transformCanvas.tx=(s-this.transformCanvas.w*(i/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(a<r&&"meet"===e||a>r&&"slice"===e)?this.transformCanvas.tx=(s-this.transformCanvas.w*(i/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,"YMid"===h&&(a>r&&"meet"===e||a<r&&"slice"===e)?this.transformCanvas.ty=(i-this.transformCanvas.h*(s/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(a>r&&"meet"===e||a<r&&"slice"===e)?this.transformCanvas.ty=(i-this.transformCanvas.h*(s/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio===F.Initial?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)}}iI.prototype.createNull=iD.prototype.createNull;class iF extends sS{constructor(t,e,s){super(),this.addPendingElement=iI.prototype.addPendingElement,this.buildAllItems=iI.prototype.buildAllItems,this.buildElementParenting=iI.prototype.buildElementParenting,this.buildItem=iI.prototype.buildItem,this.checkLayers=iI.prototype.checkLayers,this.checkPendingElements=iI.prototype.checkPendingElements,this.clearCanvas=sE.prototype.clearCanvas,this.configAnimation=iI.prototype.configAnimation,this.createAudio=iI.prototype.createAudio,this.createCamera=iI.prototype.createCamera,this.createContainerElements=sE.prototype.createContainerElements,this.createContent=sE.prototype.createContent,this.createElements=sE.prototype.createElements,this.createFootage=iI.prototype.createFootage,this.createImage=iI.prototype.createImage,this.createItem=iI.prototype.createItem,this.createNull=iI.prototype.createNull,this.createRenderableComponents=sE.prototype.createRenderableComponents,this.createShape=iI.prototype.createShape,this.createSolid=iI.prototype.createSolid,this.createText=iI.prototype.createText,this.ctxFill=iI.prototype.ctxFill,this.ctxFillRect=iI.prototype.ctxFillRect,this.ctxFillStyle=iI.prototype.ctxFillStyle,this.ctxLineCap=iI.prototype.ctxLineCap,this.ctxLineJoin=iI.prototype.ctxLineJoin,this.ctxLineWidth=iI.prototype.ctxLineWidth,this.ctxMiterLimit=iI.prototype.ctxMiterLimit,this.ctxOpacity=iI.prototype.ctxOpacity,this.ctxStroke=iI.prototype.ctxStroke,this.ctxStrokeStyle=iI.prototype.ctxStrokeStyle,this.ctxTransform=iI.prototype.ctxTransform,this.exitLayer=sE.prototype.exitLayer,this.getElementById=iI.prototype.getElementById,this.getElementByPath=iI.prototype.getElementByPath,this.hide=sE.prototype.hide,this.hideElement=sE.prototype.hideElement,this.includeLayers=iI.prototype.includeLayers,this.initItems=iI.prototype.initItems,this.initRendererElement=sE.prototype.initRendererElement,this.prepareLayer=sE.prototype.prepareLayer,this.renderFrame=sE.prototype.renderFrame,this.reset=iI.prototype.reset,this.restore=iI.prototype.restore,this.save=iI.prototype.save,this.searchExtraCompositions=iI.prototype.searchExtraCompositions,this.setBlendMode=sE.prototype.setBlendMode,this.setProjectInterface=iI.prototype.setProjectInterface,this.setupGlobalData=iI.prototype.setupGlobalData,this.show=sE.prototype.show,this.showElement=sE.prototype.showElement,this.updateContainerSize=iI.prototype.updateContainerSize,this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=t6(this.layers.length),this.initElement(t,e,s),this.tm=t.tm?eX.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}createComp(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);return new iF(t,this.globalData,this)}destroy(){let{length:t}=this.layers;for(let e=t-1;e>=0;e--)this.elements[e]?.destroy();this.layers=null,this.elements=null}renderInnerContent(){if(!this.data?.w||!this.data.h)throw Error(`${this.constructor.name} data (LottieLayer) is not implemented`);let{canvasContext:t,completeLayers:e,data:s,elements:i,layers:r}=this;if(!t)throw Error(`${this.constructor.name}: canvasContext is not implemented`);t.beginPath(),t.moveTo(0,0),t.lineTo(s.w||0,0),t.lineTo(s.w||0,s.h||0),t.lineTo(0,s.h||0),t.lineTo(0,0),t.clip();let{length:a}=r;for(let t=a-1;t>=0;t--)(e||i[t])&&i[t].renderFrame()}}class iL{constructor(){this.opacity=-1,this.transform=t4(D.Float32,16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}}class i${constructor(){this.stack=[],this.stack=[],this.cArrPos=0,this.cTr=new t8;for(let t=0;t<15;t++){let e=new iL;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new t8,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}duplicate(){let t=2*this._length;for(let e=this._length;e<t;e++)this.stack[e]=new iL;this._length=t}fill(t){this.nativeContext&&this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext?.fill(t)}fillRect(t,e,s,i){this.nativeContext&&this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext?.fillRect(t,e,s,i)}fillStyle(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)}lineCap(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)}lineJoin(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)}lineWidth(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)}miterLimit(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)}opacity(t){let e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.nativeContext&&this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)}reset(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1}restore(t){this.cArrPos-=1;let{fillStyle:e,lineCap:s,lineJoin:i,lineWidth:r,miterLimit:a,opacity:n,strokeStyle:o,transform:h}=this.stack[this.cArrPos],l=this.cTr.props;for(let t=0;t<16;t++)l[t]=h[t];if(t){this.nativeContext?.restore();let t=this.stack[this.cArrPos+1];this.appliedFillStyle=t.fillStyle,this.appliedStrokeStyle=t.strokeStyle,this.appliedLineWidth=t.lineWidth,this.appliedLineCap=t.lineCap,this.appliedLineJoin=t.lineJoin,this.appliedMiterLimit=t.miterLimit}this.nativeContext?.setTransform(h[0],h[1],h[4],h[5],h[12],h[13]),this.nativeContext&&(t||-1!==n&&this.currentOpacity!==n)&&(this.nativeContext.globalAlpha=n,this.currentOpacity=n),this.currentFillStyle=e,this.currentStrokeStyle=o,this.currentLineWidth=r,this.currentLineCap=s,this.currentLineJoin=i,this.currentMiterLimit=a}save(t){let e;t&&this.nativeContext?.save();let{props:s}=this.cTr;this._length<=this.cArrPos&&this.duplicate();let i=this.stack[this.cArrPos];for(e=0;e<16;e++)i.transform[e]=s[e];this.cArrPos++;let r=this.stack[this.cArrPos];r.opacity=i.opacity,r.fillStyle=i.fillStyle,r.strokeStyle=i.strokeStyle,r.lineWidth=i.lineWidth,r.lineCap=i.lineCap,r.lineJoin=i.lineJoin,r.miterLimit=i.miterLimit}setContext(t){this.nativeContext=t}setOpacity(t){this.stack[this.cArrPos].opacity=t}stroke(){if(!this.nativeContext)throw Error(`${this.constructor.name}: nativeContext is not implemented`);this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=Number(this.appliedLineWidth)),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=Number(this.appliedMiterLimit)),this.nativeContext.stroke()}strokeStyle(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)}transform(t){this.transformMat.cloneFromProps(t);let e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);let s=e.props;this.nativeContext?.setTransform(s[0],s[1],s[4],s[5],s[12],s[13])}}let iN={},iR=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],{length:iV}=iR;for(let t=0;t<iV;t+=1)iN[iR[t]]=Math[iR[t]];function iO(t,e){return e.i=t.i,e.j=t.j,e.S=[...t.S],e}function iz(t){return String.fromCharCode.apply(0,t)}iN.random=Math.random,iN.abs=t=>{if(tt(t)){let e=t6(t.length),{length:s}=t;for(let i=0;i<s;i++)e[i]=Math.abs(t[i]);return e}return Math.abs(t)};let iB={};!function(t,e){let s=this,i="random",r=e.pow(256,6),a=e.pow(2,52),n=2*a;function o(t){let e,s=t.length,i=this,r=0,a=i.i=i.j=0,n=i.S=[];for(s||(t=[s++]);r<256;)n[r]=r++;for(r=0;r<256;r++)n[r]=n[a=255&a+t[r%s]+(e=n[r])],n[a]=e;i.g=function(t){let e,s=0,{i:r}=i,{j:a}=i,n=i.S;for(;t--;)e=n[r=255&r+1],s=256*s+n[255&(n[r]=n[a=255&a+e])+(n[a]=e)];return i.i=r,i.j=a,s}}function h(t,e){let s=`${t}`,i,r=0;for(;r<s.length;)e[255&r]=255&(i^=19*e[255&r])+s.charCodeAt(r++);return iz(e)}e[`seed${i}`]=function(l,p,m){let c=p,d=[],u=h(function t(e,s){let i=[],r=typeof e,a;if(s&&"object"==r)for(a in e)try{i.push(t(e[a],s-1))}catch(t){}return i.length>0?i:"string"==r?e:`${e}\0`}((c=!0===c?{entropy:!0}:c||{}).entropy?[l,iz(t)]:null===l?function(){try{let t=new Uint8Array(256);return(s.crypto||s.msCrypto).getRandomValues(t),iz(t)}catch(r){let e=s.navigator,i=e?.plugins;return[Date.now(),s,i,s.screen,iz(t)]}}():l,3),d),f=new o(d),g=function(){let t=f.g(6),e=r,s=0;for(;t<a;)t=(t+s)*256,e*=256,s=f.g(1);for(;t>=n;)t/=2,e/=2,s>>>=1;return(t+s)/e};return g.int32=function(){return 0|f.g(4)},g.quick=function(){return f.g(4)/0x100000000},g.double=g,h(iz(f.S),t),(c.pass||m||function(t,s,r,a){return(a&&(a.S&&iO(a,f),t.state=function(){return iO(f,{})}),r)?(e[i]=t,s):t})(g,u,"global"in c?c.global:this==e,c.state)},h(e.random(),t)}([],iN);let iG=[0,0,0,0,0,0],iq=eV(.333,0,.833,.833,"easeIn").get,ij=eV(.33,0,.667,1,"easeInOut").get,iW=eV(.167,.167,.667,1,"easeOut").get,iH=(t,e,s)=>{let i=s;return(i<0&&i++,i>1&&(i-=1),i<1/6)?t+(e-t)*6*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},iY=t=>{let e,s,i,r=t[0],a=t[1],n=t[2];if(0===a)e=n,i=n,s=n;else{let t=n<.5?n*(1+a):n+a-n*a,o=2*n-t;e=iH(o,t,r+1/3),s=iH(o,t,r),i=iH(o,t,r-1/3)}return[e,s,i,t[3]]},iU=t=>{let e=t[0],s=t[1],i=t[2],r=iN.max(e,s,i),a=iN.min(e,s,i),n=0,o,h=(r+a)/2;if(r===a)n=0,o=0;else{let t=r-a;switch(o=h>.5?t/(2-r-a):t/(r+a),r){case e:n=(s-i)/t+6*(s<i);break;case s:n=(i-e)/t+2;break;case i:n=(e-s)/t+4}n/=6}return[n,o,h,t[3]]};function iJ(t){let e=typeof t;if("number"===e||t instanceof Number||"boolean"===e)return-t;if(i5(t)){let{length:e}=t,s=[];for(let i=0;i<e;i++)s[i]=-t[i];return s}return t.propType?t.v:-t}function iX(t,e,s,i){let r,a,{length:n}=t,o=ev.newElement();o.setPathData(!!i,n);let h=[0,0];for(let i=0;i<n;i++)r=e[i]??h,a=s[i]??h,o.setTripleAt(t[i][0],t[i][1],a[0]+t[i][0],a[1]+t[i][1],r[0]+t[i][0],r[1]+t[i][1],i,!0);return o}function iK(t,e,s,i,r,a){let n=e,o=r,h=a;void 0===o?(o=s,h=i):n=(n-s)/(i-s),n>1?n=1:n<0&&(n=0);let l=t(n);if(i5(o)&&i5(h)){let t,e=o.length,s=t4(D.Float32,e);for(t=0;t<e;t+=1)s[t]=(h[t]-o[t])*l+o[t];return s}return(h-o)*l+o}function iZ(t,e,s,i,r){return iK(iW,t,e,s,i,r)}function iQ(t,e,s,i,r){return iK(iq,t,e,s,i,r)}function i0(t,e,s,i,r){return iK(ij,t,e,s,i,r)}function i1(t,e,s,i,r){let a=e,n=s,o=i,h=r;if((void 0===o||void 0===h)&&(o=a,h=n,a=0,n=1),n<a){let t=n;n=a,a=t}if(t<=a)return o;if(t>=n)return h;let l=n===a?0:(t-a)/(n-a);if(!Q(o)&&!Q(h))return o+(h-o)*l;if(Q(o)&&Q(h)){let{length:t}=o,e=t4(D.Float32,t);for(let s=0;s<t;s+=1)e[s]=o[s]+(h[s]-o[s])*l;return e}return 0}function i2(t){return i6(t,i9(t))}function i3(t,e){let s=t,i=e;if(void 0===i&&(void 0===s?(s=0,i=1):(i=s,s=void 0)),tt(i)){let{length:t}=i;s||(s=t4(D.Float32,t));let e=t4(D.Float32,t),r=iN.random();for(let a=0;a<t;a+=1)e[a]=s[a]+r*(i[a]-s[a]);return e}return(s=s??0)+iN.random()*(i-s)}function i5(t){return"object"==typeof t&&null!==t&&(t.constructor===Array||t.constructor===Float32Array)}function i4(t){return t*t5}function i6(t,e){let s,i,r,a=typeof t,n=typeof e;if(i8(a,t)&&i8(n,e))return Number(t)/Number(e);if(i5(t)&&i8(n,e)){for(i=0,r=t.length,s=t4(D.Float32,r);i<r;i+=1)s[i]=t[i]/Number(e);return s}if(i8(a,t)&&i5(e)){for(i=0,r=e.length,s=t4(D.Float32,r);i<r;i+=1)s[i]=Number(t)/e[i];return s}return 0}function i8(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function i9(t,e){let s,i=e;if("number"==typeof t||t instanceof Number)return i=i||0,iN.abs(Number(t)-Number(i));i||(i=iG);let r=iN.min(t.length,i.length),a=0;for(s=0;s<r;s+=1)a+=iN.pow(i[s]-t[s],2);return iN.sqrt(a)}function i7(t,e){let s=t,i=e;return"string"==typeof s&&(s=parseInt(s,10)),"string"==typeof i&&(i=parseInt(i,10)),s%i}function rt(t,e){let s,i,r,a=typeof t,n=typeof e;if(i8(a,t)&&i8(n,e))return Number(t)*Number(e);if(i5(t)&&i8(n,e)){for(i=0,r=t.length,s=t4(D.Float32,r);i<r;i+=1)s[i]=t[i]*Number(e);return s}if(i8(a,t)&&i5(e)){for(i=0,r=e.length,s=t4(D.Float32,r);i<r;i++)s[i]=Number(t)*e[i];return s}return 0}function re(t){return t}function rs(t){return t/t5}function ri(t,e){let s=t,i=e,r=typeof s,a=typeof i;if(i8(r,s)&&i8(a,i))return"string"===r&&(s=parseInt(s,10)),"string"===a&&(i=parseInt(i,10)),s-i;if(i5(s)&&i8(a,i))return s=[...s],s[0]-=Number(i),s;if(i8(r,s)&&i5(i))return(i=[...i])[0]=Number(s)-i[0],i;if(i5(s)&&i5(i)){let t=0,e=s.length,r=i.length,a=[];for(;t<e||t<r;){if(("number"==typeof s[t]||s[t]instanceof Number)&&("number"==typeof i[t]||i[t]instanceof Number)){a[t]=s[t]-i[t],t++;continue}a[t]=void 0===i[t]?s[t]:s[t]||i[t],t++}return a}return 0}function rr(t,e){let s=t,i=e,r=typeof s,a=typeof i;if(i8(r,s)&&i8(a,i)||"string"===r||"string"===a)return Number(s)+Number(i);if(i5(s)&&i8(a,i))return s=[...s],s[0]+=Number(i),s;if(i8(r,s)&&i5(i))return(i=[...i])[0]=s+i[0],i;if(i5(s)&&i5(i)){let t=0,{length:e}=s,{length:r}=i,a=[];for(;t<e||t<r;){if(("number"==typeof s[t]||s[t]instanceof Number)&&("number"==typeof i[t]||i[t]instanceof Number)){a[t]=s[t]+i[t],t++;continue}a[t]=void 0===i[t]?s[t]:s[t]||i[t],t++}return a}return 0}let ra={initiateExpression:function(t,e,s){if(!t.globalData?.renderConfig?.runExpressions)return re;if(!t.comp?.globalData)throw Error("CompElement is not implemented");let{k:i,x:r}=e,a=/velocity\b/.test(r),n=r.includes("random"),{ip:o,nm:h,op:l,sh:p=0,sw:m=0,ty:c}=t.data,d,u,f,g=0,y;s._name=h,s.valueAtTime=s.getValueAtTime,Object.defineProperty(s,"value",{get:()=>s.v}),t.comp.frameDuration=1/t.comp.globalData.frameRate,t.comp.displayStartTime=0;let v=o/t.comp.globalData.frameRate,b=l/t.comp.globalData.frameRate,_=null,x=null,w=null,E=null,C,S=null,k,P=null,M=null,A=null,T=null,I=null,F=null,L,$={},N=Function("_lottieGlobal","$bm_div","$bm_mod","$bm_mul","$bm_neg","$bm_sub","$bm_sum","$bm_transform","active","add","anchorPoint","clamp","comp","content","createPath","degrees_to_radians","degreesToRadians","div","document","ease","easeIn","easeOut","effect","fetch","frames","framesToTime","fromComp","fromCompToSurface","fromWorld","globalData","height","hslToRgb","index","inPoint","key","length","linear","lookAt","loop_in","loop_out","loopIn","loopInDuration","loopOut","loopOutDuration","mask","mod","mul","name","nearestKey","normalize","numKeys","obj","outPoint","position","posterizeTime","propertyIndex","radians_to_degrees","radiansToDegrees","random","randSeed","rgbToHsl","rotation","scale","seedRandom","selectorValue","smooth","sourceRectAtTime","sub","substr","substring","text","textIndex","textTotal","thisComp","thisLayer","thisProperty","time","timeToFrames","toComp","toWorld","transform","value","valueAtTime","velocity","width","wiggle","window","XMLHttpRequest",`
      ${r}
      obj.scoped_bm_rt = $bm_rt;`),V=0,O,z=null,B,G,q,j,W=s.kf?i.length:0,H=e.ix,Y=!this.data||!0!==this.data.hd,U=(t,e)=>{let{pv:s}=this,i=tt(s)?s.length:1,r=t4(D.Float32,i),a=iN.floor(5*V),n=0;for(;n<a;){for(let t=0;t<i;t++)r[t]+=-e+2*e*iN.random();n++}let o=5*V,h=o-iN.floor(o),l=t4(D.Float32,i);if(i>1){for(let t=0;t<i;t++)l[t]=s[t]+r[t]+(-e+2*e*iN.random())*h;return l}return s+r[0]+(-e+2*e*iN.random())*h};function J(t,e){C(t,e,!0)}function X(t,e){k(t,e,!0)}s.loopIn&&(S=C=s.loopIn.bind(s)),s.loopOut&&(P=k=s.loopOut.bind(s)),s.smooth&&(A=s.smooth.bind(s));let Z=this.getValueAtTime.bind(this),Q=this.getVelocityAtTime.bind(this),{frameRate:te,projectInterface:ts}=t.comp.globalData;function ti(t,e){let s=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=iN.atan2(s[0],iN.sqrt(s[1]*s[1]+s[2]*s[2]))/t5;return[-iN.atan2(s[1],s[2])/t5,i,0]}function tr(t){let s,r,a=t,n,o=i.length;if(0===i.length||"number"==typeof i[0])s=0,r=0;else if(s=-1,(a*=te)<i[0].t)s=1,r=i[0].t;else{for(n=0;n<o-1;n+=1)if(a===i[n].t){s=n+1,r=i[n].t;break}else if(a>i[n].t&&a<i[n+1].t){a-i[n].t>i[n+1].t-a?(s=n+2,r=i[n+1].t):(s=n+1,r=i[n].t);break}-1===s&&(s=n+1,r=e.k[n].t)}return{index:s,time:r||0/te}}function ta(t){let s=t;if(0===e.k.length||"number"==typeof e.k[0])throw Error(`The property has no keyframe at index ${s}`);s-=1;let i={time:e.k[s].t/te,value:[]},r=Object.hasOwn(e.k[s],"s")?e.k[s].s:e.k[s-1].e,{length:a}=r??[];for(let t=0;t<a;t+=1)i[t]=r?.[t],i.value[t]=r?.[t];return i}function tn(t,e){let s=e;return s||(s=te),t/s}function to(t,e){let s=t,i=e;return s||0===s||(s=V),i||(i=te),s*i}function th(t){iN.seedrandom(g+t)}function tl(){return t.sourceRectAtTime()}function tp(t,e){return"string"==typeof z?void 0===e?z.slice(iN.max(0,t)):z.slice(t,e):""}function tm(t,e){return"string"==typeof z?void 0===e?z.slice(t):z.slice(t,e):""}let tc=t.data.ind;t.hierarchy?.length;let td=null;g=iN.floor(1e6*iN.random());let{globalData:tu}=t;function tf(t){z=Z(V=0===t?0:iN.floor(V*t)/t)}return function(e){return(z=e,this.frameExpressionId===tu.frameId&&this.propType!==R.TextSelector)?z:(this.propType===R.TextSelector&&(G=this.textIndex??0,q=this.textTotal??0,j=this.selectorValue),L||(B=t.layerInterface?.text,L=t.layerInterface,T=t.comp?.compInterface??null,F=L?.toWorld.bind(L)??null,E=L?.fromWorld.bind(L)??null,x=L?.fromComp.bind(L)??null,I=L?.toComp.bind(L)??null,M=L?.mask??null,w=x),!y&&(d=y=t.layerInterface?.getInterface("ADBE Transform Group"),y&&(_=y.anchorPoint)),4!==c||u||(u=L?.getInterface("ADBE Root Vectors Group")),f=f??L?.getInterface(4),t.hierarchy?.length&&!td&&(td=t.hierarchy?.[0].layerInterface??null),V=(this.comp?.renderedFrame??0)/(this.comp?.globalData?.frameRate??60),n&&th(g+V),a&&(O=Q(V)),N(iB,i6,i7,rt,iJ,ri,rr,d,Y,rr,_,K,ts,u,iX,rs,i4,i6,null,i0,iQ,iZ,f,null,null,tn,x,w,E,tu,p,iY,tc,v,ta,i9,i1,ti,S,P,C,J,k,X,M,i7,rt,h,tr,i2,W,$,b,null,tf,H,rs,rs,i3,g,iU,null,null,th,j,A,tl,ri,tm,tp,B,G,q,T,L,s,V,to,I,F,y,z,Z,O,m,U,null,null),this.frameExpressionId=tu.frameId,$.scoped_bm_rt?.propType===R.Shape?$.scoped_bm_rt.v:$.scoped_bm_rt)}},resetFrame:function(){iB={}}},rn={getSpeedAtTime:function(t){let e=this.getValueAtTime(t),s=this.getValueAtTime(t+-.01),i=0;if(tt(e)&&tt(s)){let{length:t}=e;for(let r=0;r<t;r++)i+=Math.pow(s[r]-e[r],2);i=100*Math.sqrt(i)}else i=0;return i},getStaticValueAtTime:function(t,e){return this.pv},getValueAtTime:function(t){let e=t;return e*=this.elem?.globalData?.frameRate??60,e-=this.offsetTime,this._cachingAtTime&&e!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime?.value},getVelocityAtTime:function(t){let e;if(void 0!==this.vel)return this.vel;let s=this.getValueAtTime(t),i=this.getValueAtTime(t+-.001);if(tt(s)&&tt(i)){let{length:t}=s;e=t4(D.Float32,t);for(let r=0;r<t;r++)e[r]=-((i[r]-s[r])/.001);return e}return-((i-s)/.001)},searchExpressions:function(t,e,s){e?.x&&s&&(s.k=!0,s.x=!0,s.initiateExpression=ra.initiateExpression,s.effectsSequence.push(s.initiateExpression(t,e,s).bind(s)))},setGroupProperty:function(t){this.propertyGroup=t}};class ro extends e0{inTangents(t){return this.vertices("i",t)}isClosed(){return!!this.v?.c}normalOnPath(t,e){return this.vectorOnPath(t,e,"normal")}outTangents(t){return this.vertices("o",t)}pointOnPath(t,e){let s,i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),!this._segmentsLength&&i&&(this._segmentsLength=eN.getSegmentsLength(i));let r=this._segmentsLength,{lengths:a}=r??{lengths:[]},n=(r?.totalLength??0)*t,o=0,h=a.length,l=0;for(;o<h;){if(l+a[o].addedLength>n){let t=o,e=i?.c&&o===h-1?0:o+1,r=(n-l)/a[o].addedLength;i&&(s=eN.getPointInSegment(i.v[t],i.v[e],i.o[t],i.i[e],r,a[o]));break}l+=a[o].addedLength,o++}return i&&(s=s??(i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]])),s}points(t){return this.vertices("v",t)}tangentOnPath(t,e){return this.vectorOnPath(t,e,"tangent")}vectorOnPath(t,e,s){let i=t;1==i?i=Number(this.v?.c):0==i&&(i=.999);let r=this.pointOnPath(i,e)??[],a=this.pointOnPath(i+.001,e)??[],n=a[0]-r[0],o=a[1]-r[1],h=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));return 0===h?[0,0]:"tangent"===s?[n/h,o/h]:[-o/h,n/h]}vertices(t,e){this.k&&this.getValue();let s=this.v;void 0!==e&&(s=this.getValueAtTime(e,0));let i=s?._length??0,r=s?.[t],a=s?.v,n=t6(i);for(let e=0;e<i;e+=1)"i"===t||"o"===t?n[e]=[r[e][0]-a[e][0],r[e][1]-a[e][1]]:n[e]=[r[e][0],r[e][1]];return n}constructor(...t){super(...t),this.getValueAtTime=rn.getStaticValueAtTime,this.setGroupProperty=rn.setGroupProperty}}let rh=(t,e)=>{let s,{length:i}=t;for(let r=0;r<i;r++){let i=Object.getOwnPropertyNames(s=t[r].prototype),{length:a}=i;for(let t=0;t<a;t++)"constructor"!==i[t]&&Object.hasOwn(s,i[t])&&(e.prototype[i[t]]=s[i[t]])}};function rl(t,e,s){let i,r,a;if(!this.k||this.keyframes?.length===0)return this.pv;let n=e,{comp:o,elem:h,keyframes:l=[],pv:p}=this;if(!h?.comp)throw Error("Element is not implemented");if(!o)throw Error("Comp is not implemented");let m=t?t.toLowerCase():"",c=o.renderedFrame??0,d=l[l.length-1].t,{frameRate:u}=h.comp.globalData??{frameRate:60};if(c<=d)return p;let f,g=0;switch(s?f=n?Math.abs(d-u*n):Math.max(0,d-h.data.ip):((!n||n>l.length-1)&&(n=l.length-1),f=d-(g=l[l.length-1-n].t)),m){case"pingpong":if(Math.floor((c-g)/f)%2!=0)return this.getValueAtTime((f-(c-g)%f+g)/u,0);break;case"offset":{let t=this.getValueAtTime(g/u,0),e=this.getValueAtTime(d/u,0),s=this.getValueAtTime(((c-g)%f+g)/u,0),n=Math.floor((c-g)/f);if(tt(p)&&tt(t)&&tt(e)&&tt(s)){for(i=0,r=(a=Array.from({length:t.length})).length;i<r;i++)a[i]=(e[i]-t[i])*n+s[i];return a}return(e-t)*n+s}case"continue":{let t=this.getValueAtTime(d/u,0),e=this.getValueAtTime((d-.001)/u,0);if(tt(p)&&tt(t)&&tt(e)){for(i=0,r=(a=Array.from({length:t.length})).length;i<r;i+=1)a[i]=t[i]+(t[i]-e[i])*((c-d)/u)/5e-4;return a}return t+(c-d)/.001*(t-e)}}return this.getValueAtTime(((c-g)%f+g)/u,0)}function rp(t,e,s){let i,r,a,n,o;if(!this.k)return this.pv;let h=e,{comp:l,elem:p,keyframes:m=[],pv:c}=this;if(!p?.comp)throw Error("Element is not implemented");if(!l)throw Error("Comp is not implemented");let{frameRate:d}=p.comp.globalData??{frameRate:60},u=t?t.toLowerCase():"",f=l.renderedFrame??0,g=m[0].t;if(f>=g)return c;switch(s?(i=h?Math.abs(d*h):Math.max(0,p.data.op-g),r=g+i):((!h||h>m.length-1)&&(h=m.length-1),i=(r=m[h].t)-g),u){case"pingpong":if(Math.floor((g-f)/i)%2==0)return this.getValueAtTime(((g-f)%i+g)/d,0);break;case"offset":{let t=this.getValueAtTime(g/d,0),e=this.getValueAtTime(r/d,0),s=this.getValueAtTime((i-(g-f)%i+g)/d,0),h=Math.floor((g-f)/i)+1;if(tt(c)&&tt(t)&&tt(e)&&tt(s)){for(a=0,n=(o=Array.from({length:t.length})).length;a<n;a+=1)o[a]=s[a]-(e[a]-t[a])*h;return o}return s-(e-t)*h}case"continue":{let t=this.getValueAtTime(g/d,0),e=this.getValueAtTime((g+.001)/d,0);if(tt(c)&&tt(t)&&tt(e)){for(a=0,n=(o=Array.from({length:t.length})).length;a<n;a+=1)o[a]=t[a]+(t[a]-e[a])*(g-f)/.001;return o}return t+(t-e)*(g-f)/.001}}return this.getValueAtTime((i-((g-f)%i+g))/d,0)}function rm(t,e){let s,{comp:i,k:r,pv:a}=this;if(!r)return a;let{renderedFrame:n=0}=i??{renderedFrame:0},{frameRate:o}=i?.globalData??{frameRate:60},h=.5*(t||.4),l=Math.floor(e||5);if(l<=1)return a;let p=n/o,m=p-h,c=l>1?(p+h-m)/(l-1):1,d=0,u,f;for(f=tt(a)?t4(D.Float32,a.length):0;d<l;){if(s=this.getValueAtTime(m+d*c),tt(a)&&tt(f)&&tt(s)){for(u=0;u<a.length;u++)f[u]+=s[u];d++;continue}f+=s,d++}if(tt(a)&&tt(f)){for(u=0;u<a.length;u+=1)f[u]/=l;return f}return f/l}function rc(t){this._transformCachingAtTime=this._transformCachingAtTime??{v:new t8};let{v:e}=this._transformCachingAtTime,{mult:s=1}=this.a??{mult:1},{mult:i=1}=this.s??{mult:1};if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){let i=this.a?.getValueAtTime(t)??[0,0,0];e.translate(-i[0]*s,-i[1]*s,i[2]*s)}if(this.appliedTransformations<2){let s=this.s?.getValueAtTime(t)??[0,0,0];e.scale(s[0]*i,s[1]*i,s[2]*i)}if(this.sk&&this.appliedTransformations<3){let s=this.sk.getValueAtTime(t),i=this.sa?.getValueAtTime(t)??0;e.skewFromAxis(-s*(this.sk.mult??1),i*(this.sa?.mult??1))}if(this.r&&this.appliedTransformations<4){let s=this.r.getValueAtTime(t);e.rotate(-s*(this.r.mult??1))}else if(!this.r&&this.appliedTransformations<4){let s=Number(this.rz?.getValueAtTime(t)),i=Number(this.ry?.getValueAtTime(t)),r=Number(this.rx?.getValueAtTime(t)),a=this.or?.getValueAtTime(t)??[];e.rotateZ(-s*(this.rz?.mult??1)).rotateY(i*(this.ry?.mult??1)).rotateX(r*(this.rx?.mult??1)).rotateZ(-a[2]*(this.or?.mult??1)).rotateY(a[1]*(this.or?.mult??1)).rotateX(a[0]*(this.or?.mult??1))}if(this.data.p?.s){let s=this.px?.getValueAtTime(t),i=this.py?.getValueAtTime(t);if(this.data.p.z){let r=this.pz?.getValueAtTime(t);e.translate(s*(this.px?.mult??1),i*(this.py?.mult??1),-r*(this.pz?.mult??1))}else e.translate(s*(this.px?.mult??1),i*(this.py?.mult??1),0)}else{let s=this.p?.getValueAtTime(t)??[0,0,0];e.translate(s[0]*(this.p?.mult??1),s[1]*(this.p?.mult??1),-s[2]*(this.p?.mult??1))}return e}function rd(){return this.v.clone(new t8)}function ru(t,e){this._cachingAtTime=this._cachingAtTime??{lastIndex:0,lastTime:-999999,shapeValue:ev.clone(this.pv)};let s=t;return s*=this.elem?.globalData?.frameRate??60,(s-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<s?this._caching?.lastIndex??0:0,this._cachingAtTime.lastTime=s,this.interpolateShape(s,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}class rf{constructor(t){this.comp=t,this._name=t.data?.nm,this.layer=this,this.height=t.data?.h||t.globalData?.compSize?.h,this.width=t.data?.w||t.globalData?.compSize?.w,this.pixelAspect=1,this.frameDuration=1/(t.globalData?.frameRate??60),this.displayStartTime=0,this.numLayers=t.layers?.length}getInterface(t){let e=0,{length:s}=this.comp.layers??[];for(;e<s;){if(this.comp.layers?.[e].nm===t||this.comp.layers?.[e].ind===t)return this.comp.elements[e].layerInterface;e++}return null}}let{resetFrame:rg}=ra;class ry{completeProperty(t,e,s){Object.defineProperty(t,"velocity",{get:()=>e.getVelocityAtTime(e.comp?.currentFrame??0)}),t.numKeys=e.keyframes?.length??0,t.key=function(i){let r;if(!t.numKeys)return 0;e.keyframes&&(r="s"in e.keyframes[i-1]?e.keyframes[i-1].s:"e"in e.keyframes[i-2]?e.keyframes[i-2].e:e.keyframes[i-2].s);let a=s===R.UniDimensional?new Number(r):{...r};return a.time=Number(e.keyframes?.[i-1].t)/(e.elem?.comp?.globalData?.frameRate??60),a.value=s===R.UniDimensional?r[0]:r,a},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}defaultGetter(){return this.defaultUnidimensionalValue}getInterface(t){return t?t.propType===R.UniDimensional?this.UnidimensionalPropertyInterface(t):this.MultidimensionalPropertyInterface(t):this.defaultGetter}MultidimensionalPropertyInterface(t){let e=t;e&&"pv"in e||(e=this.defaultMultidimensionalValue);let s=1/e?.mult,i=e.data?.l??e.pv.length,r=t4(D.Float32,i),a=t4(D.Float32,i);return r.value=a,this.completeProperty(r,e,"multidimensional"),function(){e.k&&e.getValue();for(let t=0;t<i;t+=1)a[t]=e.v[t]*s,r[t]=a[t];return r}}UnidimensionalPropertyInterface(t){let e=t;e&&"pv"in e||(e=this.defaultUnidimensionalValue);let s=1/e.mult,i=e.pv*s,r=new Number(i);return r.value=i,this.completeProperty(r,e,R.UniDimensional),()=>(e.k&&e.getValue(),i=e.v*s,r.value!==i&&((r=new Number(i)).value=i,r[0]=i,this.completeProperty(r,e,R.UniDimensional)),r)}constructor(){this.defaultMultidimensionalValue={mult:1,pv:[0,0,0],v:[0,0,0]},this.defaultUnidimensionalValue={mult:1,pv:0,v:0}}}function rv(t){return new ry().getInterface(t)}class rb{constructor(t,e){this.interfaceFunction=t,this.parentPropertyGroup=e}getInterface(t=1){return t<=0?this.interfaceFunction:this.parentPropertyGroup(t-1)}}class r_{constructor(t,e){this._name=t,this.propertyGroup=e}getInterface(t){return t<=0?this:this.propertyGroup(t-1)}}class rx{get numProperties(){return this.effects.length}constructor(t,e){this.effects=t,this.effectElements=e}getInterface(t){let e=0,{length:s}=this.effects;for(;e<s;){if(t===this.effects[e].nm||t===this.effects[e].mn||t===this.effects[e].ix)return this.effectElements[e];e++}return null}}class rw{get maskOpacity(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}get maskPath(){return this._mask.prop?.k&&this._mask.prop.getValue(),this._mask.prop}constructor(t,e){this._mask=t,this._data=e}}class rE{constructor(t,e){this.maskManager=t,this._masksInterfaces=t6(t.viewData.length);let{length:s}=t.viewData;for(let e=0;e<s;e++)this._masksInterfaces[e]=new rw(t.viewData[e],t.masksProperties[e])}getInterface(t){let e=0;for(;e<length;){if(this.maskManager.masksProperties[e].nm===t)return this._masksInterfaces[e];e++}return null}}class rC{get anchorPoint(){return rv(this.transform.a)}get opacity(){return rv(this.transform.o)}get orientation(){return rv(this.transform.or)}get position(){return this.transform.p?this._transformFactory?.():[this._px?.(),this._py?.(),this._pz?.()??0]}get rotation(){return rv(this.transform.r??this.transform.rz)}get scale(){return rv(this.transform.s)}get skew(){return rv(this.transform.sk)}get skewAxis(){return rv(this.transform.sa)}get xPosition(){return rv(this.transform.px)}get xRotation(){return rv(this.transform.rx)}get yPosition(){return rv(this.transform.py)}get yRotation(){return rv(this.transform.ry)}get zPosition(){return rv(this.transform.pz)}get zRotation(){return rv(this.transform.rz??this.transform.r)}constructor(t){this.transform=t,t.p?this._transformFactory=rv(t.p):(this._px=rv(t.px),this._py=rv(t.py),t.pz&&(this._pz=rv(t.pz)))}getInterface(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return this.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return this.rotation;case"ADBE Rotate X":return this.xRotation;case"ADBE Rotate Y":return this.yRotation;case"position":case"Position":case"ADBE Position":case 2:return this.position;case"ADBE Position_0":return this.xPosition;case"ADBE Position_1":return this.yPosition;case"ADBE Position_2":return this.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return this.anchorPoint;case"opacity":case"Opacity":case 11:return this.opacity;default:return null}}}class rS{getInterface(t){throw Error("Method not implemented")}}class rk extends rS{getInterface(t){let e=0,{length:s}=this.interfaces;for(;e<s;){if(this.interfaces[e]._name===t||this.interfaces[e].mn===t||this.interfaces[e].propertyIndex===t||this.interfaces[e].ix===t||this.interfaces[e].ind===t)return this.interfaces[e];e++}return"number"==typeof t?this.interfaces[t-1]:null}constructor(...t){super(...t),this.interfaces=[]}}class rP extends rS{get position(){return rv(this.prop?.p)}get size(){return rv(this.prop?.s)}getInterface(t){return this.shape?.p?.ix===t?this.position:this.shape?.s?.ix===t?this.size:null}}class rM extends rS{get color(){return rv(this.c)}get opacity(){return rv(this.o)}getInterface(t){return"Color"===t||"color"===t?this.color:"Opacity"===t||"opacity"===t?this.opacity:null}}class rA extends rS{get endPoint(){return rv(this.prop?.e)}get opacity(){return rv(this.prop?.o)}get startPoint(){return rv(this.prop?.s)}get type(){return"a"}getInterface(t){return"Start Point"===t||"start point"===t?this.startPoint:"End Point"===t||"end point"===t?this.endPoint:"Opacity"===t||"opacity"===t?this.opacity:null}}class rT extends rS{get _name(){return this.shape?.nm}getInterface(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return this.content;default:return this.transform}}}class rD extends rS{get position(){return rv(this.prop?.p)}get roundness(){return rv(this.prop?.r)}get size(){return rv(this.prop?.s)}getInterface(t){return this.shape?.p?.ix===t?this.position:this.shape?.r?.ix===t?this.roundness:this.shape?.s?.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?this.size:null}}class rI extends rS{get copies(){return rv(this.prop?.c)}get offset(){return rv(this.prop?.o)}getInterface(t){return this.shape?.c?.ix===t||"Copies"===t?this.copies:this.shape?.o?.ix===t||"Offset"===t?this.offset:null}}class rF extends rS{get radius(){return rv(this.prop?.rd)}getInterface(t){return this.shape?.r?.ix===t||"Round Corners 1"===t?this.radius:null}}class rL{get path(){return this.prop?.k&&this.prop.getValue(),this.prop}get shape(){return this.path}constructor(t,e,s){this.prop=e.sh;let i=new rb(this,s);this.prop?.setGroupProperty(new r_("Path",i)),this._name=t.nm,this.ix=t.ix,this.mn=t.mn,this.propertyGroup=s,this.propertyIndex=t.ix}getInterface(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?this.path:null}}class r$ extends rS{get innerRadius(){return rv(this.prop?.ir)}get innerRoundness(){return rv(this.prop?.is)}get outerRadius(){return rv(this.prop?.or)}get outerRoundness(){return rv(this.prop?.os)}get points(){return rv(this.prop?.pt)}get position(){return rv(this.prop?.p)}get rotation(){return rv(this.prop?.r)}getInterface(t){return this.shape?.p?.ix===t?this.position:this.shape?.r?.ix===t?this.rotation:this.shape?.pt?.ix===t?this.points:this.shape?.or?.ix===t||"ADBE Vector Star Outer Radius"===t?this.outerRadius:this.shape?.os?.ix===t?this.outerRoundness:this.shape?.ir?.ix===t||"ADBE Vector Star Inner Radius"===t?this.innerRadius:this.shape?.is?.ix===t?this.innerRoundness:null}}class rN extends rS{get color(){return rv(this.prop?.c)}get dash(){return this.dashOb}get opacity(){return rv(this.prop?.o)}get strokeWidth(){return rv(this.prop?.w)}getInterface(t){return"Color"===t||"color"===t?this.color:"Opacity"===t||"opacity"===t?this.opacity:"Stroke Width"===t||"stroke width"===t?this.strokeWidth:null}}class rR extends rS{get anchorPoint(){return rv(this.prop?.transform?.mProps.a)}get opacity(){return rv(this.prop?.transform?.mProps.o)}get position(){return rv(this.prop?.transform?.mProps.p)}get rotation(){return rv(this.prop?.transform?.mProps.r)}get scale(){return rv(this.prop?.transform?.mProps.s)}get skew(){return rv(this.prop?.transform?.mProps.sk)}get skewAxis(){return rv(this.prop?.transform?.mProps.sa)}getInterface(t){return this.shape?.a?.ix===t||"Anchor Point"===t?this.anchorPoint:this.shape?.o?.ix===t||"Opacity"===t?this.opacity:this.shape?.p?.ix===t||"Position"===t?this.position:this.shape?.r?.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?this.rotation:this.shape?.s?.ix===t||"Scale"===t?this.scale:this.shape?.sk&&this.shape.sk.ix===t||"Skew"===t?this.skew:this.shape?.sa&&this.shape.sa.ix===t||"Skew Axis"===t?this.skewAxis:null}}class rV extends rS{get end(){return rv(this.prop?.e)}get offset(){return rv(this.prop?.o)}get start(){return rv(this.prop?.s)}getInterface(t){return t===this.shape?.e?.ix||"End"===t||"end"===t?this.end:t===this.shape?.s?.ix?this.start:t===this.shape?.o?.ix?this.offset:null}}let rO={comp:rf,effects:class{createEffectsInterface(t,e){if(t.effectsManager){this.effectsData=t.data?.ef??[];let{length:s}=t.effectsManager.effectElements;for(let i=0;i<s;i++)this.effectElements.push(this.createGroupInterface(this.effectsData[i],t.effectsManager.effectElements[i],e,t));return this.effects=t.data?.ef??[],new rx(this.effects,this.effectElements)}return null}createGroupInterface(t,e,s,i){let r=e=>{let s=t.ef??[],i=0,{length:r}=s;for(;i<r;){if(e===s[i].nm||e===s[i].mn||e===s[i].ix){if(5===s[i].ty)return this.effectElements[i];return this.effectElements[i]()}i++}throw Error()},a=new rb(r,s),{length:n}=t.ef??[];for(let s=0;s<n;s+=1)t.ef?.[s].ty===5?this.effectElements.push(this.createGroupInterface(t.ef[s],e.effectElements[s],e.effectElements[s].propertyGroup,i)):this.effectElements.push(this.createValueInterface(e.effectElements[s],t.ef[s].ty,i,a));return"ADBE Color Control"===t.mn&&Object.defineProperty(r,"color",{get(){return this.effectElements[0]()}}),Object.defineProperties(r,{_name:{value:t.nm},numProperties:{get:()=>t.np},propertyGroup:{value:a}}),r.enabled=0!==t.en,r.active=r.enabled,r}createValueInterface(t,e,s,i){let r=rv(t.p);return t.p?.setGroupProperty(new r_("",i)),function(){return 10===e?s.comp?.compInterface?.getInterface(t.p?.v):r()}}constructor(){this.effectElements=[],this.effects=[],this.effectsData=[]}},footage:class{constructor(t){this.currentPropertyName="",this.elem=t,this._name="Data",this.dataInterface=this.dataInterfaceFactory(t)}dataInterfaceFactory(t){return this._name="Outline",this.outlineInterface=this.outlineInterfaceFactory(t),this}getInterface(t){return"Data"===t?this.dataInterface:"Outline"===t?void this.outlineInterface():null}init(){return this.currentPropertyName="",this.currentProperty=this.elem.getFootageData(),this.searchProperty}outlineInterface(t){throw Error("Method is not implemented")}outlineInterfaceFactory(t){return this.currentPropertyName="",this.currentProperty=t.getFootageData(),this.elem=t,this.init}searchProperty(t){if(this.currentProperty?.[t])return(this.currentPropertyName=t,this.currentProperty=this.currentProperty[t],"object"==typeof this.currentProperty)?this.searchProperty:this.currentProperty;let e=t.indexOf(this.currentPropertyName);if(-1!==e){let s=parseInt(t.slice(e+this.currentPropertyName.length),10);return(this.currentProperty=this.currentProperty?.[s],"object"==typeof this.currentProperty)?this.searchProperty:this.currentProperty}return""}},layer:class{get active(){return this._elem.isInRange}get hasParent(){return!!this._elem.hierarchy?.length}get parent(){return this._elem.hierarchy?.[0].layerInterface}get transform(){return this.transformInterface}constructor(t){if(this.sourceRectAtTime=t.sourceRectAtTime.bind(t),this._elem=t,!t.finalTransform)throw Error(`FinalTransform is not iplemented in ${t.constructor.name}`);this.transformInterface=new rC(t.finalTransform.mProp);let{anchorPoint:e,opacity:s,position:i,rotation:r,scale:a}=this.transformInterface;this.anchor_point=e,this.anchorPoint=e,this.opacity=s,this.position=i,this.rotation=r,this.scale=a,this.toComp=this.toWorld;let{frameRate:n}=t.comp?.globalData??{frameRate:60};this.startTime=t.data.st,this.index=t.data.ind,this.source=t.data.refId,this.height=0===t.data.ty?t.data.h:100,this.width=0===t.data.ty?t.data.w:100,this.inPoint=t.data.ip/n,this.outPoint=t.data.op/n,this._name=t.data.nm}applyPoint(t,e){if(this._elem.hierarchy?.length){let{length:e}=this._elem.hierarchy;for(let s=0;s<e;s++)this._elem.hierarchy[s].finalTransform?.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}fromComp(t){let e=new t8;if(e.reset(),this._elem.finalTransform?.mProp.applyToMatrix(e),this._elem.hierarchy?.length){let t,s=this._elem.hierarchy.length;for(t=0;t<s;t+=1)this._elem.hierarchy[t].finalTransform?.mProp.applyToMatrix(e)}return e.inversePoint(t)}fromWorld(t,e){let s=this.getMatrix(e);return this.invertPoint(s,t)}fromWorldVec(t,e){let s=this.getMatrix(e);return s.props[12]=0,s.props[13]=0,s.props[14]=0,this.invertPoint(s,t)}getInterface(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return this.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return this.transformInterface;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return this.effect;case"ADBE Text Properties":return this.textInterface;default:return null}}getMatrix(t){let e=new t8;if(void 0===t){let t=this._elem.finalTransform?.mProp;t?.applyToMatrix(e)}else(this._elem.finalTransform?.mProp.getValueAtTime(t)).clone(e);return e}invertPoint(t,e){if(this._elem.hierarchy?.length){let{length:e}=this._elem.hierarchy;for(let s=0;s<e;s++)this._elem.hierarchy[s].finalTransform?.mProp.applyToMatrix(t)}return t.inversePoint(e)}registerEffectsInterface(t){this.effect=t}registerMaskInterface(t){this.mask=new rE(t,this._elem)}sampleImage(){return[1,1,1,1]}toComp(t,e){throw Error("Method is not implemented")}toWorld(t,e){let s=this.getMatrix(e);return this.applyPoint(s,t)}toWorldVec(t,e){let s=this.getMatrix(e);return s.props[12]=0,s.props[13]=0,s.props[14]=0,this.applyPoint(s,t)}},shape:class{constructor(t,e,s){this.arr=[],this.parentGroup=s,this.propertyGroup=new rb(this,this.parentGroupWrapper),this.interfaces=this.iterateElements(t,e,this.propertyGroup),this.numProperties=this.interfaces.length,this._name="Contents"}contentsInterfaceFactory(t,e,s){rk.prototype.propertyGroup=new rb(rk,s),this.interfaces=this.iterateElements(t.it??null,e.it,rk.prototype.propertyGroup),rk.prototype.numProperties=this.interfaces.length;let i=this.transformInterfaceFactory(t.it[t.it.length-1],e.it[e.it.length-1],rk.prototype.propertyGroup);return rk.prototype.transform=i,rk.prototype.propertyIndex=t.cix,rk.prototype._name=t.nm,rk.prototype.getInterface}defaultInterfaceFactory(){return this.noOp}ellipseInterfaceFactory(t,e,s){let i=new rb(rP,s);rP.prototype.shape=t,rP.prototype.propertyIndex=t.ix;let r=e.sh?.ty===$.Trim?e.sh.prop:e.sh;return r.s.setGroupProperty(new r_("Size",i)),r.p?.setGroupProperty(new r_("Position",i)),rP.prototype._name=t.nm,rP.prototype.prop=r,rP.prototype.mn=t.mn,rP.prototype.getInterface}fillInterfaceFactory(t,e,s){return rM.prototype._name=t.nm,rM.prototype.c=e.c,rM.prototype.mn=t.mn,rM.prototype.o=e.o,e.c?.setGroupProperty(new r_("Color",s)),e.o?.setGroupProperty(new r_("Opacity",s)),rM.prototype.getInterface}getInterface(t){let e=t;if("number"==typeof e)return 0===(e=t??1)?propertyGroup:this.interfaces[e-1];let s=0,{length:i}=this.interfaces;for(;s<i;){if(this.interfaces[s]._name===e)return this.interfaces[s];s++}return null}gradientFillInterfaceFactory(t,e,s){return rA.prototype._name=t.nm,rA.prototype.prop=e,rA.prototype.mn=t.mn,e.s?.setGroupProperty(new r_("Start Point",s)),e.e?.setGroupProperty(new r_("End Point",s)),e.o?.setGroupProperty(new r_("Opacity",s)),rA.prototype.getInterface}groupInterfaceFactory(t,e,s){rT.prototype.propertyGroup=new rb(rT,s);let i=this.contentsInterfaceFactory(t,e,rT.prototype.propertyGroup),r=this.transformInterfaceFactory(t.it[t.it.length-1],e.it[e.it.length-1],rT.prototype.propertyGroup);return rT.prototype.content=i,rT.prototype.transform=r,rT.prototype.shape=t,rT.prototype.numProperties=t.np,rT.prototype.propertyIndex=t.ix,rT.prototype.nm=t.nm,rT.prototype.mn=t.mn,rT.prototype.getInterface}iterateElements(t,e,s){let i=[],{length:r}=t??[];for(let a=0;a<r;a++)if(t)switch(t[a].ty){case $.Group:i.push(this.groupInterfaceFactory(t[a],e[a],s));break;case $.Fill:i.push(this.fillInterfaceFactory(t[a],e[a],s));break;case $.Stroke:i.push(this.strokeInterfaceFactory(t[a],e[a],s));break;case $.Trim:i.push(this.trimInterfaceFactory(t[a],e[a],s));break;case $.Transform:break;case $.Ellipse:i.push(this.ellipseInterfaceFactory(t[a],e[a],s));break;case $.PolygonStar:i.push(this.starInterfaceFactory(t[a],e[a],s));break;case $.Path:i.push(new rL(t[a],e[a],s));break;case $.Rectangle:i.push(this.rectInterfaceFactory(t[a],e[a],s));break;case $.RoundedCorners:i.push(this.roundedInterfaceFactory(t[a],e[a],s));break;case $.Repeater:i.push(this.repeaterInterfaceFactory(t[a],e[a],s));break;case $.GradientFill:i.push(this.gradientFillInterfaceFactory(t[a],e[a],s));break;default:i.push(this.defaultInterfaceFactory(t[a],e[a],s))}return i}parentGroupWrapper(){return this.parentGroup}rectInterfaceFactory(t,e,s){rD.prototype.shape=t;let i=new rb(rD,s),r=e.sh?.ty===$.Trim?e.sh.prop:e.sh;return rD.prototype.propertyIndex=t.ix,r.p?.setGroupProperty(new r_("Position",i)),r.s.setGroupProperty(new r_("Size",i)),r.r.setGroupProperty(new r_("Rotation",i)),rD.prototype.prop=r,rD.prototype._name=t.nm,rD.prototype.mn=t.mn,rD.prototype.getInterface}repeaterInterfaceFactory(t,e,s){rI.prototype.shape=t,rI.prototype.propertyIndex=t.ix,rI.prototype._name=t.nm,rI.prototype.mn=t.mn;let i=new rb(rI,s);return rI.prototype.prop=e,e.c?.setGroupProperty(new r_("Copies",i)),e.o?.setGroupProperty(new r_("Offset",i)),rI.prototype.getInterface}roundedInterfaceFactory(t,e,s){rF.prototype.shape=t,rF.prototype._name=t.nm,rF.prototype.propertyIndex=t.ix,rF.prototype.mn=t.mn;let i=new rb(rF,s);return e.rd.setGroupProperty(new r_("Radius",i)),rF.prototype.getInterface}starInterfaceFactory(t,e,s){r$.prototype.shape=t;let i=new rb(r$,s),r=e.sh?.ty===$.Trim?e.sh.prop:e.sh;return r$.prototype.propertyIndex=t.ix,r.or.setGroupProperty(new r_("Outer Radius",i)),r.os.setGroupProperty(new r_("Outer Roundness",i)),r.pt.setGroupProperty(new r_("Points",i)),r.p.setGroupProperty(new r_("Position",i)),r.r.setGroupProperty(new r_("Rotation",i)),t.ir&&(r.ir.setGroupProperty(new r_("Inner Radius",i)),r.is.setGroupProperty(new r_("Inner Roundness",i))),r$.prototype._name=t.nm,r$.prototype.prop=r,r$.prototype.mn=t.mn,r$.prototype.getInterface}strokeInterfaceFactory(t,e,s){let i={},r=new rb(rN,s),a=new rb(i,r),{length:n}=t.d??[];for(let s=0;s<n;s++){var o;o=s,Object.defineProperty(i,t.d?.[o].nm,{get:rv(e.d.dataProps[o].p)}),e.d.dataProps[s].p.setGroupProperty(a)}return rN.prototype._name=t.nm,rN.prototype.mn=t.mn,rN.prototype.dashOb=i,rN.prototype.prop=e,e.c?.setGroupProperty(new r_("Color",r)),e.o?.setGroupProperty(new r_("Opacity",r)),e.w?.setGroupProperty(new r_("Stroke Width",r)),rN.prototype.getInterface}transformInterfaceFactory(t,e,s){rR.prototype.shape=t;let i=new rb(rR,s);return e.transform?.mProps.o?.setGroupProperty(new r_("Opacity",i)),e.transform?.mProps.p?.setGroupProperty(new r_("Position",i)),e.transform?.mProps.a?.setGroupProperty(new r_("Anchor Point",i)),e.transform?.mProps.s?.setGroupProperty(new r_("Scale",i)),e.transform?.mProps.r?.setGroupProperty(new r_("Rotation",i)),e.transform?.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(new r_("Skew",i)),e.transform.mProps.sa?.setGroupProperty(new r_("Skew Angle",i))),e.transform?.op.setGroupProperty(new r_("Opacity",i)),rR.prototype._name=t.nm,rR.prototype.prop=e,rR.prototype.ty=$.Transform,rR.prototype.mn=t.mn,rR.prototype.propertyGroup=s,rR.prototype.getInterface}trimInterfaceFactory(t,e,s){rV.prototype.shape=t;let i=new rb(rV,s);return rV.prototype.propertyIndex=t.ix,e.s?.setGroupProperty(new r_("Start",i)),e.e?.setGroupProperty(new r_("End",i)),e.o?.setGroupProperty(new r_("Offset",i)),rV.prototype.propertyIndex=t.ix,rV.prototype.propertyGroup=s,rV.prototype._name=t.nm,rV.prototype.prop=e,rV.prototype.mn=t.mn,rV.prototype.getInterface}noOp(){return null}},text:class{get sourceText(){this.elem.textProperty?.getValue();let t=this.elem.textProperty?.currentData.t;return this._sourceText&&t===this._sourceText.value||(this._sourceText=new String(t),this._sourceText.value=t||new String(t),Object.defineProperty(this._sourceText,"style",{get(){return{fillColor:this.elem.textProperty.currentData.fc}}})),this._sourceText}constructor(t){this.elem=t}getInterface(t){return"ADBE Text Document"===t?this.sourceText:null}}},rz=(t,e,s)=>{if(0===t)return[];let i=e*e-4*t*s;if(i<0)return[];let r=-e/(2*t);if(0===i)return[r];let a=Math.sqrt(i)/(2*t);return[r-a,r+a]},rB=(t,e,s,i)=>[-t+3*e-3*s+i,3*t-6*e+3*s,-3*t+3*e,t],rG=(t,e,s)=>t*(1-s)+e*s,rq=(t,e,s)=>[rG(t[0],e[0],s),rG(t[1],e[1],s)],rj=(t,e)=>2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height,rW=(t,e,s)=>{let i=t.boundingBox();return{bez:t,cx:i.cx,cy:i.cy,height:i.height,t:(e+s)/2,t1:e,t2:s,width:i.width}},rH=t=>{let e=t.bez.split(.5);return[rW(e[0],t.t1,t.t),rW(e[1],t.t,t.t2)]},rY=(t,e,s,i,r,a)=>{if(!rj(t,e))return;if(s>=a||t.width<=i&&t.height<=i&&e.width<=i&&e.height<=i)return void r.push([t.t,e.t]);let n=rH(t),o=rH(e);rY(n[0],o[0],s+1,i,r,a),rY(n[0],o[1],s+1,i,r,a),rY(n[1],o[0],s+1,i,r,a),rY(n[1],o[1],s+1,i,r,a)},rU=t=>new rJ(t,t,t,t,!1);class rJ{constructor(t,e,s,i,r){let a=e,n=s;r&&J(t,a)&&(a=rq(t,i,1/3)),r&&J(n,i)&&(n=rq(t,i,2/3));let o=rB(t[0],a[0],n[0],i[0]),h=rB(t[1],a[1],n[1],i[1]);this.a=[o[0],h[0]],this.b=[o[1],h[1]],this.c=[o[2],h[2]],this.d=[o[3],h[3]],this.points=[t,a,n,i]}boundingBox(){let t=this.bounds();return{bottom:t.y.max,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2,height:t.y.max-t.y.min,left:t.x.min,right:t.x.max,top:t.y.min,width:t.x.max-t.x.min}}bounds(){return{x:this._extrema(this,0),y:this._extrema(this,1)}}derivative(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]}inflectionPoints(){let t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(Y(t))return[];let e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,s=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(s<0)return[];let i=Math.sqrt(s);return Y(i)?i>0&&i<1?[e]:[]:[e-i,e+i].filter(t=>t>0&&t<1)}intersections(t,e,s){let i=e,r=s;i=i??2,r=r??7;let a=[];return rY(rW(this,0,1),rW(t,0,1),0,i,a,r),a}normalAngle(t){let e=this.derivative(t);return Math.atan2(e[0],e[1])}point(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]}split(t){if(t<=0)return[rU(this.points[0]),this];if(t>=1)return[this,rU(this.points[this.points.length-1])];let e=rq(this.points[0],this.points[1],t),s=rq(this.points[1],this.points[2],t),i=rq(this.points[2],this.points[3],t),r=rq(e,s,t),a=rq(s,i,t),n=rq(r,a,t);return[new rJ(this.points[0],e,r,n,!0),new rJ(n,a,i,this.points[3],!0)]}tangentAngle(t){let e=this.derivative(t);return Math.atan2(e[1],e[0])}_extrema(t,e){let s=t.points[0][e],i=t.points[t.points.length-1][e];if(s>i){let t=i;i=s,s=t}let r=rz(3*t.a[e],2*t.b[e],t.c[e]),{length:a}=r;for(let n=0;n<a;n++){if(r[n]<=0||r[n]>=1)continue;let a=t.point(r[n])[e];if(a<s){s=a;continue}a>i&&(i=a)}return{max:i,min:s}}}function rX(t,e){let s=(e+1)%t.length();return new rJ(t.v[e],t.o[e],t.i[s],t.v[s],!0)}class rK extends ez{addShape(t){if(this.closed)return;t.sh?.container?.addDynamicProperty(t.sh);let e={data:t,localShapeCollection:e_(),shape:t.sh};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}addShapeToModifier(t){}init(t,e,s,i){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=-999999,this.closed=!1,this.k=!1,this.dynamicProperties.length>0?this.k=!0:this.getValue(!0)}initModifierProperties(t,e){throw Error(`${this.constructor.name}: Method initModifierProperties is not implemented`)}isAnimatedWithShape(t){throw Error(`${this.constructor.name}: Method isAnimatedWithShape is not implemented`)}processKeys(){return this.elem?.globalData?.frameId===this.frameId||(this.frameId=this.elem?.globalData?.frameId,this.iterateDynamicProperties()),0}constructor(...t){super(...t),this.shapes=[]}}let rZ=(t,e)=>[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]],rQ=(t,e,s)=>[t[0]+Math.cos(e)*s,t[1]-Math.sin(e)*s],r0=(t,e,s)=>{let i=Math.atan2(e[0]-t[0],e[1]-t[1]);return[rQ(t,i,s),rQ(e,i,s)]},r1=(t,e,s,i)=>{let r=[t[0],t[1],1],a=[e[0],e[1],1],n=[s[0],s[1],1],o=[i[0],i[1],1],h=rZ(rZ(r,a),rZ(n,o));return Y(h[2])?null:[h[0]/h[2],h[1]/h[2]]},r2=(t,e)=>Math.hypot(t[0]-e[0],t[1]-e[1]),r3=(t,e,s,i,r)=>{let a=e.points[3],n=s.points[0];if(3===i||J(a,n))return a;if(2===i){let i=-e.tangentAngle(1),r=-s.tangentAngle(0)+Math.PI,o=r1(a,rQ(a,i+Math.PI/2,100),n,rQ(n,i+Math.PI/2,100)),h=o?r2(o,a):r2(a,n)/2,l=rQ(a,i,2*h*.5519);return t.setXYAt(l[0],l[1],"o",t.length()-1),l=rQ(n,r,2*h*.5519),t.setTripleAt(n[0],n[1],n[0],n[1],l[0],l[1],t.length()),n}let o=J(a,e.points[2])?e.points[0]:e.points[2],h=J(n,s.points[1])?s.points[3]:s.points[1],l=r1(o,a,n,h);return l&&r2(l,a)<r?(t.setTripleAt(l[0],l[1],l[0],l[1],l[0],l[1],t.length()),l):a},r5=(t,e)=>{let s,i=(s=r0(t.points[0],t.points[1],e))[0],r=s[1],a=(s=r0(t.points[1],t.points[2],e))[0],n=s[1],o=(s=r0(t.points[2],t.points[3],e))[0],h=s[1],l=r1(i,r,a,n);l=l??r;let p=r1(o,h,a,n);return new rJ(i,l,p=p??o,h)},r4=(t,e)=>{let s,i,r,a=t.inflectionPoints();if(0===a.length)return[r5(t,e)];if(1===a.length||H(a[1],1))return s=(r=t.split(a[0]))[0],i=r[1],[r5(s,e),r5(i,e)];s=(r=t.split(a[0]))[0];let n=(a[1]-a[0])/(1-a[0]),o=(r=r[1].split(n))[0];return i=r[1],[r5(s,e),r5(o,e),r5(i,e)]},r6=(t,e)=>{let s=t.intersections(e);return(s.length>0&&H(s[0][0],1)&&s.shift(),s.length>0)?s[0]:null},r8=(t,e)=>{let s=[...t],i=[...e],r=r6(t[t.length-1],e[0]);return(r&&(s[t.length-1]=t[t.length-1].split(r[0])[0],i[0]=e[0].split(r[1])[1]),t.length>1&&e.length>1&&(r=r6(t[0],e[e.length-1])))?[[t[0].split(r[0])[0]],[e[e.length-1].split(r[1])[1]]]:[s,i]},r9=t=>{let e;for(let s=1;s<t.length;s++)e=r8(t[s-1],t[s]),t[s-1]=e[0],t[s]=e[1];return t.length>1&&(e=r8(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t},r7=(t,e)=>{let s=[e[0]-t[0],e[1]-t[1]],i=-(.5*Math.PI);return[Math.cos(i)*s[0]-Math.sin(i)*s[1],Math.sin(i)*s[0]+Math.cos(i)*s[1]]},at=(t,e)=>{let s=0===e?t.length()-1:e-1,i=(e+1)%t.length(),r=r7(t.v[s],t.v[i]);return Math.atan2(0,1)-Math.atan2(r[1],r[0])},ae=(t,e,s,i,r,a,n)=>{let o=s-Math.PI/2,h=s+Math.PI/2,l=e[0]+Math.cos(s)*i*r,p=e[1]-Math.sin(s)*i*r;t.setTripleAt(l,p,l+Math.cos(o)*a,p-Math.sin(o)*a,l+Math.cos(h)*n,p-Math.sin(h)*n,t.length())},as=(t,e,s,i,r,a,n)=>{let o=at(e,s),h=e.v[s%e._length],l=e.v[0===s?e._length-1:s-1],p=e.v[(s+1)%e._length],m=2===a?Math.sqrt(Math.pow(h[0]-l[0],2)+Math.pow(h[1]-l[1],2)):0,c=2===a?Math.sqrt(Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2)):0;ae(t,e.v[s%e._length]||[0,0],o,n,i,c/((r+1)*2),m/((r+1)*2))},ai=(t,e,s,i,r,a)=>{let n=a;for(let a=0;a<i;a++){let o=(a+1)/(i+1),h=2===r?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,l=e.normalAngle(o);ae(t,e.point(o),l,n,s,h/((i+1)*2),h/((i+1)*2)),n=-n}return n},ar=(t,e)=>{"expressions"===t&&tI(e)},aa=t=>{tR(t)},an=setInterval(function(){U()||"complete"===document.readyState&&(clearInterval(an),function(){if(U())return;let t=[...document.getElementsByClassName("lottie"),...document.getElementsByClassName("bodymovin")],{length:e}=t;for(let s=0;s<e;s++)tX(t[s],void 0)}())},100);B(L.Canvas,class extends iI{constructor(t,e){super(),this.animationItem=t,this.renderConfig={className:e?.className||"",clearCanvas:e?.clearCanvas??!0,contentVisibility:e?.contentVisibility||"visible",context:e?.context??null,dpr:e?.dpr??1,id:e?.id||"",imagePreserveAspectRatio:e?.imagePreserveAspectRatio||F.Cover,preserveAspectRatio:e?.preserveAspectRatio||F.Contain,progressiveLoad:!!e?.progressiveLoad,runExpressions:e?.runExpressions??!0},this.animationItem.wrapper&&(this.renderConfig.dpr=e?.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={_mdf:!1,currentGlobalAlpha:-1,frameNum:-1,renderConfig:this.renderConfig},this.contextData=new i$,this.elements=[],this.pendingElements=[],this.transformMat=new t8,this.completeLayers=!1,this.rendererType=L.Canvas,this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}createComp(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);return new iF(t,this.globalData,this)}}),B(L.SVG,iD),s1(I.TrimModifier,class extends rK{addPaths(t,e){let{length:s}=t;for(let i=0;i<s;i++)e.addShape(t[i])}addSegment(t,e,s,i,r,a,n){r.setXYAt(e[0],e[1],"o",a),r.setXYAt(s[0],s[1],"i",a+1),n&&r.setXYAt(t[0],t[1],"v",a),r.setXYAt(i[0],i[1],"v",a+1)}addSegmentFromArray(t,e,s,i){e.setXYAt(t[1],t[5],"o",s),e.setXYAt(t[2],t[6],"i",s+1),i&&e.setXYAt(t[0],t[4],"v",s),e.setXYAt(t[3],t[7],"v",s+1)}addShapes(t,e,s){let i=s,{pathsData:r=[],shape:a}=t,n=a?.paths?.shapes??[],o=a?.paths?._length||0,h,l,p=0,m,c,d,u=[],f,g=!0;i?(c=i._length,f=i._length):(i=ef(),c=0,f=0),u.push(i);for(let t=0;t<o;t++){let{lengths:s}=r[t];for(h=1,i.c=n[t].c,l=n[t].c?s.length:s.length+1;h<l;h++){if(p+(m=s[h-1]).addedLength<e.s){p+=m.addedLength,i.c=!1;continue}if(p>e.e){i.c=!1;break}e.s<=p&&e.e>=p+m.addedLength?(this.addSegment(n[t].v[h-1],n[t].o[h-1],n[t].i[h],n[t].v[h],i,c,g),g=!1):(d=eM(n[t].v[h-1],n[t].v[h],n[t].o[h-1],n[t].i[h],(e.s-p)/m.addedLength,(e.e-p)/m.addedLength,s[h-1]),this.addSegmentFromArray(d,i,c,g),g=!1,i.c=!1),p+=m.addedLength,c++}if(n[t].c&&s.length>0){if(m=s[h-1],p<=e.e){let r=s[h-1].addedLength;e.s<=p&&e.e>=p+r?(this.addSegment(n[t].v[h-1],n[t].o[h-1],n[t].i[0],n[t].v[0],i,c,g),g=!1):(d=eM(n[t].v[h-1],n[t].v[0],n[t].o[h-1],n[t].i[0],(e.s-p)/r,(e.e-p)/r,s[h-1]),this.addSegmentFromArray(d,i,c,g),g=!1,i.c=!1)}else i.c=!1;p+=m.addedLength,c++}if(i._length&&(i.setXYAt(i.v[f][0],i.v[f][1],"i",f),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),p>e.e)break;t<o-1&&(i=ef(),g=!0,u.push(i),c=0)}return u}addShapeToModifier(t){t.pathsData=[]}calculateShapeEdges(t,e,s,i,r){let a=[];e<=1?a.push({e,s:t}):t>=1?a.push({e:e-1,s:t-1}):a.push({e:1,s:t},{e:e-1,s:0});let n=[],{length:o}=a;for(let t=0;t<o;t++)if(!(a[t].e*r<i||a[t].s*r>i+s)){let e,o;e=a[t].s*r<=i?0:(a[t].s*r-i)/s,o=a[t].e*r>=i+s?1:(a[t].e*r-i)/s,n.push([e,o])}return 0===n.length&&n.push([0,0]),n}initModifierProperties(t,e){this.s=eX.getProp(t,e.s,0,.01,this),this.e=eX.getProp(t,e.e,0,.01,this),this.o=eX.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=this.s.effectsSequence.length>0||this.e.effectsSequence.length>0||this.o.effectsSequence.length>0}processShapes(t){let e,s;if(this._mdf||t){let t=Number(this.o?.v)%360/360;if(t<0&&t++,(e=Number(this.s?.v)>1?1+t:0>Number(this.s?.v)?0+t:Number(this.s?.v)+t)>(s=Number(this.e?.v)>1?1+t:0>Number(this.e?.v)?0+t:Number(this.e?.v)+t)){let t=e;e=s,s=t}e=1e-4*Math.round(1e4*e),s=1e-4*Math.round(1e4*s),this.sValue=e,this.eValue=s}else e=this.sValue||0,s=this.eValue||0;let i,r,a,n,o,h,l=0,{length:p}=this.shapes;if(s===e)for(let t=0;t<p;t++){this.shapes[t].localShapeCollection?.releaseShapes();let{shape:e}=this.shapes[t];e&&(e._mdf=!0,e.paths=this.shapes[t].localShapeCollection),this._mdf&&(this.shapes[t].pathsData.length=0)}else if((1!==s||0!==e)&&(0!==s||1!==e)){let m,c,d=[];for(let e=0;e<p;e++)if(m=this.shapes[e],m.shape?._mdf||this._mdf||t||2===this.m){if(i=m.shape?.paths,a=i?._length||0,h=0,!m.shape?._mdf&&m.pathsData?.length)h=m.totalShapeLength;else{for(r=0,n=this.releasePathsData(m.pathsData);r<a;r++)i&&(o=eA(i.shapes[r]),n.push(o),h+=o.totalLength);m.totalShapeLength=h,m.pathsData=n}l+=Number(h),m.shape&&(m.shape._mdf=!0)}else m.shape&&(m.shape.paths=m.localShapeCollection);let u=e,f=s,g=0,y;for(let t=p-1;t>=0;t--)if(m=this.shapes[t],m.shape?._mdf){if(!(c=m.localShapeCollection))throw Error(`${this.constructor.name}: Could not set localShapeCollection`);for(c.releaseShapes(),2===this.m&&p>1?(y=this.calculateShapeEdges(e,s,m.totalShapeLength||0,g,l),g+=Number(m.totalShapeLength)):y=[[u,f]],a=y.length,r=0;r<a;r++){u=y[r][0],f=y[r][1],d.length=0,f<=1?d.push({e:Number(m.totalShapeLength)*f,s:Number(m.totalShapeLength)*u}):u>=1?d.push({e:Number(m.totalShapeLength)*(f-1),s:Number(m.totalShapeLength)*(u-1)}):d.push({e:Number(m.totalShapeLength),s:Number(m.totalShapeLength)*u},{e:Number(m.totalShapeLength)*(f-1),s:0});let t=this.addShapes(m,d[0]);if(d[0].s!==d[0].e){if(d.length>1){let e=m.shape.paths?.shapes[m.shape.paths._length-1];if(e?.c){let e=t.pop();this.addPaths(t,c),t=this.addShapes(m,d[1],e)}else this.addPaths(t,c),t=this.addShapes(m,d[1])}this.addPaths(t,c)}}m.shape.paths=c}}else if(this._mdf)for(let t=0;t<p;t++){this.shapes[t].pathsData.length=0;let{shape:e}=this.shapes[t];e&&(e._mdf=!0)}}releasePathsData(t){let{length:e}=t;for(let s=0;s<e;s++)eS.release(t[s]);return t.length=0,t}}),s1(I.PuckerAndBloatModifier,class extends rK{initModifierProperties(t,e){this.getValue=this.processKeys,this.amount=eX.getProp(t,e.a,0,null,this),this._isAnimated=this.amount.effectsSequence.length>0}processPath(t,e){let s,i,r,a,n,o,h,l=e/100,p=[0,0],m=t._length;for(s=0;s<m;s++)p[0]+=t.v[s][0],p[1]+=t.v[s][1];p[0]/=m,p[1]/=m;let c=ef();for(s=0,c.c=t.c;s<m;s++)i=t.v[s][0]+(p[0]-t.v[s][0])*l,r=t.v[s][1]+(p[1]-t.v[s][1])*l,a=t.o[s][0]+-((p[0]-t.o[s][0])*l),n=t.o[s][1]+-((p[1]-t.o[s][1])*l),o=t.i[s][0]+-((p[0]-t.i[s][0])*l),h=t.i[s][1]+-((p[1]-t.i[s][1])*l),c.setTripleAt(i,r,a,n,o,h,s);return c}processShapes(t){let{length:e}=this.shapes,s=this.amount?.v;if(0!==s){let i,r,a;for(let n=0;n<e;n++){if(a=(r=this.shapes[n]).localShapeCollection,!(!r.shape?._mdf&&!this._mdf&&!t)){a?.releaseShapes(),r.shape&&(r.shape._mdf=!0),i=r.shape?.paths?.shapes;let t=r.shape?.paths?._length||0;for(let e=0;e<t;e++){let t=i?.[e];t&&a?.addShape(this.processPath(t,s||0))}}r.localShapeCollection&&r.shape&&(r.shape.paths=r.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}}),s1(I.RepeaterModifier,class extends rK{addShapeToModifier(t){t.pathsData=[]}applyTransforms(t,e,s,i,r,a){if(!i.s||!i.p||!i.a||!i.r)throw Error(`${this.constructor.name}: Missing required data from Transform`);let n=a?-1:1,o=i.s.v[0]+(1-i.s.v[0])*(1-r),h=i.s.v[1]+(1-i.s.v[1])*(1-r);t.translate(i.p.v[0]*n*r,i.p.v[1]*n*r,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*n*r),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),s.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),s.scale(a?1/o:o,a?1/h:h),s.translate(i.a.v[0],i.a.v[1],i.a.v[2])}changeGroupRender(t,e){let{length:s}=t;for(let i=0;i<s;i++)t[i]._shouldRender=e,t[i].ty===$.Group&&this.changeGroupRender(t[i].it,e)}cloneElements(t){let e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e}init(t,e,s,i=[]){if(!Q(e))throw TypeError(`${this.constructor.name}: Method init, param arr must be array`);let r=Number(s);for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r--,this._elements.unshift(e[r]);if(this.dynamicProperties.length>0){this.k=!0;return}this.getValue(!0)}initModifierProperties(t,e){this.getValue=this.processKeys,this.c=eX.getProp(t,e.c,0,null,this),this.o=eX.getProp(t,e.o,0,null,this),e.tr&&(this.tr=sp.getTransformProperty(t,e.tr,this),this.so=eX.getProp(t,e.tr.so,0,.01,this),this.eo=eX.getProp(t,e.tr.eo,0,.01,this)),this.data=e,0===this.dynamicProperties.length&&this.getValue(!0),this._isAnimated=this.dynamicProperties.length>0,this.pMatrix=new t8,this.rMatrix=new t8,this.sMatrix=new t8,this.tMatrix=new t8,this.matrix=new t8}processShapes(t){let e,s;if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);let i,r,a,n,o,h=!1;if(!this._mdf&&!t){for(o=Number(this._currentCopies),a=0,n=1;o;)(i=this.elemsData[a].it)[i.length-1].transform.mProps._mdf=!1,i[i.length-1].transform.op._mdf=!1,o--,a+=n;return h}let l=Math.ceil(Number(this.c?.v));if(this._groups.length<l){for(;this._groups.length<l;){let t={it:this.cloneElements(this._elements),ty:"gr"};t.it?.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{e:0,s:0,t:0},{e:0,s:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:$.Transform}),this.arr.splice(0,0,t),this._groups.splice(0,0,t),this._currentCopies?this._currentCopies++:this._currentCopies=1}this.elem?.reloadShapes(),h=!0}o=0;let p=this._groups.length-1;for(a=0;a<=p-1;a++){if(e=o<l,this._groups[a]&&(this._groups[a]._shouldRender=e),this.changeGroupRender(this._groups[a].it??[],e),!e){let t=this.elemsData[a].it,e=t[t.length-1];0===e.transform.op.v?e.transform.op._mdf=!1:(e.transform.op._mdf=!0,e.transform.op.v=0)}o++}if(this._currentCopies=l,!this.matrix||!this.pMatrix||!this.rMatrix||!this.sMatrix||!this.tMatrix)throw Error(`${this.constructor.name}: Could not set Matrix`);if(!this.tr)throw Error(`${this.constructor.name}: Transformproperty is not set`);let m=Number(this.o?.v),c=m%1,d=m>0?Math.floor(m):Math.ceil(m),u=this.pMatrix.props,f=this.rMatrix.props,g=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();let y=0;if(m>0){for(;y<d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),y++;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,c,!1),y+=c)}else if(m<0){for(;y>d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),y--;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-c,!0),y-=c)}for(a=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,o=this._currentCopies;o;){let{length:t}=r=(i=this.elemsData[a].it)[i.length-1].transform.mProps.v.props;if(i[i.length-1].transform.mProps._mdf=!0,i[i.length-1].transform.op._mdf=!0,i[i.length-1].transform.op.v=1===this._currentCopies?Number(this.so?.v):Number(this.so?.v)+(Number(this.eo?.v)-Number(this.so?.v))*(a/(this._currentCopies-1)),0===y)for(this.matrix.reset(),s=0;s<t;s++)r[s]=this.matrix.props[s];else{for((0!==a&&1===n||a!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),s=0;s<t;s++)r[s]=this.matrix.props[s];this.matrix.reset()}y++,o--,a+=n}return h}resetElements(t){let{length:e}=t;for(let s=0;s<e;s++){t[s]._processed=!1;let{it:e}=t[s];t[s].ty===$.Group&&e&&this.resetElements(e)}}constructor(...t){super(...t),this.arr=[],this.elemsData=[],this._elements=[],this._groups=[]}}),s1(I.RoundCornersModifier,class extends rK{initModifierProperties(t,e){this.getValue=this.processKeys,this.rd=eX.getProp(t,e.r,0,null,this),this._isAnimated=this.rd.effectsSequence.length>0}processPath(t,e){let s=ef();s.c=t.c;let i=t._length,r,a,n,o,h,l,p=0,m,c,d,u,f,g;for(let y=0;y<i;y++)r=t.v[y],n=t.o[y],a=t.i[y],r[0]===n[0]&&r[1]===n[1]&&r[0]===a[0]&&r[1]===a[1]?0!==y&&y!==i-1||t.c?(o=0===y?t.v[i-1]:t.v[y-1],l=(h=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(h/2,e)/h:0,m=f=r[0]+(o[0]-r[0])*l,c=g=r[1]-(r[1]-o[1])*l,d=m-(m-r[0])*.5519,u=c-(c-r[1])*.5519,s.setTripleAt(m,c,d,u,f,g,p),p++,o=y===i-1?t.v[0]:t.v[y+1],l=(h=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(h/2,e)/h:0,m=d=r[0]+(o[0]-r[0])*l,c=u=r[1]+(o[1]-r[1])*l,f=m-(m-r[0])*.5519,g=c-(c-r[1])*.5519,s.setTripleAt(m,c,d,u,f,g,p)):s.setTripleAt(r[0],r[1],n[0],n[1],a[0],a[1],p):s.setTripleAt(t.v[y][0],t.v[y][1],t.o[y][0],t.o[y][1],t.i[y][0],t.i[y][1],p),p++;return s}processShapes(t){let{length:e}=this.shapes,s=this.rd?.v;if(0!==s){let i,r,a;for(let n=0;n<e;n++){if(a=(i=this.shapes[n]).localShapeCollection,!(!i.shape?._mdf&&!this._mdf&&!t)){a?.releaseShapes(),i.shape&&(i.shape._mdf=!0),r=i.shape?.paths?.shapes??[];let t=i.shape?.paths?._length||0;for(let e=0;e<t;e++)a?.addShape(this.processPath(r[e],s))}i.shape&&(i.shape.paths=i.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}}),s1(I.ZigZagModifier,class extends rK{initModifierProperties(t,e){this.getValue=this.processKeys,this.amplitude=eX.getProp(t,e.s,0,null,this),this.frequency=eX.getProp(t,e.r,0,null,this),this.pointsType=eX.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length>0||this.frequency.effectsSequence.length>0||this.pointsType.effectsSequence.length>0}processPath(t,e,s,i){let r=t._length,a=ef();if(a.c=t.c,t.c||(r-=1),0===r)return a;let n=-1,o=rX(t,0);as(a,t,0,e,s,i,n);for(let h=0;h<r;h++)n=ai(a,o,e,s,i,-n),o=h!==r-1||t.c?rX(t,(h+1)%r):null,as(a,t,h+1,e,s,i,n);return a}processShapes(t){let e=Number(this.amplitude?.v),s=Math.max(0,Math.round(Number(this.frequency?.v))),i=Number(this.pointsType?.v);if(0!==e){let r,a,n,{length:o}=this.shapes;for(let h=0;h<o;h++){if(a=(r=this.shapes[h]).localShapeCollection,!(!r.shape?._mdf&&!this._mdf&&!t)){a?.releaseShapes(),r.shape&&(r.shape._mdf=!0),n=r.shape?.paths?.shapes??[];let{_length:t}=r.shape?.paths??{_length:0};for(let r=0;r<t;r++)a?.addShape(this.processPath(n[r],e,s,i))}r.shape&&(r.shape.paths=r.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}}),s1(I.OffsetPathModifier,class extends rK{initModifierProperties(t,e){this.getValue=this.processKeys,this.amount=eX.getProp(t,e.a,0,null,this),this.miterLimit=eX.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length>0}processPath(t,e,s,i){let r=ef();r.c=t.c;let a=t.length();t.c||(a-=1);let n,o=[];for(let s=0;s<a;s++)n=rX(t,s),o.push(r4(n,e));if(!t.c)for(let s=a-1;s>=0;s--)n=function(t,e){let s=(e+1)%t.length();return new rJ(t.v[s],t.i[s],t.o[e],t.v[e],!0)}(t,s),o.push(r4(n,e));o=r9(o);let h=null,l=null,{length:p}=o;for(let t=0;t<p;t++){let e=o[t];l&&(h=r3(r,l,e[0],s,i)),l=e[e.length-1];let{length:a}=e;for(let t=0;t<a;t++)n=e[t],h&&J(n.points[0],h)?r.setXYAt(n.points[1][0],n.points[1][1],"o",r.length()-1):r.setTripleAt(n.points[0][0],n.points[0][1],n.points[1][0],n.points[1][1],n.points[0][0],n.points[0][1],r.length()),r.setTripleAt(n.points[3][0],n.points[3][1],n.points[3][0],n.points[3][1],n.points[2][0],n.points[2][1],r.length()),h=n.points[3]}return p>0&&l&&r3(r,l,o[0][0],s,i),r}processShapes(t){let{length:e}=this.shapes,s=Number(this.amount?.v),i=Number(this.miterLimit?.v),r=Number(this.lineJoin);if(0!==s){let a,n,o;for(let h=0;h<e;h++){if(o=(n=this.shapes[h]).localShapeCollection,!(!n.shape?._mdf&&!this._mdf&&!t)){o?.releaseShapes(),n.shape&&(n.shape._mdf=!0),a=n.shape?.paths?.shapes;let t=n.shape?.paths?._length||0;for(let e=0;e<t;e++){let t=a?.[e];t&&o?.addShape(this.processPath(t,s,r,i))}}n.shape&&(n.shape.paths=n.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}}),tI({initExpressions:function(t){let e=0,s=[];if(!t.renderer.globalData)throw Error("Renderer -> GlobalData is not set");t.renderer.compInterface=new rf(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e++},t.renderer.globalData.popExpression=function(){0==--e&&function(){let{length:t}=s;for(let e=0;e<t;e++)s[e].release?.();s.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){s.includes(t)||s.push(t)}},resetFrame:rg}),tD.interface=function(t){return rO[t]},function(){let{getTransformProperty:t}=sp;sp.getTransformProperty=function(e,s,i){let r=t(e,s,i);return r.dynamicProperties.length>0?r.getValueAtTime=rc.bind(r):r.getValueAtTime=rd.bind(r),r.setGroupProperty=rn.setGroupProperty,r};let e=eX.getProp;eX.getProp=function(t,s,i,r,a){let n=e(t,s,i,r,a);n.kf?n.getValueAtTime=rn.getValueAtTime.bind(n):n.getValueAtTime=rn.getStaticValueAtTime.bind(n),n.setGroupProperty=rn.setGroupProperty,n.loopOut=rl,n.loopIn=rp,n.smooth=rm,n.getVelocityAtTime=rn.getVelocityAtTime.bind(n),n.getSpeedAtTime=rn.getSpeedAtTime.bind(n),n.numKeys=s?.a===1?s.k.length:0,n.propertyIndex=s?.ix;let o=0;return 0!==i&&(o=t4(D.Float32,s?.a===1?s.k[0].s.length:(s?.k).length)),n._cachingAtTime={lastFrame:-999999,lastIndex:0,value:o},rn.searchExpressions(t,s,n),n.k&&a?.addDynamicProperty(n),n};let s=e3.getConstructorFunction(),i=e3.getKeyframedConstructorFunction();rh([ro],s),rh([ro],i),i.prototype.getValueAtTime=ru,i.prototype.initiateExpression=ra.initiateExpression;let r=e3.getShapeProp;e3.getShapeProp=function(t,e,s,i,a){let n=r(t,e,s,i,a);return n&&(n.propertyIndex=e.ix,n.lock=!1,3===s?rn.searchExpressions(t,e.pt,n):4===s&&rn.searchExpressions(t,e.ks,n),n.k&&t.addDynamicProperty(n)),n}}(),iy.prototype.getExpressionValue=function(t,e){let s=this.calculateExpression(e);if(t.t!==s){let e={};return this.copyData(e,t),e.t=s.toString(),e.__complete=!1,e}return t},iy.prototype.searchProperty=function(){let t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=!!(t||e),this.kf},iy.prototype.searchExpressions=function(){return this.data.d?.x?(this.calculateExpression=ra.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null},ep(20,class extends t7{constructor(t,e,s,i,r){super(),this.filterManager=e;let a=tz("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values",`${ei} 1 0`),this.linearFilter=a,a.setAttribute("result",`${i}_tint_1`),t.appendChild(a),(a=tz("feColorMatrix")).setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",`${i}_tint_2`),t.appendChild(a),this.matrixFilter=a;let n=this.createMergeNode(i,[r,`${i}_tint_1`,`${i}_tint_2`]);t.appendChild(n)}renderFrame(t){if(!t&&!this.filterManager._mdf)return;let e=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",`${ei} ${i} 0`),this.matrixFilter.setAttribute("values",`${s[0]-e[0]} 0 0 0 ${e[0]} ${s[1]-e[1]} 0 0 0 ${e[1]} ${s[2]-e[2]} 0 0 0 ${e[2]} 0 0 0 1 0`)}},!0),ep(21,class{constructor(t,e,s,i){this.filterManager=e;let r=tz("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result",i),t.appendChild(r),this.matrixFilter=r}renderFrame(t){if(!t&&!this.filterManager._mdf)return;let e=this.filterManager.effectElements[2].p.v,s=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values",`0 0 0 0 ${e[0]} 0 0 0 0 ${e[1]} 0 0 0 0 ${e[2]} 0 0 0 ${s} 0`)}},!0),ep(22,class{constructor(t,e,s){this.initialized=!1,this.filterManager=e,this.elem=s,this.paths=[]}initialize(){let t,e,s,i=[...this.elem.layerElement?.children??this.elem.layerElement?.childNodes??[]];1===this.filterManager.effectElements[1].p.v?(s=this.elem.maskManager?.masksProperties.length||0,e=0):s=(e=this.filterManager.effectElements[0].p.v-1)+1;let r=tz("g");for(r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset","1");e<s;e++)t=tz("path"),r.appendChild(t),this.paths.push({m:e,p:t});if(3===this.filterManager.effectElements[10].p.v){let t=tz("mask"),e=X();t.id=e,t.setAttribute("mask-type","alpha"),t.appendChild(r),this.elem.globalData?.defs.appendChild(t);let s=tz("g");for(s.setAttribute("mask",`url(${es()}#${e})`);i[0];)s.appendChild(i[0]);this.elem.layerElement?.appendChild(s),this.masker=t,r.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=[...this.elem.layerElement?.children??this.elem.layerElement?.childNodes??[]];i.length>0;)this.elem.layerElement?.removeChild(i[0]);this.elem.layerElement?.appendChild(r),this.elem.layerElement?.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r}renderFrame(t){let e,s;this.initialized||this.initialize();let{length:i}=this.paths;for(let r=0;r<i;r++)if(-1!==this.paths[r].m&&(e=this.elem.maskManager?.viewData[this.paths[r].m],s=this.paths[r].p,e&&(t||this.filterManager._mdf||e.prop?._mdf)&&s.setAttribute("d",e.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||e?.prop?._mdf)){let t;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){let e=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),i=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),r=s.getTotalLength();t=`0 0 0 ${r*e} `;let a=Math.floor(r*(i-e)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(let e=0;e<a;e++)t+=`1 ${2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01} `;t+=`0 ${10*r} 0 0`}else t=`1 ${2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01}`;s.setAttribute("stroke-dasharray",t)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker?.setAttribute("stroke-width",`${2*this.filterManager.effectElements[4].p.v}`),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker?.setAttribute("opacity",`${Number(this.filterManager.effectElements[6].p.v)}`),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){let t=this.filterManager.effectElements[3].p.v;this.pathMasker?.setAttribute("stroke",`rgb(${Math.floor(255*t[0])},${Math.floor(255*t[1])},${255*t[2]})`)}}},!1),ep(23,class{constructor(t,e,s,i){this.filterManager=e;let r=tz("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(r);let a=tz("feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",i),this.matrixFilter=a;let n=tz("feFuncR");n.setAttribute("type","table"),a.appendChild(n),this.feFuncR=n;let o=tz("feFuncG");o.setAttribute("type","table"),a.appendChild(o),this.feFuncG=o;let h=tz("feFuncB");h.setAttribute("type","table"),a.appendChild(h),this.feFuncB=h,t.appendChild(a)}renderFrame(t){if(!t&&!this.filterManager._mdf)return;let e=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,r=`${i[0]} ${s[0]} ${e[0]}`,a=`${i[1]} ${s[1]} ${e[1]}`,n=`${i[2]} ${s[2]} ${e[2]}`;this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",n)}},!0),ep(24,class{constructor(t,e,s,i){this.filterManager=e;let{effectElements:r}=this.filterManager,a=tz("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(a)),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&((a=tz("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",i),t.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}createFeFunc(t,e){let s=tz(t);return s.setAttribute("type","table"),e.appendChild(s),s}getTableValue(t,e,s,i,r){let a,n=0,o=Math.min(t,e),h=Math.max(t,e),l=t6(256),p,m=0,c=r-i,d=e-t;for(;n<=256;)p=(a=n/256)<=o?d<0?r:i:a>=h?d<0?i:r:i+c*Math.pow((a-t)/d,1/s),l[m]=p,m++,n+=256/255;return l.join(" ")}renderFrame(t){let e;if(!t&&!this.filterManager._mdf)return;let{effectElements:s}=this.filterManager;this.feFuncRComposed&&(t||s[3].p._mdf||s[4].p._mdf||s[5].p._mdf||s[6].p._mdf||s[7].p._mdf)&&(e=this.getTableValue(s[3].p.v,s[4].p.v,s[5].p.v,s[6].p.v,s[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed?.setAttribute("tableValues",e),this.feFuncBComposed?.setAttribute("tableValues",e)),this.feFuncR&&(t||s[10].p._mdf||s[11].p._mdf||s[12].p._mdf||s[13].p._mdf||s[14].p._mdf)&&(e=this.getTableValue(s[10].p.v,s[11].p.v,s[12].p.v,s[13].p.v,s[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||s[17].p._mdf||s[18].p._mdf||s[19].p._mdf||s[20].p._mdf||s[21].p._mdf)&&(e=this.getTableValue(s[17].p.v,s[18].p.v,s[19].p.v,s[20].p.v,s[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||s[24].p._mdf||s[25].p._mdf||s[26].p._mdf||s[27].p._mdf||s[28].p._mdf)&&(e=this.getTableValue(s[24].p.v,s[25].p.v,s[26].p.v,s[27].p.v,s[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||s[31].p._mdf||s[32].p._mdf||s[33].p._mdf||s[34].p._mdf||s[35].p._mdf)&&(e=this.getTableValue(s[31].p.v,s[32].p.v,s[33].p.v,s[34].p.v,s[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},!0),ep(25,class extends t7{constructor(t,e,s,i,r){super();let a=(e.container?.globalData?.renderConfig).filterSize,n=e.data?.fs??a??{height:"100%",width:"100%",x:"0%",y:"0%"};t.setAttribute("x",n.x),t.setAttribute("y",n.y),t.setAttribute("width",n.width),t.setAttribute("height",n.height),this.filterManager=e;let o=tz("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",`${i}_drop_shadow_1`),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);let h=tz("feOffset");h.dx.baseVal=25,h.dy.baseVal=0,h.setAttribute("in",`${i}_drop_shadow_1`),h.setAttribute("result",`${i}_drop_shadow_2`),this.feOffset=h,t.appendChild(h);let l=tz("feFlood");l.setAttribute("flood-color","#00ff00"),l.setAttribute("flood-opacity","1"),l.setAttribute("result",`${i}_drop_shadow_3`),this.feFlood=l,t.appendChild(l);let p=tz("feComposite");p.setAttribute("in",`${i}_drop_shadow_3`),p.in2.baseVal=`${i}_drop_shadow_2`,p.setAttribute("operator","in"),p.result.baseVal=`${i}_drop_shadow_4`,t.appendChild(p);let m=this.createMergeNode(i,[`${i}_drop_shadow_4`,r]);t.appendChild(m)}renderFrame(t){if(t||this.filterManager._mdf){if(t||this.filterManager.effectElements[4].p._mdf){let t=this.filterManager.effectElements[4].p.v/4;this.feGaussianBlur.setStdDeviation(t,t)}if(t||this.filterManager.effectElements[0].p._mdf){let t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",ti(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",`${this.filterManager.effectElements[1].p.v/255}`),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){let t=this.filterManager.effectElements[3].p.v,e=(this.filterManager.effectElements[2].p.v-90)*t5,s=t*Math.cos(e),i=t*Math.sin(e);this.feOffset.dx.baseVal=s,this.feOffset.dy.baseVal=i}}}},!0),ep(28,class{constructor(t,e,s){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=s,s.matteElement=tz("g"),s.layerElement&&s.matteElement.appendChild(s.layerElement),s.transformedElement&&s.matteElement.appendChild(s.transformedElement),s.baseElement=s.matteElement}findSymbol(t){let e=0,{length:s}=et;for(;e<s;){if(et[e]===t)return et[e];e++}return null}initialize(){let t=this.filterManager.effectElements[0].p.v,e=this.elem.comp?.elements??[],s=0,{length:i}=e;for(;s<i;)e[s]&&e[s].data.ind===t&&this.setElementAsMask(this.elem,e[s]),s++;this.initialized=!0}renderFrame(t){this.initialized||this.initialize()}replaceInParent(t,e){let s,i=t.layerElement?.parentNode;if(!i)return;let{children:r}=i,a=0,{length:n}=r;for(;a<n&&r[a]!==t.layerElement;)a++;a<=n-2&&(s=r[a+1]);let o=tz("use");o.setAttribute("href",`#${e}`),s?i.insertBefore(o,s):i.appendChild(o)}setElementAsMask(t,e){if(!this.findSymbol(e)){let s=X(),i=tz("mask");e.layerId&&(i.id=e.layerId),i.setAttribute("mask-type","alpha"),et.push(e);let{defs:r}=t.globalData??{defs:null};r?.appendChild(i);let a=tz("symbol");a.id=s,this.replaceInParent(e,s),e.layerElement&&a.appendChild(e.layerElement),r?.appendChild(a);let n=tz("use");n.href.baseVal=`#${s}`,i.appendChild(n),e.data.hd=!1,e.show()}t.setMatte(e.layerId||"")}},!1),ep(29,class{constructor(t,e,s,i){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;let r=tz("feGaussianBlur");r.setAttribute("result",i),t.appendChild(r),this.feGaussianBlur=r}renderFrame(t){if(!t&&!this.filterManager._mdf)return;let e=.3*this.filterManager.effectElements[0].p.v,s=Number(this.filterManager.effectElements[1].p.v);this.feGaussianBlur.setAttribute("stdDeviation",`${3===s?0:e} ${2===s?0:e}`);let i=1===Number(this.filterManager.effectElements[2].p.v)?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},!0),ep(35,class extends t9{constructor(t,e){super(),this.init(e)}},!1),T=class extends t9{constructor(t){super(),this.init(t)}},er[35]={countsAsEffect:void 0,effect:T},t.default={destroy:function(t){for(let e=tY-1;e>=0;e--)tJ[e].animation.destroy(t)},freeze:function(){tj=!0},getRegisteredAnimations:function(){let t=tJ.length,e=[];for(let s=0;s<t;s++)e.push(tJ[s].animation);return e},goToAndStop:function(t,e,s){for(let i=0;i<tY;i++)tJ[i].animation.goToAndStop(t,e,s)},installPlugin:ar,loadAnimation:function(t){try{let e=new tq;return t2(e,null),e.setParams(t),e}catch(t){throw console.error("AnimationManager:\n",t),Error("Could not load animation")}},mute:function(t){for(let e=0;e<tY;e++)tJ[e].animation.mute(t)},pause:function(t){for(let e=0;e<tY;e++)tJ[e].animation.pause(t)},play:function(t){for(let e=0;e<tY;e++)tJ[e].animation.play(t)},registerAnimation:tX,resize:function(){for(let t=0;t<tY;t++)tJ[t].animation.resize()},setDirection:function(t,e){for(let s=0;s<tY;s++)tJ[s].animation.setDirection(t,e)},setLocationHref:t=>{ee.current=t},setPrefix:t=>{j.current=t},setQuality:t=>{if("string"==typeof t)switch(t){case"high":ew(200);break;default:case"medium":ew(50);break;case"low":ew(10)}else!isNaN(t)&&t>1&&ew(t)},setSpeed:function(t,e){for(let s=0;s<tY;s++)tJ[s].animation.setSpeed(t,e)},setSubframeRendering:aa,setVolume:function(t,e){for(let s=0;s<tY;s++)tJ[s].animation.setVolume(t,e)},stop:function(t){for(let e=0;e<tY;e++)tJ[e].animation.stop(t)},togglePause:function(t){for(let e=0;e<tY;e++)tJ[e].animation.togglePause(t)},unfreeze:function(){tj=!1,tK()},unmute:function(t){for(let e=0;e<tY;e++)tJ[e].animation.unmute(t)},useWebWorker:t=>{tb.current=t},version:"1.0.7"},t.installPlugin=ar,t.setSubframeRendering=aa,Object.defineProperty(t,"__esModule",{value:!0})}(y["@aarsteinmedia/lottie-web"]=y["@aarsteinmedia/lottie-web"]||{}),y))&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,b={},_=function(t,e,s,i,r){var a=new Worker(b[e]||(b[e]=URL.createObjectURL(new Blob([t+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(t){var e=t.data,s=e.$e$;if(s){var i=Error(s[0]);i.code=s[1],i.stack=s[2],r(i,null)}else r(null,e)},a.postMessage(s,i),a},x=Uint8Array,w=Uint16Array,E=Int32Array,C=new x([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),S=new x([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),k=new x([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P=function(t,e){for(var s=new w(31),i=0;i<31;++i)s[i]=e+=1<<t[i-1];for(var r=new E(s[30]),i=1;i<30;++i)for(var a=s[i];a<s[i+1];++a)r[a]=a-s[i]<<5|i;return{b:s,r:r}},M=P(C,2),A=M.b,T=M.r;A[28]=258,T[258]=28;for(var D=P(S,0),I=D.b,F=D.r,L=new w(32768),$=0;$<32768;++$){var N=(43690&$)>>1|(21845&$)<<1;N=(61680&(N=(52428&N)>>2|(13107&N)<<2))>>4|(3855&N)<<4,L[$]=((65280&N)>>8|(255&N)<<8)>>1}for(var R=function(t,e,s){for(var i,r=t.length,a=0,n=new w(e);a<r;++a)t[a]&&++n[t[a]-1];var o=new w(e);for(a=1;a<e;++a)o[a]=o[a-1]+n[a-1]<<1;if(s){i=new w(1<<e);var h=15-e;for(a=0;a<r;++a)if(t[a])for(var l=a<<4|t[a],p=e-t[a],m=o[t[a]-1]++<<p,c=m|(1<<p)-1;m<=c;++m)i[L[m]>>h]=l}else for(a=0,i=new w(r);a<r;++a)t[a]&&(i[a]=L[o[t[a]-1]++]>>15-t[a]);return i},V=new x(288),$=0;$<144;++$)V[$]=8;for(var $=144;$<256;++$)V[$]=9;for(var $=256;$<280;++$)V[$]=7;for(var $=280;$<288;++$)V[$]=8;for(var O=new x(32),$=0;$<32;++$)O[$]=5;var z=R(V,9,0),B=R(V,9,1),G=R(O,5,0),q=R(O,5,1),j=function(t){for(var e=t[0],s=1;s<t.length;++s)t[s]>e&&(e=t[s]);return e},W=function(t,e,s){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(7&e)&s},H=function(t,e){var s=e/8|0;return(t[s]|t[s+1]<<8|t[s+2]<<16)>>(7&e)},Y=function(t){return(t+7)/8|0},U=function(t,e,s){return(null==e||e<0)&&(e=0),(null==s||s>t.length)&&(s=t.length),new x(t.subarray(e,s))},J=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],X=function(t,e,s){var i=Error(e||J[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,X),!s)throw i;return i},K=function(t,e,s,i){var r=t.length,a=i?i.length:0;if(!r||e.f&&!e.l)return s||new x(0);var n=!s,o=n||2!=e.i,h=e.i;n&&(s=new x(3*r));var l=function(t){var e=s.length;if(t>e){var i=new x(Math.max(2*e,t));i.set(s),s=i}},p=e.f||0,m=e.p||0,c=e.b||0,d=e.l,u=e.d,f=e.m,g=e.n,y=8*r;do{if(!d){p=W(t,m,1);var v=W(t,m+1,3);if(m+=3,v)if(1==v)d=B,u=q,f=9,g=5;else if(2==v){var b=W(t,m,31)+257,_=W(t,m+10,15)+4,w=b+W(t,m+5,31)+1;m+=14;for(var E=new x(w),P=new x(19),M=0;M<_;++M)P[k[M]]=W(t,m+3*M,7);m+=3*_;for(var T=j(P),D=(1<<T)-1,F=R(P,T,1),M=0;M<w;){var L=F[W(t,m,D)];m+=15&L;var $=L>>4;if($<16)E[M++]=$;else{var N=0,V=0;for(16==$?(V=3+W(t,m,3),m+=2,N=E[M-1]):17==$?(V=3+W(t,m,7),m+=3):18==$&&(V=11+W(t,m,127),m+=7);V--;)E[M++]=N}}var O=E.subarray(0,b),z=E.subarray(b);f=j(O),g=j(z),d=R(O,f,1),u=R(z,g,1)}else X(1);else{var $=Y(m)+4,G=t[$-4]|t[$-3]<<8,J=$+G;if(J>r){h&&X(0);break}o&&l(c+G),s.set(t.subarray($,J),c),e.b=c+=G,e.p=m=8*J,e.f=p;continue}if(m>y){h&&X(0);break}}o&&l(c+131072);for(var K=(1<<f)-1,Z=(1<<g)-1,Q=m;;Q=m){var N=d[H(t,m)&K],tt=N>>4;if((m+=15&N)>y){h&&X(0);break}if(N||X(2),tt<256)s[c++]=tt;else if(256==tt){Q=m,d=null;break}else{var te=tt-254;if(tt>264){var M=tt-257,ts=C[M];te=W(t,m,(1<<ts)-1)+A[M],m+=ts}var ti=u[H(t,m)&Z],tr=ti>>4;ti||X(3),m+=15&ti;var z=I[tr];if(tr>3){var ts=S[tr];z+=H(t,m)&(1<<ts)-1,m+=ts}if(m>y){h&&X(0);break}o&&l(c+131072);var ta=c+te;if(c<z){var tn=a-z,to=Math.min(z,ta);for(tn+c<0&&X(3);c<to;++c)s[c]=i[tn+c]}for(;c<ta;++c)s[c]=s[c-z]}}e.l=d,e.p=Q,e.b=c,e.f=p,d&&(p=1,e.m=f,e.d=u,e.n=g)}while(!p);return c!=s.length&&n?U(s,0,c):s.subarray(0,c)},Z=function(t,e,s){s<<=7&e;var i=e/8|0;t[i]|=s,t[i+1]|=s>>8},Q=function(t,e,s){s<<=7&e;var i=e/8|0;t[i]|=s,t[i+1]|=s>>8,t[i+2]|=s>>16},tt=function(t,e){for(var s=[],i=0;i<t.length;++i)t[i]&&s.push({s:i,f:t[i]});var r=s.length,a=s.slice();if(!r)return{t:to,l:0};if(1==r){var n=new x(s[0].s+1);return n[s[0].s]=1,{t:n,l:1}}s.sort(function(t,e){return t.f-e.f}),s.push({s:-1,f:25001});var o=s[0],h=s[1],l=0,p=1,m=2;for(s[0]={s:-1,f:o.f+h.f,l:o,r:h};p!=r-1;)o=s[s[l].f<s[m].f?l++:m++],h=s[l!=p&&s[l].f<s[m].f?l++:m++],s[p++]={s:-1,f:o.f+h.f,l:o,r:h};for(var c=a[0].s,i=1;i<r;++i)a[i].s>c&&(c=a[i].s);var d=new w(c+1),u=te(s[p-1],d,0);if(u>e){var i=0,f=0,g=u-e,y=1<<g;for(a.sort(function(t,e){return d[e.s]-d[t.s]||t.f-e.f});i<r;++i){var v=a[i].s;if(d[v]>e)f+=y-(1<<u-d[v]),d[v]=e;else break}for(f>>=g;f>0;){var b=a[i].s;d[b]<e?f-=1<<e-d[b]++-1:++i}for(;i>=0&&f;--i){var _=a[i].s;d[_]==e&&(--d[_],++f)}u=e}return{t:new x(d),l:u}},te=function(t,e,s){return -1==t.s?Math.max(te(t.l,e,s+1),te(t.r,e,s+1)):e[t.s]=s},ts=function(t){for(var e=t.length;e&&!t[--e];);for(var s=new w(++e),i=0,r=t[0],a=1,n=function(t){s[i++]=t},o=1;o<=e;++o)if(t[o]==r&&o!=e)++a;else{if(!r&&a>2){for(;a>138;a-=138)n(32754);a>2&&(n(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(n(r),--a;a>6;a-=6)n(8304);a>2&&(n(a-3<<5|8208),a=0)}for(;a--;)n(r);a=1,r=t[o]}return{c:s.subarray(0,i),n:e}},ti=function(t,e){for(var s=0,i=0;i<e.length;++i)s+=t[i]*e[i];return s},tr=function(t,e,s){var i=s.length,r=Y(e+2);t[r]=255&i,t[r+1]=i>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var a=0;a<i;++a)t[r+a+4]=s[a];return(r+4+i)*8},ta=function(t,e,s,i,r,a,n,o,h,l,p){Z(e,p++,s),++r[256];for(var m,c,d,u,f=tt(r,15),g=f.t,y=f.l,v=tt(a,15),b=v.t,_=v.l,x=ts(g),E=x.c,P=x.n,M=ts(b),A=M.c,T=M.n,D=new w(19),I=0;I<E.length;++I)++D[31&E[I]];for(var I=0;I<A.length;++I)++D[31&A[I]];for(var F=tt(D,7),L=F.t,$=F.l,N=19;N>4&&!L[k[N-1]];--N);var B=l+5<<3,q=ti(r,V)+ti(a,O)+n,j=ti(r,g)+ti(a,b)+n+14+3*N+ti(D,L)+2*D[16]+3*D[17]+7*D[18];if(h>=0&&B<=q&&B<=j)return tr(e,p,t.subarray(h,h+l));if(Z(e,p,1+(j<q)),p+=2,j<q){m=R(g,y,0),c=g,d=R(b,_,0),u=b;var W=R(L,$,0);Z(e,p,P-257),Z(e,p+5,T-1),Z(e,p+10,N-4),p+=14;for(var I=0;I<N;++I)Z(e,p+3*I,L[k[I]]);p+=3*N;for(var H=[E,A],Y=0;Y<2;++Y)for(var U=H[Y],I=0;I<U.length;++I){var J=31&U[I];Z(e,p,W[J]),p+=L[J],J>15&&(Z(e,p,U[I]>>5&127),p+=U[I]>>12)}}else m=z,c=V,d=G,u=O;for(var I=0;I<o;++I){var X=i[I];if(X>255){var J=X>>18&31;Q(e,p,m[J+257]),p+=c[J+257],J>7&&(Z(e,p,X>>23&31),p+=C[J]);var K=31&X;Q(e,p,d[K]),p+=u[K],K>3&&(Q(e,p,X>>5&8191),p+=S[K])}else Q(e,p,m[X]),p+=c[X]}return Q(e,p,m[256]),p+c[256]},tn=new E([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),to=new x(0),th=function(t,e,s,i,r,a){var n=a.z||t.length,o=new x(i+n+5*(1+Math.ceil(n/7e3))+r),h=o.subarray(i,o.length-r),l=a.l,p=7&(a.r||0);if(e){p&&(h[0]=a.r>>3);for(var m=tn[e-1],c=m>>13,d=8191&m,u=(1<<s)-1,f=a.p||new w(32768),g=a.h||new w(u+1),y=Math.ceil(s/3),v=2*y,b=function(e){return(t[e]^t[e+1]<<y^t[e+2]<<v)&u},_=new E(25e3),k=new w(288),P=new w(32),M=0,A=0,D=a.i||0,I=0,L=a.w||0,$=0;D+2<n;++D){var N=b(D),R=32767&D,V=g[N];if(f[R]=V,g[N]=R,L<=D){var O=n-D;if((M>7e3||I>24576)&&(O>423||!l)){p=ta(t,h,0,_,k,P,A,I,$,D-$,p),I=M=A=0,$=D;for(var z=0;z<286;++z)k[z]=0;for(var z=0;z<30;++z)P[z]=0}var B=2,G=0,q=d,j=R-V&32767;if(O>2&&N==b(D-j))for(var W=Math.min(c,O)-1,H=Math.min(32767,D),J=Math.min(258,O);j<=H&&--q&&R!=V;){if(t[D+B]==t[D+B-j]){for(var X=0;X<J&&t[D+X]==t[D+X-j];++X);if(X>B){if(B=X,G=j,X>W)break;for(var K=Math.min(j,X-2),Z=0,z=0;z<K;++z){var Q=D-j+z&32767,tt=f[Q],te=Q-tt&32767;te>Z&&(Z=te,V=Q)}}}V=f[R=V],j+=R-V&32767}if(G){_[I++]=0x10000000|T[B]<<18|F[G];var ts=31&T[B],ti=31&F[G];A+=C[ts]+S[ti],++k[257+ts],++P[ti],L=D+B,++M}else _[I++]=t[D],++k[t[D]]}}for(D=Math.max(D,L);D<n;++D)_[I++]=t[D],++k[t[D]];p=ta(t,h,l,_,k,P,A,I,$,D-$,p),l||(a.r=7&p|h[p/8|0]<<3,p-=7,a.h=g,a.p=f,a.i=D,a.w=L)}else{for(var D=a.w||0;D<n+l;D+=65535){var to=D+65535;to>=n&&(h[p/8|0]=l,to=n),p=tr(h,p+1,t.subarray(D,to))}a.i=n}return U(o,0,i+Y(p)+r)},tl=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var s=e,i=9;--i;)s=(1&s&&-0x12477ce0)^s>>>1;t[e]=s}return t}(),tp=function(){var t=-1;return{p:function(e){for(var s=t,i=0;i<e.length;++i)s=tl[255&s^e[i]]^s>>>8;t=s},d:function(){return~t}}},tm=function(t,e,s,i,r){if(!r&&(r={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),n=new x(a.length+t.length);n.set(a),n.set(t,a.length),t=n,r.w=a.length}return th(t,null==e.level?6:e.level,null==e.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,s,i,r)},tc=function(t,e){var s={};for(var i in t)s[i]=t[i];for(var i in e)s[i]=e[i];return s},td=function(t,e,s){for(var i=t(),r=t.toString(),a=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),n=0;n<i.length;++n){var o=i[n],h=a[n];if("function"==typeof o){e+=";"+h+"=";var l=o.toString();if(o.prototype)if(-1!=l.indexOf("[native code]")){var p=l.indexOf(" ",8)+1;e+=l.slice(p,l.indexOf("(",p))}else for(var m in e+=l,o.prototype)e+=";"+h+".prototype."+m+"="+o.prototype[m].toString();else e+=l}else s[h]=o}return e},tu=[],tf=function(t){var e=[];for(var s in t)t[s].buffer&&e.push((t[s]=new t[s].constructor(t[s])).buffer);return e},tg=function(t,e,s,i){if(!tu[s]){for(var r="",a={},n=t.length-1,o=0;o<n;++o)r=td(t[o],r,a);tu[s]={c:td(t[n],r,a),e:a}}var h=tc({},tu[s].e);return _(tu[s].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",s,h,tf(h),i)},ty=function(){return[x,w,E,C,S,k,A,I,B,q,L,J,R,j,W,H,Y,U,X,K,tP,tb,t_]},tv=function(){return[x,w,E,C,S,k,T,F,z,V,G,O,L,tn,to,R,Z,Q,tt,te,ts,ti,tr,ta,Y,U,th,tm,tk,tb]},tb=function(t){return postMessage(t,[t.buffer])},t_=function(t){return t&&{out:t.size&&new x(t.size),dictionary:t.dictionary}},tx=function(t,e,s,i,r,a){var n=tg(s,i,r,function(t,e){n.terminate(),a(t,e)});return n.postMessage([t,e],e.consume?[t.buffer]:[]),function(){n.terminate()}},tw=function(t,e){return t[e]|t[e+1]<<8},tE=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},tC=function(t,e){return tE(t,e)+0x100000000*tE(t,e+4)},tS=function(t,e,s){for(;s;++e)t[e]=s,s>>>=8};function tk(t,e){return tm(t,e||{},0,0)}function tP(t,e){return K(t,{i:2},e&&e.out,e&&e.dictionary)}var tM=function(t,e,s,i){for(var r in t){var a=t[r],n=e+r,o=i;Array.isArray(a)&&(o=tc(i,a[1]),a=a[0]),a instanceof x?s[n]=[a,o]:(s[n+="/"]=[new x(0),o],tM(a,n,s,i))}},tA="undefined"!=typeof TextEncoder&&new TextEncoder,tT="undefined"!=typeof TextDecoder&&new TextDecoder;try{tT.decode(to,{stream:!0})}catch(t){}var tD=function(t){for(var e="",s=0;;){var i=t[s++],r=(i>127)+(i>223)+(i>239);if(s+r>t.length)return{s:e,r:U(t,s-1)};r?3==r?e+=String.fromCharCode(55296|(i=((15&i)<<18|(63&t[s++])<<12|(63&t[s++])<<6|63&t[s++])-65536)>>10,56320|1023&i):1&r?e+=String.fromCharCode((31&i)<<6|63&t[s++]):e+=String.fromCharCode((15&i)<<12|(63&t[s++])<<6|63&t[s++]):e+=String.fromCharCode(i)}};function tI(t,e){if(e){for(var s=new x(t.length),i=0;i<t.length;++i)s[i]=t.charCodeAt(i);return s}if(tA)return tA.encode(t);for(var r=t.length,a=new x(t.length+(t.length>>1)),n=0,o=function(t){a[n++]=t},i=0;i<r;++i){if(n+5>a.length){var h=new x(n+8+(r-i<<1));h.set(a),a=h}var l=t.charCodeAt(i);l<128||e?o(l):(l<2048?o(192|l>>6):(l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++i))>>18),o(128|l>>12&63)):o(224|l>>12),o(128|l>>6&63)),o(128|63&l))}return U(a,0,n)}function tF(t,e){if(e){for(var s="",i=0;i<t.length;i+=16384)s+=String.fromCharCode.apply(null,t.subarray(i,i+16384));return s}if(tT)return tT.decode(t);var r=tD(t),a=r.s,s=r.r;return s.length&&X(8),a}var tL=function(t,e,s){var i=tw(t,e+28),r=tF(t.subarray(e+46,e+46+i),!(2048&tw(t,e+8))),a=e+46+i,n=tE(t,e+20),o=s&&0xffffffff==n?t$(t,a):[n,tE(t,e+24),tE(t,e+42)],h=o[0],l=o[1],p=o[2];return[tw(t,e+10),h,l,r,a+tw(t,e+30)+tw(t,e+32),p]},t$=function(t,e){for(;1!=tw(t,e);e+=4+tw(t,e+2));return[tC(t,e+12),tC(t,e+4),tC(t,e+20)]},tN=function(t){var e=0;if(t)for(var s in t){var i=t[s].length;i>65535&&X(9),e+=i+4}return e},tR=function(t,e,s,i,r,a,n,o){var h=i.length,l=s.extra,p=o&&o.length,m=tN(l);tS(t,e,null!=n?0x2014b50:0x4034b50),e+=4,null!=n&&(t[e++]=20,t[e++]=s.os),t[e]=20,e+=2,t[e++]=s.flag<<1|(a<0&&8),t[e++]=r&&8,t[e++]=255&s.compression,t[e++]=s.compression>>8;var c=new Date(null==s.mtime?Date.now():s.mtime),d=c.getFullYear()-1980;if((d<0||d>119)&&X(10),tS(t,e,d<<25|c.getMonth()+1<<21|c.getDate()<<16|c.getHours()<<11|c.getMinutes()<<5|c.getSeconds()>>1),e+=4,-1!=a&&(tS(t,e,s.crc),tS(t,e+4,a<0?-a-2:a),tS(t,e+8,s.size)),tS(t,e+12,h),tS(t,e+14,m),e+=16,null!=n&&(tS(t,e,p),tS(t,e+6,s.attrs),tS(t,e+10,n),e+=14),t.set(i,e),e+=h,m)for(var u in l){var f=l[u],g=f.length;tS(t,e,+u),tS(t,e+2,g),t.set(f,e+4),e+=4+g}return p&&(t.set(o,e),e+=p),e},tV=function(t,e,s,i,r){tS(t,e,0x6054b50),tS(t,e+8,s),tS(t,e+10,s),tS(t,e+12,i),tS(t,e+16,r)},tO="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(t){t()};let tz=Symbol("UPDATE_ON_CONNECTED");i()&&(global.HTMLElement=class{});class tB extends HTMLElement{constructor(){super(),tz in this&&(this[tz]=[]);let{observedProperties:t=[]}=this.constructor,{length:e}=t;for(let s=0;s<e;s++){let e=this[t[s]],i=Symbol(t[s]);this[i]=e,Object.defineProperty(this,t[s],{get(){return this[i]},set(e){let r=this[i];this[i]=e,this.propertyChangedCallback(t[s],r,e)}}),void 0!==e&&tz in this&&Array.isArray(this[tz])&&this[tz].push(t[s])}}async connectedCallback(){let t=[];tz in this&&Array.isArray(this[tz])&&(t=this[tz]);let{length:e}=t;for(let s=0;s<e;s++)"propertyChangedCallback"in this&&"function"==typeof this.propertyChangedCallback&&t[s]in this&&this.propertyChangedCallback(t[s],void 0,this[t[s]])}propertyChangedCallback(t,e,s){throw Error(`${this.constructor.name}: Method propertyChangedCallback is not implemented`)}}var tG=((h={}).Contain="contain",h.Cover="cover",h.Fill="fill",h.None="none",h.ScaleDown="scale-down",h),tq=((l={}).Completed="completed",l.Destroyed="destroyed",l.Error="error",l.Frozen="frozen",l.Loading="loading",l.Paused="paused",l.Playing="playing",l.Stopped="stopped",l),tj=((p={}).Bounce="bounce",p.Normal="normal",p),tW=((m={}).Complete="complete",m.Destroyed="destroyed",m.Error="error",m.Frame="frame",m.Freeze="freeze",m.Load="load",m.Loop="loop",m.Next="next",m.Pause="pause",m.Play="play",m.Previous="previous",m.Ready="ready",m.Rendered="rendered",m.Stop="stop",m),tH=((c={}).Contain="xMidYMid meet",c.Cover="xMidYMid slice",c.Initial="none",c.None="xMinYMin slice",c),tY=((d={}).Canvas="canvas",d.HTML="html",d.SVG="svg",d);function tU(){if(!this.shadow)throw Error("No Shadow Element");let t=this.shadow.querySelector("slot[name=controls]");if(!t)return;if(!this.controls){t.innerHTML="";return}t.innerHTML=`<div class="lottie-controls toolbar ${this.playerState===tq.Error?"has-error":""}" aria-label="Lottie Animation controls"><button class="togglePlay" data-active="false" aria-label="Toggle Play/Pause"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z"/></svg></button> <button class="stop" data-active="true" aria-label="Stop"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M6 6h12v12H6V6z"/></svg></button> <button class="prev" aria-label="Previous animation" hidden><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M17.9 18.2 8.1 12l9.8-6.2v12.4zm-10.3 0H6.1V5.8h1.5v12.4z"/></svg></button> <button class="next" aria-label="Next animation" hidden><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="m6.1 5.8 9.8 6.2-9.8 6.2V5.8zM16.4 5.8h1.5v12.4h-1.5z"/></svg></button><form class="progress-container${this.simple?" simple":""}"><input class="seeker" type="range" min="0" max="100" step="1" value="${this._seeker.toString()}" aria-valuemin="0" aria-valuemax="100" role="slider" aria-valuenow="${this._seeker.toString()}" tabindex="0" aria-label="Slider for search"><progress max="100" value="${this._seeker}"></progress></form>${this.simple?"":`<button class="toggleLoop" data-active="${this.loop}" tabindex="0" aria-label="Toggle loop"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"/></svg></button> <button class="toggleBoomerang" data-active="${this.mode===tj.Bounce}" aria-label="Toggle boomerang" tabindex="0"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="m11.8 13.2-.3.3c-.5.5-1.1 1.1-1.7 1.5-.5.4-1 .6-1.5.8-.5.2-1.1.3-1.6.3s-1-.1-1.5-.3c-.6-.2-1-.5-1.4-1-.5-.6-.8-1.2-.9-1.9-.2-.9-.1-1.8.3-2.6.3-.7.8-1.2 1.3-1.6.3-.2.6-.4 1-.5.2-.2.5-.2.8-.3.3 0 .7-.1 1 0 .3 0 .6.1.9.2.9.3 1.7.9 2.4 1.5.4.4.8.7 1.1 1.1l.1.1.4-.4c.6-.6 1.2-1.2 1.9-1.6.5-.3 1-.6 1.5-.7.4-.1.7-.2 1-.2h.9c1 .1 1.9.5 2.6 1.4.4.5.7 1.1.8 1.8.2.9.1 1.7-.2 2.5-.4.9-1 1.5-1.8 2-.4.2-.7.4-1.1.4-.4.1-.8.1-1.2.1-.5 0-.9-.1-1.3-.3-.8-.3-1.5-.9-2.1-1.5-.4-.4-.8-.7-1.1-1.1h-.3zm-1.1-1.1c-.1-.1-.1-.1 0 0-.3-.3-.6-.6-.8-.9-.5-.5-1-.9-1.6-1.2-.4-.3-.8-.4-1.3-.4-.4 0-.8 0-1.1.2-.5.2-.9.6-1.1 1-.2.3-.3.7-.3 1.1 0 .3 0 .6.1.9.1.5.4.9.8 1.2.5.4 1.1.5 1.7.5.5 0 1-.2 1.5-.5.6-.4 1.1-.8 1.6-1.3.1-.3.3-.5.5-.6zM13 12c.5.5 1 1 1.5 1.4.5.5 1.1.9 1.9 1 .4.1.8 0 1.2-.1.3-.1.6-.3.9-.5.4-.4.7-.9.8-1.4.1-.5 0-.9-.1-1.4-.3-.8-.8-1.2-1.7-1.4-.4-.1-.8-.1-1.2 0-.5.1-1 .4-1.4.7-.5.4-1 .8-1.4 1.2-.2.2-.4.3-.5.5z"/></svg></button> <button class="toggleSettings" aria-label="Settings" aria-haspopup="true" aria-expanded="${!!this._isSettingsOpen}" aria-controls="${this._identifier}-settings"><svg width="24" height="24" aria-hidden="true" focusable="false"><circle cx="12" cy="5.4" r="2.5"/><circle cx="12" cy="12" r="2.5"/><circle cx="12" cy="18.6" r="2.5"/></svg></button><div id="${this._identifier}-settings" class="popover" hidden><button class="convert" aria-label="Convert JSON animation to dotLottie format" hidden><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"/></svg> Convert to dotLottie</button> <button class="snapshot" aria-label="Download still image"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M16.8 10.8 12 15.6l-4.8-4.8h3V3.6h3.6v7.2h3zM12 15.6H3v4.8h18v-4.8h-9zm7.8 2.4h-2.4v-1.2h2.4V18z"/></svg> Download still image</button></div>`}</div>`;let e=this.shadow.querySelector(".togglePlay");e instanceof HTMLButtonElement&&(e.onclick=this.togglePlay);let s=this.shadow.querySelector(".stop");s instanceof HTMLButtonElement&&(s.onclick=this.stop);let i=this.shadow.querySelector(".prev");i instanceof HTMLButtonElement&&(i.onclick=this.prev);let r=this.shadow.querySelector(".next");r instanceof HTMLButtonElement&&(r.onclick=this.next);let a=this.shadow.querySelector(".seeker");if(a instanceof HTMLInputElement&&(a.onchange=this._handleSeekChange,a.onmousedown=this._freeze),!this.simple){let t=this.shadow.querySelector(".toggleLoop");t instanceof HTMLButtonElement&&(t.onclick=this.toggleLoop);let e=this.shadow.querySelector(".toggleBoomerang");e instanceof HTMLButtonElement&&(e.onclick=this.toggleBoomerang);let s=this.shadow.querySelector(".convert");s instanceof HTMLButtonElement&&(s.onclick=this.convert);let i=this.shadow.querySelector(".snapshot");i instanceof HTMLButtonElement&&(i.onclick=()=>this.snapshot(!0));let r=this.shadow.querySelector(".toggleSettings");r instanceof HTMLButtonElement&&(r.onclick=this._handleSettingsClick,r.onblur=this._handleBlur)}}async function tJ(){if(!this.shadow)throw Error("No Shadow Element");this.template.innerHTML=`<div class="animation-container main" data-controls="${this.controls??!1}" lang="${this.description?document.documentElement.lang:"en"}" aria-label="${this.description??"Lottie animation"}" data-loaded="${this._playerState.loaded}"><figure class="animation" style="background:${this.background}">${this.playerState===tq.Error?`<div class="error"><svg preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="1920" height="1080" viewBox="0 0 1920 1080"><path fill="#fff" d="M0 0h1920v1080H0z"/><path fill="#3a6d8b" d="M1190.2 531 1007 212.4c-22-38.2-77.2-38-98.8.5L729.5 531.3c-21.3 37.9 6.1 84.6 49.5 84.6l361.9.3c43.7 0 71.1-47.3 49.3-85.2zM937.3 288.7c.2-7.5 3.3-23.9 23.2-23.9 16.3 0 23 16.1 23 23.5 0 55.3-10.7 197.2-12.2 214.5-.1 1-.9 1.7-1.9 1.7h-18.3c-1 0-1.8-.7-1.9-1.7-1.4-17.5-13.4-162.9-11.9-214.1zm24.2 283.8c-13.1 0-23.7-10.6-23.7-23.7s10.6-23.7 23.7-23.7 23.7 10.6 23.7 23.7-10.6 23.7-23.7 23.7zM722.1 644h112.6v34.4h-70.4V698h58.8v31.7h-58.8v22.6h72.4v36.2H722.1V644zm162 57.1h.6c8.3-12.9 18.2-17.8 31.3-17.8 3 0 5.1.4 6.3 1v32.6h-.8c-22.4-3.8-35.6 6.3-35.6 29.5v42.3h-38.2V685.5h36.4v15.6zm78.9 0h.6c8.3-12.9 18.2-17.8 31.3-17.8 3 0 5.1.4 6.3 1v32.6h-.8c-22.4-3.8-35.6 6.3-35.6 29.5v42.3h-38.2V685.5H963v15.6zm39.5 36.2c0-31.3 22.2-54.8 56.6-54.8 34.4 0 56.2 23.5 56.2 54.8s-21.8 54.6-56.2 54.6c-34.4-.1-56.6-23.3-56.6-54.6zm74 0c0-17.4-6.1-29.1-17.8-29.1-11.7 0-17.4 11.7-17.4 29.1 0 17.4 5.7 29.1 17.4 29.1s17.8-11.8 17.8-29.1zm83.1-36.2h.6c8.3-12.9 18.2-17.8 31.3-17.8 3 0 5.1.4 6.3 1v32.6h-.8c-22.4-3.8-35.6 6.3-35.6 29.5v42.3h-38.2V685.5h36.4v15.6z"/><path fill="none" d="M718.9 807.7h645v285.4h-645z"/><text fill="#3a6d8b" style="text-align:center;position:absolute;left:100%;font-size:47px;font-family:system-ui,-apple-system,BlinkMacSystemFont,'.SFNSText-Regular',sans-serif" x="50%" y="848.017" text-anchor="middle">${this._errorMessage}</text></svg></div>`:""}</figure><slot name="controls"></slot></div>`,this.shadow.adoptedStyleSheets=[await em.styles()],this.shadow.appendChild(this.template.content.cloneNode(!0))}let tX=t=>{let e=t?.split("/").pop()?.lastIndexOf(".");return(e??0)>1&&t&&t.length-1>(e??0)},tK=t=>{switch(t){case tG.Contain:case tG.ScaleDown:return g.Contain;case tG.Cover:return g.Cover;case tG.Fill:return g.Initial;case tG.None:return g.None;default:return g.Contain}},tZ=(t,e)=>{let s=new Blob([t],{type:e?.mimeType}),i=e?.name||r(),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=i,n.hidden=!0,document.body.appendChild(n),n.click(),setTimeout(()=>{n.remove(),URL.revokeObjectURL(a)},1e3)},tQ=t=>{if("string"==typeof t&&t&&tX(t))return t.split(".").pop()?.toLowerCase()},t0=(t,e)=>(tQ(t),`${t.split("/").pop()?.replace(/\.[^.]*$/,"").replaceAll(/\W+/g,"-")}`),t1=(t,e)=>{if(e)return tQ(e)?tQ(e)===t?e:`${t0(e)}.${t}`:`${e}.${t}`},t2=t=>t.slice(Math.max(0,t.indexOf(",")+1)),t3=t=>tI(i()?Buffer.from(t2(t),"base64").toString("binary"):atob(t2(t)),!0),t5=t=>t.split(":")[1].split(";")[0].split("/")[1].split("+")[0],t4=t=>{let e={message:"Unknown error",status:i()?500:400};return t&&"object"==typeof t&&("message"in t&&"string"==typeof t.message&&(e.message=t.message),"status"in t&&(e.status=Number(t.status))),e},t6=t=>!("h"in t)&&!("w"in t)&&"p"in t&&"e"in t&&"u"in t&&"id"in t,t8=t=>"w"in t&&"h"in t&&!("xt"in t)&&"p"in t,t9=t=>((t??0)+1).toString().padStart(3,"0"),t7=async t=>await new Promise((e,s)=>{!function(t,e,s){s||(s=e,e={}),"function"!=typeof s&&X(7);var i={};tM(t,"",i,e);var r=Object.keys(i),a=r.length,n=0,o=0,h=a,l=Array(a),p=[],m=function(){for(var t=0;t<p.length;++t)p[t]()},c=function(t,e){tO(function(){s(t,e)})};tO(function(){c=s});var d=function(){var t=new x(o+22),e=n,s=o-n;o=0;for(var i=0;i<h;++i){var r=l[i];try{var a=r.c.length;tR(t,o,r,r.f,r.u,a);var p=30+r.f.length+tN(r.extra),m=o+p;t.set(r.c,m),tR(t,n,r,r.f,r.u,a,o,r.m),n+=16+p+(r.m?r.m.length:0),o=m+a}catch(t){return c(t,null)}}tV(t,n,l.length,s,e),c(null,t)};a||d();for(var u=function(t){var e,s,h=r[t],u=i[h],f=u[0],g=u[1],y=tp(),v=f.length;y.p(f);var b=tI(h),_=b.length,x=g.comment,w=x&&tI(x),E=w&&w.length,C=tN(g.extra),S=8*(0!=g.level),k=function(e,s){if(e)m(),c(e,null);else{var i=s.length;l[t]=tc(g,{size:v,crc:y.d(),c:s,f:b,m:w,u:_!=h.length||w&&x.length!=E,compression:S}),n+=30+_+C+i,o+=76+2*(_+C)+(E||0)+i,--a||d()}};if(_>65535&&k(X(11,0,1),null),S)if(v<16e4)try{k(null,tk(f,g))}catch(t){k(t,null)}else p.push((e=g,(s=k)||(s=e,e={}),"function"!=typeof s&&X(7),tx(f,e,[tv],function(t){return tb(tk(t.data[0],t.data[1]))},0,s)));else k(null,f)},f=0;f<h;++f)u(f)}(t,{level:9},(t,i)=>t?void s(t):i.buffer instanceof ArrayBuffer?void e(i.buffer):void s(Error("Data is not transferable")))}),et=async t=>{let e=await fetch(t),s=await e.blob();return new Promise((t,e)=>{try{let i=new FileReader;i.onload=()=>{if("string"==typeof i.result)return void t(i.result);e(Error("Could not create bas64"))},i.readAsDataURL(s)}catch(t){e(t)}})};async function ee({animations:t=[],fileName:e,manifest:s,shouldDownload:i=!0}){try{if(0===t.length||!s)throw Error(`Missing or malformed required parameter(s):
 ${t.length>0?"- manifest\n":""} ${s?"- animations\n":""}`);let a=t1("lottie",e)||`${r()}.lottie`,n={"manifest.json":[tI(JSON.stringify(s),!0),{level:0}]},{length:o}=t;for(let e=0;e<o;e++){let{length:i}=t[e].assets;for(let s=0;s<i;s++){let i=t[e].assets[s];if(!i.p||!t8(i)&&!t6(i))continue;let{p:a,u:o}=i;if(!a)continue;let h=r(),l=a.startsWith("data:"),p=l?t5(a):tQ(a),m=l?a:await et(o?o.endsWith("/")&&`${o}${a}`||`${o}/${a}`:a);t[e].assets[s].e=1,t[e].assets[s].p=`${h}.${p}`,t[e].assets[s].u="",n[`${t6(i)?"audio":"images"}/${h}.${p}`]=[t3(m),{level:9}]}let{length:a}=t[e].layers;for(let s=0;s<a;s++){let{ks:i}=t[e].layers[s],r=Object.keys(i),{length:a}=r;for(let n=0;n<a;n++){let{x:a}=i[r[n]];a&&(t[e].layers[s].ks[r[n]].x=btoa(a),t[e].layers[s].ks[r[n]].e=1)}}n[`a/${s.animations[e].id}.json`]=[tI(JSON.stringify(t[e]),!0),{level:9}]}let h=await t7(n);if(i)return tZ(h,{mimeType:"application/zip",name:a}),null;return h}catch(t){return console.error(t4(t).message),null}}let es=t=>{switch(t){case"svg":case"svg+xml":return"image/svg+xml";case"jpg":case"jpeg":return"image/jpeg";case"png":case"gif":case"webp":case"avif":return`image/${t}`;case"mp3":case"mpeg":case"wav":return`audio/${t}`;default:return""}},ei=t=>!!t&&/^(?:[0-9a-z+/]{4})*(?:[0-9a-z+/]{2}==|[0-9a-z+/]{3}=)?$/i.test(t2(t));async function er(t,e){if(!Array.isArray(e))return;let s=[],{length:r}=e;for(let a=0;a<r;a++){if(!t6(e[a])&&!t8(e[a]))continue;let r=t8(e[a])?"images":"audio",n=t?.[`${r}/${e[a].p}`];n&&s.push(new Promise(t=>{let s;if(i())s=Buffer.from(n).toString("base64");else{let t="",{length:e}=n;for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);s=btoa(t)}e[a].p=e[a].p?.startsWith("data:")||ei(e[a].p)?e[a].p:`data:${es(tQ(e[a].p))};base64,${s}`,e[a].e=1,e[a].u="",t()}))}await Promise.all(s)}let ea=async t=>{let e=new Uint8Array(await t.arrayBuffer());return await new Promise((t,s)=>{!function(t,e,s){s||(s=e,e={}),"function"!=typeof s&&X(7);var i=[],r=function(){for(var t=0;t<i.length;++t)i[t]()},a={},n=function(t,e){tO(function(){s(t,e)})};tO(function(){n=s});for(var o=t.length-22;0x6054b50!=tE(t,o);--o)if(!o||t.length-o>65558)return n(X(13,0,1),null),r;var h=tw(t,o+8);if(h){var l=h,p=tE(t,o+16),m=0xffffffff==p||65535==l;if(m){var c=tE(t,o-12);(m=0x6064b50==tE(t,c))&&(l=h=tE(t,c+32),p=tE(t,c+48))}for(var d=e&&e.filter,u=0;u<l;++u)!function(e){var s=tL(t,p,m),o=s[0],l=s[1],c=s[2],u=s[3],f=s[4],g=s[5],y=g+30+tw(t,g+26)+tw(t,g+28);p=f;var v=function(t,e){t?(r(),n(t,null)):(e&&(a[u]=e),--h||n(null,a))};if(!d||d({name:u,size:l,originalSize:c,compression:o}))if(o)if(8==o){var b,_,w=t.subarray(y,y+l);if(c<524288||l>.8*c)try{v(null,tP(w,{out:new x(c)}))}catch(t){v(t,null)}else i.push((b={size:c},(_=v)||(_=b,b={}),"function"!=typeof _&&X(7),tx(w,b,[ty],function(t){return tb(tP(t.data[0],t_(t.data[1])))},1,_)))}else v(X(14,"unknown compression type "+o,1),null);else v(null,U(t,y,y+l));else v(null,null)}(0)}else n(null,{})}(e,(e,i)=>{e&&s(e),t(i)})})},en=t=>{let e=JSON.parse(tF(t["manifest.json"],!1));if(!("animations"in e))throw Error("Manifest not found");if(0===e.animations.length)throw Error("No animations listed in manifest");return e},eo=t=>t.replaceAll(RegExp(/"""/,"g"),'""').replaceAll(/(["'])(.*?)\1/g,(t,e,s)=>`${e}${s}${e}`);async function eh(t){let e=await ea(t),s=en(e),i=[],r=[],{length:a}=s.animations,n="animations";e[`a/${s.animations[0].id}.json`]&&(n="a");for(let t=0;t<a;t++){let a=JSON.parse(eo(tF(e[`${n}/${s.animations[t].id}.json`]))),{length:o}=a.layers;for(let t=0;t<o;t++){let{ks:e}=a.layers[t],s=Object.keys(e),{length:i}=s;for(let r=0;r<i;r++){let{e:i,x:n}=e[s[r]];n&&i&&(a.layers[t].ks[s[r]].x=atob(n))}}r.push(er(e,a.assets)),i.push(a)}return await Promise.all(r),{data:i,manifest:s}}async function el(t){try{if(!t||"string"!=typeof t&&"object"!=typeof t)throw Error("Broken file or invalid file format");if("string"!=typeof t)return{animations:Array.isArray(t)?t:[t],isDotLottie:!1,manifest:null};let e=await fetch(t,{headers:{"Content-Type":"application/json; charset=UTF-8"}});if(!e.ok)throw Error(e.statusText);let s=!0,i=e.headers.get("content-type");if("application/zip+dotlottie"===i&&(s=!1),s){let s=tQ(t);if("json"===s)return{animations:[await e.json()],isDotLottie:!1,manifest:null};let i=await e.clone().text();try{return{animations:[JSON.parse(i)],isDotLottie:!1,manifest:null}}catch(t){}}let{data:r,manifest:a}=await eh(e);return{animations:r,isDotLottie:!0,manifest:a}}catch(t){return console.error(t4(t).message),{animations:void 0,isDotLottie:!1,manifest:null}}}let ep="@aarsteinmedia/dotlottie-player";class em extends tB{static get observedAttributes(){return["animateOnScroll","autoplay","controls","direction","hover","loop","mode","speed","src","subframe"]}static get observedProperties(){return["playerState","_isSettingsOpen","_seeker","_currentAnimation","_animations"]}static get styles(){return async()=>{let t=new CSSStyleSheet;return await t.replace("* {\n  box-sizing: border-box;\n}\n\n:host {\n  --lottie-player-toolbar-height: 35px;\n  --lottie-player-toolbar-background-color: #fff;\n  --lottie-player-toolbar-icon-color: #000;\n  --lottie-player-toolbar-icon-hover-color: #000;\n  --lottie-player-toolbar-icon-active-color: #4285f4;\n  --lottie-player-seeker-track-color: rgb(0 0 0 / 20%);\n  --lottie-player-seeker-thumb-color: #4285f4;\n  --lottie-player-seeker-display: block;\n\n  width: 100%;\n  height: 100%;\n\n  &:not([hidden]) {\n    display: block;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  .animation {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    margin: 0;\n    padding: 0;\n  }\n\n  [data-controls='true'] .animation {\n    height: calc(100% - 35px);\n  }\n\n  .animation-container {\n    position: relative;\n  }\n\n  .popover {\n    position: absolute;\n    right: 5px;\n    bottom: 40px;\n    background-color: var(--lottie-player-toolbar-background-color);\n    border-radius: 5px;\n    padding: 10px 15px;\n    border: solid 2px var(--lottie-player-toolbar-icon-color);\n    animation: fade-in 0.2s ease-in-out;\n\n    &::before {\n      content: '';\n      right: 10px;\n      border: 7px solid transparent;\n      margin-right: -7px;\n      height: 0;\n      width: 0;\n      position: absolute;\n      pointer-events: none;\n      top: 100%;\n      border-top-color: var(--lottie-player-toolbar-icon-color);\n    }\n  }\n\n  .error {\n    display: flex;\n    margin: auto;\n    justify-content: center;\n    height: 100%;\n    align-items: center;\n\n    & svg {\n      width: 100%;\n      height: auto;\n    }\n  }\n\n  .toolbar {\n    display: flex;\n    place-items: center center;\n    background: var(--lottie-player-toolbar-background-color);\n    margin: 0;\n    height: 35px;\n    padding: 5px;\n    border-radius: 5px;\n    gap: 5px;\n\n    &.has-error {\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n    & button {\n      cursor: pointer;\n      fill: var(--lottie-player-toolbar-icon-color);\n      color: var(--lottie-player-toolbar-icon-color);\n      background: none;\n      border: 0;\n      padding: 0;\n      outline: 0;\n      height: 100%;\n      margin: 0;\n      align-items: center;\n      gap: 5px;\n      opacity: 0.9;\n\n      &:not([hidden]) {\n        display: flex;\n      }\n\n      &:hover {\n        opacity: 1;\n      }\n\n      &[data-active='true'] {\n        opacity: 1;\n        fill: var(--lottie-player-toolbar-icon-active-color);\n      }\n\n      &:disabled {\n        opacity: 0.5;\n      }\n\n      &:focus {\n        outline: 0;\n      }\n\n      & svg {\n        pointer-events: none;\n\n        & > * {\n          fill: inherit;\n        }\n      }\n\n      &.disabled svg {\n        display: none;\n      }\n    }\n  }\n\n  .progress-container {\n    position: relative;\n    width: 100%;\n\n    &.simple {\n      margin-right: 12px;\n    }\n  }\n\n  .seeker {\n    appearance: none;\n    outline: none;\n    width: 100%;\n    height: 20px;\n    border-radius: 3px;\n    border: 0;\n    cursor: pointer;\n    background-color: transparent;\n\n    display: var(--lottie-player-seeker-display);\n    color: var(--lottie-player-seeker-thumb-color);\n    margin: 0;\n    padding: 7.5px 0;\n    position: relative;\n    z-index: 1;\n\n    &::-webkit-slider-runnable-track,\n    &::-webkit-slider-thumb {\n      appearance: none;\n      outline: none;\n    }\n\n    &::-webkit-slider-thumb {\n      height: 15px;\n      width: 15px;\n      border-radius: 50%;\n      border: 0;\n      background-color: var(--lottie-player-seeker-thumb-color);\n      cursor: pointer;\n      -webkit-transition: transform 0.2s ease-in-out;\n      transition: transform 0.2s ease-in-out;\n      transform: scale(0);\n    }\n\n    &:hover::-webkit-slider-thumb,\n    &:focus::-webkit-slider-thumb {\n      transform: scale(1);\n    }\n\n    &::-moz-range-progress {\n      background-color: var(--lottie-player-seeker-thumb-color);\n      height: 5px;\n      border-radius: 3px;\n    }\n\n    &::-moz-range-thumb {\n      height: 15px;\n      width: 15px;\n      border-radius: 50%;\n      background-color: var(--lottie-player-seeker-thumb-color);\n      border: 0;\n      cursor: pointer;\n      -moz-transition: transform 0.2s ease-in-out;\n      transition: transform 0.2s ease-in-out;\n      transform: scale(0);\n    }\n\n    &:hover::-moz-range-thumb,\n    &:focus::-moz-range-thumb {\n      transform: scale(1);\n    }\n\n    &::-ms-track {\n      width: 100%;\n      height: 5px;\n      cursor: pointer;\n      background: transparent;\n      border-color: transparent;\n      color: transparent;\n    }\n\n    &::-ms-fill-upper {\n      background: var(--lottie-player-seeker-track-color);\n      border-radius: 3px;\n    }\n\n    &::-ms-fill-lower {\n      background-color: var(--lottie-player-seeker-thumb-color);\n      border-radius: 3px;\n    }\n\n    &::-ms-thumb {\n      border: 0;\n      height: 15px;\n      width: 15px;\n      border-radius: 50%;\n      background: var(--lottie-player-seeker-thumb-color);\n      cursor: pointer;\n      -ms-transition: transform 0.2s ease-in-out;\n      transition: transform 0.2s ease-in-out;\n      transform: scale(0);\n    }\n\n    &:hover::-ms-thumb {\n      transform: scale(1);\n    }\n\n    &:focus {\n      &::-ms-thumb {\n        transform: scale(1);\n      }\n\n      &::-ms-fill-lower,\n      &::-ms-fill-upper {\n        background: var(--lottie-player-seeker-track-color);\n      }\n    }\n  }\n\n  & progress {\n    appearance: none;\n    outline: none;\n    position: absolute;\n    width: 100%;\n    height: 5px;\n    border-radius: 3px;\n    border: 0;\n    top: 0;\n    left: 0;\n    margin: 7.5px 0;\n    background-color: var(--lottie-player-seeker-track-color);\n    pointer-events: none;\n\n    &::-webkit-progress-inner-element {\n      border-radius: 3px;\n      overflow: hidden;\n    }\n\n    &::-webkit-slider-runnable-track {\n      background-color: transparent;\n    }\n\n    &::-webkit-progress-value {\n      background-color: var(--lottie-player-seeker-thumb-color);\n    }\n  }\n\n  & *::-moz-progress-bar {\n    background-color: var(--lottie-player-seeker-thumb-color);\n  }\n}\n\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n@media (prefers-color-scheme: dark) {\n  :host {\n    --lottie-player-toolbar-background-color: #000;\n    --lottie-player-toolbar-icon-color: #fff;\n    --lottie-player-toolbar-icon-hover-color: #fff;\n    --lottie-player-seeker-track-color: rgb(255 255 255 / 60%);\n  }\n}\n"),t}}set animateOnScroll(t){this.setAttribute("animateOnScroll",(!!t).toString())}get animateOnScroll(){let t=this.getAttribute("animateOnScroll");return"true"===t||""===t||"1"===t}set autoplay(t){this.setAttribute("autoplay",(!!t).toString())}get autoplay(){let t=this.getAttribute("autoplay");return"true"===t||""===t||"1"===t}set background(t){this.setAttribute("background",t)}get background(){return this.getAttribute("background")||"transparent"}set controls(t){this.setAttribute("controls",(!!t).toString())}get controls(){let t=this.getAttribute("controls");return"true"===t||""===t||"1"===t}set count(t){this.setAttribute("count",t.toString())}get count(){let t=this.getAttribute("count");return t?Number(t):0}set description(t){t&&this.setAttribute("description",t)}get description(){return this.getAttribute("description")}set direction(t){this.setAttribute("direction",t.toString())}get direction(){let t=Number(this.getAttribute("direction"));return -1===t?t:1}set hover(t){this.setAttribute("hover",t.toString())}get hover(){let t=this.getAttribute("hover");return"true"===t||""===t||"1"===t}set intermission(t){this.setAttribute("intermission",t.toString())}get intermission(){let t=Number(this.getAttribute("intermission"));return isNaN(t)?0:t}set loop(t){this.setAttribute("loop",(!!t).toString())}get loop(){let t=this.getAttribute("loop");return"true"===t||""===t||"1"===t}set mode(t){this.setAttribute("mode",t.toString())}get mode(){let t=this.getAttribute("mode");return t===tj.Bounce?t:tj.Normal}set objectfit(t){this.setAttribute("objectfit",t)}get objectfit(){let t=this.getAttribute("objectfit");return t&&Object.values(tG).includes(t)?t:tG.Contain}set preserveAspectRatio(t){this.setAttribute("preserveAspectRatio",t||tH.Contain)}get preserveAspectRatio(){let t=this.getAttribute("preserveAspectRatio");return t&&Object.values(tH).includes(t)?t:null}set renderer(t){this.setAttribute("renderer",t)}get renderer(){let t=this.getAttribute("renderer");return t===tY.Canvas||t===tY.HTML?t:tY.SVG}set simple(t){this.setAttribute("simple",t.toString())}get simple(){let t=this.getAttribute("simple");return"true"===t||""===t||"1"===t}set speed(t){this.setAttribute("speed",t.toString())}get speed(){let t=this.getAttribute("speed");return null===t||isNaN(Number(t))?1:Number(t)}set src(t){this.setAttribute("src",t||"")}get src(){return this.getAttribute("src")}set subframe(t){this.setAttribute("subframe",(!!t).toString())}get subframe(){let t=this.getAttribute("subframe");return"true"===t||""===t||"1"===t}constructor(){super(),this.playerState=tq.Loading,this._container=null,this._errorMessage="Something went wrong",this._identifier=this.id||r(),this._isSettingsOpen=!1,this._playerState={count:0,loaded:!1,prev:tq.Loading,scrollTimeout:null,scrollY:0,visible:!1},this._render=tJ,this._renderControls=tU,this._seeker=0,this._animations=[],this._currentAnimation=0,this._isBounce=!1,this._isDotLottie=!1,this._lottieInstance=null,this._multiAnimationSettings=[],this._handleSettingsClick=({target:t})=>{this._toggleSettings(),t instanceof HTMLElement&&t.focus()},this._complete=this._complete.bind(this),this._dataFailed=this._dataFailed.bind(this),this._dataReady=this._dataReady.bind(this),this._DOMLoaded=this._DOMLoaded.bind(this),this._enterFrame=this._enterFrame.bind(this),this._freeze=this._freeze.bind(this),this._handleBlur=this._handleBlur.bind(this),this._handleScroll=this._handleScroll.bind(this),this._handleSeekChange=this._handleSeekChange.bind(this),this._handleWindowBlur=this._handleWindowBlur.bind(this),this._loopComplete=this._loopComplete.bind(this),this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._switchInstance=this._switchInstance.bind(this),this.togglePlay=this.togglePlay.bind(this),this.stop=this.stop.bind(this),this.prev=this.prev.bind(this),this.next=this.next.bind(this),this._renderControls=this._renderControls.bind(this),this.snapshot=this.snapshot.bind(this),this.toggleLoop=this.toggleLoop.bind(this),this.toggleBoomerang=this.toggleBoomerang.bind(this),this.convert=this.convert.bind(this),this.destroy=this.destroy.bind(this),this.template=document.createElement("template"),this.shadow=this.attachShadow({mode:"open"})}async addAnimation(t,e,s=!0){let{animations:i=[],manifest:r={animations:this.src?[{id:this._identifier}]:[]}}=this.src?await el(this.src):{};try{if(!r)throw Error("Manifest is not set");r.generator=ep;let{length:a}=t;for(let e=0;e<a;e++){let{url:s}=t[e],{animations:a}=await el(s);if(!a)throw Error("No animation loaded");if(r.animations.some(({id:s})=>s===t[e].id))throw Error("Duplicate id for animation");r.animations=[...r.animations,{id:t[e].id}],i.push(...a)}return{result:await ee({animations:i,fileName:e,manifest:r,shouldDownload:s}),success:!0}}catch(t){return{error:t4(t).message,success:!1}}}async attributeChangedCallback(t,e,s){if(this._lottieInstance&&this.shadow){if("animateOnScroll"===t){if(""===s||s){this._lottieInstance.autoplay=!1,addEventListener("scroll",this._handleScroll,{capture:!0,passive:!0});return}removeEventListener("scroll",this._handleScroll,!0)}if("autoplay"===t){if(this.animateOnScroll)return;if(""===s||s)return void this.play();this.stop()}if("controls"===t&&this._renderControls(),"direction"===t){if(-1===Number(s))return void this.setDirection(-1);this.setDirection(1)}if("hover"===t&&this._container){if(""===s||s){this._container.addEventListener("mouseenter",this._mouseEnter),this._container.addEventListener("mouseleave",this._mouseLeave);return}this._container.removeEventListener("mouseenter",this._mouseEnter),this._container.removeEventListener("mouseleave",this._mouseLeave)}if("loop"===t){let t=this.shadow.querySelector(".toggleLoop");t instanceof HTMLButtonElement&&(t.dataset.active=s),this.setLoop(""===s||!!s)}if("mode"===t){let t=this.shadow.querySelector(".toggleBoomerang");t instanceof HTMLButtonElement&&(t.dataset.active=(s===tj.Bounce).toString()),this._isBounce=s===tj.Bounce}if("speed"===t){let t=Number(s);t&&!isNaN(t)&&this.setSpeed(t)}"src"===t&&await this.load(s),"subframe"===t&&this.setSubframe(""===s||!!s)}}async connectedCallback(){if(await super.connectedCallback(),await this._render(),!this.shadow)throw Error("Missing Shadow element");this._container=this.shadow.querySelector(".animation"),this._renderControls(),void 0!==document.hidden&&document.addEventListener("visibilitychange",this._onVisibilityChange),this._addIntersectionObserver(),await this.load(this.src),this.dispatchEvent(new CustomEvent(tW.Rendered))}async convert({animations:t,fileName:e,manifest:s,shouldDownload:i=!0,src:a,typeCheck:n}){let o=a||this.src||this.source;if(!o&&!t?.length)throw Error("No animation to convert");let h=t;return(h||(h=(await el(o)).animations),n||this._isDotLottie)?function({animation:t,fileName:e,shouldDownload:s}){try{if(!t)throw Error("createJSON: Missing or malformed required parameter(s):\n - animation\n'");let i=t1("json",e)||`${r()}.json`,a=JSON.stringify(t);if(s)return tZ(a,{mimeType:"application/json",name:i}),null;return a}catch(t){return console.error(t4(t).message),null}}({animation:h?.[0],fileName:`${t0(e||o||"converted")}.json`,shouldDownload:i}):ee({animations:h,fileName:`${t0(e||o||"converted")}.lottie`,manifest:{...s??this._manifest,generator:ep},shouldDownload:i})}destroy(){this._lottieInstance?.destroy&&(this.playerState=tq.Destroyed,this._lottieInstance.destroy(),this._lottieInstance=null,this.dispatchEvent(new CustomEvent(tW.Destroyed)),this.remove(),document.removeEventListener("visibilitychange",this._onVisibilityChange))}disconnectedCallback(){this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=void 0),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.destroy()}getLottie(){return this._lottieInstance}getManifest(){return this._manifest}getMultiAnimationSettings(){return this._multiAnimationSettings}getSegment(){return this._segment}async load(t){if(!this.shadowRoot||!t)return;this.source=t;try{let{animations:e,isDotLottie:s,manifest:i}=await el(t);if(!e||e.some(t=>!this._isLottie(t)))throw Error("Broken or corrupted file");this._isBounce=this.mode===tj.Bounce,this._multiAnimationSettings.length>0&&this._multiAnimationSettings[this._currentAnimation]?.mode&&(this._isBounce=this._multiAnimationSettings[this._currentAnimation].mode===tj.Bounce),i?.animations.length===1&&(i.animations[0].autoplay=this.autoplay,i.animations[0].loop=this.loop),this._isDotLottie=!!s,this._animations=e,this._manifest=i??{animations:[{autoplay:!this.animateOnScroll&&this.autoplay,direction:this.direction,id:r(),loop:this.loop,mode:this.mode,speed:this.speed}]},this._lottieInstance?.destroy(),this.playerState=tq.Stopped,!this.animateOnScroll&&(this.autoplay||this._multiAnimationSettings[this._currentAnimation]?.autoplay)&&(this.playerState=tq.Playing),this._lottieInstance=v.loadAnimation({...this._getOptions(),animationData:e[this._currentAnimation]})}catch(t){this._errorMessage=t4(t).message,this.playerState=tq.Error,this.dispatchEvent(new CustomEvent(tW.Error)),console.error(t);return}this._addEventListeners();let e=this._multiAnimationSettings[this._currentAnimation]?.speed??this.speed,s=this._multiAnimationSettings[this._currentAnimation]?.direction??this.direction;this._lottieInstance.setSpeed(e),this._lottieInstance.setDirection(s),this._lottieInstance.setSubframe(!!this.subframe),(this.autoplay||this.animateOnScroll)&&(-1===this.direction&&this.seek("99%"),"IntersectionObserver"in window||(this.animateOnScroll||this.play(),this._playerState.visible=!0),this._addIntersectionObserver())}next(){this._currentAnimation++,this._switchInstance()}pause(){if(this._lottieInstance){this._playerState.prev=this.playerState;try{this._lottieInstance.pause(),this.dispatchEvent(new CustomEvent(tW.Pause))}finally{this.playerState=tq.Paused}}}play(){if(this._lottieInstance){this._playerState.prev=this.playerState;try{this._lottieInstance.play(),this.dispatchEvent(new CustomEvent(tW.Play))}finally{this.playerState=tq.Playing}}}prev(){this._currentAnimation--,this._switchInstance(!0)}propertyChangedCallback(t,e,s){if(!this.shadow)return;let i=this.shadow.querySelector(".togglePlay"),r=this.shadow.querySelector(".stop"),a=this.shadow.querySelector(".prev"),n=this.shadow.querySelector(".next"),o=this.shadow.querySelector(".seeker"),h=this.shadow.querySelector("progress"),l=this.shadow.querySelector(".popover"),p=this.shadow.querySelector(".convert"),m=this.shadow.querySelector(".snapshot");i instanceof HTMLButtonElement&&r instanceof HTMLButtonElement&&n instanceof HTMLButtonElement&&a instanceof HTMLButtonElement&&o instanceof HTMLInputElement&&h instanceof HTMLProgressElement&&("playerState"===t&&(i.dataset.active=(s===tq.Playing||s===tq.Paused).toString(),r.dataset.active=(s===tq.Stopped).toString(),s===tq.Playing?i.innerHTML='<svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"/></svg>':i.innerHTML='<svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z"/></svg>'),"_seeker"===t&&"number"==typeof s&&(o.value=s.toString(),o.ariaValueNow=s.toString(),h.value=s),"_animations"===t&&Array.isArray(s)&&this._currentAnimation+1<s.length&&(n.hidden=!1),"_currentAnimation"===t&&"number"==typeof s&&(n.hidden=s+1>=this._animations.length,a.hidden=!s),"_isSettingsOpen"===t&&"boolean"==typeof s&&l instanceof HTMLDivElement&&p instanceof HTMLButtonElement&&m instanceof HTMLButtonElement&&(l.hidden=!s,p.hidden=!1,m.hidden=this.renderer!==tY.SVG,this._isDotLottie?(p.ariaLabel="Convert dotLottie to JSON",p.innerHTML=p.innerHTML.replace("dotLottie","JSON")):(p.ariaLabel="Convert JSON animation to dotLottie format",p.innerHTML=p.innerHTML.replace("JSON","dotLottie"))))}async reload(){this._lottieInstance&&this.src&&(this._lottieInstance.destroy(),await this.load(this.src))}seek(t){if(!this._lottieInstance)return;let e=t.toString().match(/^(\d+)(%?)$/);if(!e)return;let s=Math.round("%"===e[2]?this._lottieInstance.totalFrames*Number(e[1])/100:Number(e[1]));if(this._seeker=s,this.playerState===tq.Playing||this.playerState===tq.Frozen&&this._playerState.prev===tq.Playing){this._lottieInstance.goToAndPlay(s,!0),this.playerState=tq.Playing;return}this._lottieInstance.goToAndStop(s,!0),this._lottieInstance.pause()}setCount(t){this.count=t}setDirection(t){this._lottieInstance&&this._lottieInstance.setDirection(t)}setLoop(t){this._lottieInstance&&this._lottieInstance.setLoop(t)}setMultiAnimationSettings(t){this._multiAnimationSettings=t}setSegment(t){this._segment=t}setSpeed(t=1){this._lottieInstance&&this._lottieInstance.setSpeed(t)}setSubframe(t){this._lottieInstance&&this._lottieInstance.setSubframe(t)}snapshot(t=!0,e="AM Lottie"){try{if(!this.shadowRoot)throw Error("Unknown error");let s=this.shadowRoot.querySelector(".animation svg");if(!s)throw Error("Could not retrieve animation from DOM");let i=s instanceof Node?new XMLSerializer().serializeToString(s):null;if(!i)throw Error("Could not serialize SVG element");return t&&tZ(i,{mimeType:"image/svg+xml",name:`${t0(this.src||e)}-${t9(this._seeker)}.svg`}),i}catch(t){return console.error(t),null}}stop(){if(this._lottieInstance){this._playerState.prev=this.playerState,this._playerState.count=0;try{this._lottieInstance.stop(),this.dispatchEvent(new CustomEvent(tW.Stop))}finally{this.playerState=tq.Stopped}}}toggleBoomerang(){let t=this._multiAnimationSettings[this._currentAnimation];if(void 0!==t.mode){if(t.mode===tj.Normal){t.mode=tj.Bounce,this._isBounce=!0;return}t.mode=tj.Normal,this._isBounce=!1;return}if(this.mode===tj.Normal){this.mode=tj.Bounce,this._isBounce=!0;return}this.mode=tj.Normal,this._isBounce=!1}toggleLoop(){let t=!this.loop;this.loop=t,this.setLoop(t)}togglePlay(){if(!this._lottieInstance)return;let{currentFrame:t,playDirection:e,totalFrames:s}=this._lottieInstance;if(this.playerState===tq.Playing)return void this.pause();if(this.playerState!==tq.Completed)return void this.play();if(this.playerState=tq.Playing,this._isBounce){this.setDirection(-1*e),this._lottieInstance.goToAndPlay(t,!0);return}if(-1===e)return void this._lottieInstance.goToAndPlay(s,!0);this._lottieInstance.goToAndPlay(0,!0)}_freeze(){if(this._lottieInstance){this._playerState.prev=this.playerState;try{this._lottieInstance.pause(),this.dispatchEvent(new CustomEvent(tW.Freeze))}finally{this.playerState=tq.Frozen}}}_handleBlur(){setTimeout(()=>{this._toggleSettings(!1)},200)}_handleSeekChange({target:t}){!(!(t instanceof HTMLInputElement)||!this._lottieInstance||isNaN(Number(t.value)))&&this.seek(Math.round(Number(t.value)/100*this._lottieInstance.totalFrames))}_addEventListeners(){this._toggleEventListeners("add")}_addIntersectionObserver(){this._container&&!this._intersectionObserver&&"IntersectionObserver"in window&&(this._intersectionObserver=new IntersectionObserver(t=>{let{length:e}=t;for(let s=0;s<e;s++){if(!t[s].isIntersecting||document.hidden){this.playerState===tq.Playing&&this._freeze(),this._playerState.visible=!1;continue}this.animateOnScroll||this.playerState!==tq.Frozen||this.play(),this._playerState.scrollY||(this._playerState.scrollY=scrollY),this._playerState.visible=!0}}),this._intersectionObserver.observe(this._container))}_complete(){if(!this._lottieInstance)return;if(this._animations.length>1){if(this._multiAnimationSettings[this._currentAnimation+1]?.autoplay)return void this.next();if(this.loop&&this._currentAnimation===this._animations.length-1){this._currentAnimation=0,this._switchInstance();return}}let{currentFrame:t,totalFrames:e}=this._lottieInstance;this._seeker=Math.round(t/e*100),this.playerState=tq.Completed,this.dispatchEvent(new CustomEvent(tW.Complete,{detail:{frame:t,seeker:this._seeker}}))}_dataFailed(){this.playerState=tq.Error,this.dispatchEvent(new CustomEvent(tW.Error))}_dataReady(){this.dispatchEvent(new CustomEvent(tW.Load))}_DOMLoaded(){this._playerState.loaded=!0,this.dispatchEvent(new CustomEvent(tW.Ready))}_enterFrame(){if(!this._lottieInstance)return;let{currentFrame:t,totalFrames:e}=this._lottieInstance;this._seeker=Math.round(t/e*100),this.dispatchEvent(new CustomEvent(tW.Frame,{detail:{frame:t,seeker:this._seeker}}))}_getOptions(){if(!this._container)throw Error("Container not rendered");let t=this.preserveAspectRatio??tK(this.objectfit),e=this._multiAnimationSettings.length>0?this._multiAnimationSettings[this._currentAnimation]:void 0,s=this._manifest?.animations[this._currentAnimation],i=!!this.loop;s?.loop!==void 0&&(i=!!s.loop),e?.loop!==void 0&&(i=!!e.loop);let r=!!this.autoplay;s?.autoplay!==void 0&&(r=!!s.autoplay),e?.autoplay!==void 0&&(r=!!e.autoplay),this.animateOnScroll&&(r=!1);let a=this._segment;this._segment?.every(t=>t>0)&&(a=[this._segment[0]-1,this._segment[1]-1]),this._segment?.some(t=>t<0)&&(a=void 0);let n={autoplay:r,container:this._container,initialSegment:a,loop:i,renderer:this.renderer,rendererSettings:{imagePreserveAspectRatio:t}};switch(this.renderer){case tY.SVG:n.rendererSettings={...n.rendererSettings,hideOnTransparent:!0,preserveAspectRatio:t,progressiveLoad:!0};break;case tY.Canvas:n.rendererSettings={...n.rendererSettings,clearCanvas:!0,preserveAspectRatio:t,progressiveLoad:!0};break;case tY.HTML:n.rendererSettings={...n.rendererSettings,hideOnTransparent:!0}}return n}_handleScroll(){if(this.animateOnScroll&&this._lottieInstance){if(i())return void console.warn("DotLottie: Scroll animations might not work properly in a Server Side Rendering context. Try to wrap this in a client component.");if(this._playerState.visible){this._playerState.scrollTimeout&&clearTimeout(this._playerState.scrollTimeout),this._playerState.scrollTimeout=setTimeout(()=>{this.playerState=tq.Paused},400);let t=Math.min(Math.max((scrollY>this._playerState.scrollY?scrollY-this._playerState.scrollY:this._playerState.scrollY-scrollY)/3,1),3*this._lottieInstance.totalFrames)/3;requestAnimationFrame(()=>{t<(this._lottieInstance?.totalFrames??0)?(this.playerState=tq.Playing,this._lottieInstance?.goToAndStop(t,!0)):this.playerState=tq.Paused})}}}_handleWindowBlur({type:t}){this.playerState===tq.Playing&&"blur"===t&&this._freeze(),this.playerState===tq.Frozen&&"focus"===t&&this.play()}_isLottie(t){return["v","ip","op","layers","fr","w","h"].every(e=>Object.hasOwn(t,e))}_loopComplete(){if(!this._lottieInstance)return;let{playDirection:t,totalFrames:e}=this._lottieInstance,s=this._segment?this._segment[0]:0,i=this._segment?this._segment[0]:e;if(this.count&&(this._isBounce?this._playerState.count+=.5:this._playerState.count+=1,this._playerState.count>=this.count)){this.setLoop(!1),this.playerState=tq.Completed,this.dispatchEvent(new CustomEvent(tW.Complete));return}return(this.dispatchEvent(new CustomEvent(tW.Loop)),this._isBounce)?(this._lottieInstance.goToAndStop(-1===t?s:.99*i,!0),this._lottieInstance.setDirection(-1*t),setTimeout(()=>{this.animateOnScroll||this._lottieInstance?.play()},this.intermission)):(this._lottieInstance.goToAndStop(-1===t?.99*i:s,!0),setTimeout(()=>{this.animateOnScroll||this._lottieInstance?.play()},this.intermission))}_mouseEnter(){this.hover&&this.playerState!==tq.Playing&&this.play()}_mouseLeave(){this.hover&&this.playerState===tq.Playing&&this.stop()}_onVisibilityChange(){if(document.hidden&&this.playerState===tq.Playing)return void this._freeze();this.playerState===tq.Frozen&&this.play()}_removeEventListeners(){this._toggleEventListeners("remove")}_switchInstance(t=!1){if(this._animations[this._currentAnimation])try{if(this._lottieInstance&&this._lottieInstance.destroy(),this._lottieInstance=v.loadAnimation({...this._getOptions(),animationData:this._animations[this._currentAnimation]}),this._multiAnimationSettings[this._currentAnimation]?.mode&&(this._isBounce=this._multiAnimationSettings[this._currentAnimation].mode===tj.Bounce),this._removeEventListeners(),this._addEventListeners(),this.dispatchEvent(new CustomEvent(t?tW.Previous:tW.Next)),this._multiAnimationSettings[this._currentAnimation]?.autoplay??this.autoplay){if(this.animateOnScroll){this._lottieInstance.goToAndStop(0,!0),this.playerState=tq.Paused;return}this._lottieInstance.goToAndPlay(0,!0),this.playerState=tq.Playing;return}this._lottieInstance.goToAndStop(0,!0),this.playerState=tq.Stopped}catch(t){this._errorMessage=t4(t).message,this.playerState=tq.Error,this.dispatchEvent(new CustomEvent(tW.Error))}}_toggleEventListeners(t){let e="add"===t?"addEventListener":"removeEventListener";this._lottieInstance&&(this._lottieInstance[e]("enterFrame",this._enterFrame),this._lottieInstance[e]("complete",this._complete),this._lottieInstance[e]("loopComplete",this._loopComplete),this._lottieInstance[e]("DOMLoaded",this._DOMLoaded),this._lottieInstance[e]("data_ready",this._dataReady),this._lottieInstance[e]("data_failed",this._dataFailed)),this._container&&this.hover&&(this._container[e]("mouseenter",this._mouseEnter),this._container[e]("mouseleave",this._mouseLeave)),window[e]("focus",this._handleWindowBlur,{capture:!1,passive:!0}),window[e]("blur",this._handleWindowBlur,{capture:!1,passive:!0}),this.animateOnScroll&&window[e]("scroll",this._handleScroll,{capture:!0,passive:!0})}_toggleSettings(t){if(void 0===t){this._isSettingsOpen=!this._isSettingsOpen;return}this._isSettingsOpen=t}}globalThis.dotLottiePlayer=()=>new em;let ec="dotlottie-player";i()||customElements.define(ec,em),t.PlayMode=tj,t.PlayerEvents=tW,t.PlayerState=tq,t.default=em,t.tagName=ec,Object.defineProperty(t,"__esModule",{value:!0})}(this["@aarsteinmedia/lottie-web"]=this["@aarsteinmedia/lottie-web"]||{});
